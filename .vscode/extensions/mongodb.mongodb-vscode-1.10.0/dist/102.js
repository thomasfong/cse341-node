"use strict";exports.id=102,exports.ids=[102],exports.modules={21919:(e,t,n)=>{n.d(t,{CG:()=>r,Y2:()=>i,cJ:()=>s});var o=n(68218);const i=(e,t)=>(0,o.w)(e,t).then((e=>{if(e.length)try{return JSON.parse(e)}catch(t){throw"SyntaxError"===t?.name&&Object.defineProperty(t,"$responseBodyText",{value:e}),t}return{}})),r=async(e,t)=>{const n=await i(e,t);return n.message=n.message??n.Message,n},s=(e,t)=>{const n=e=>{let t=e;return"number"==typeof t&&(t=t.toString()),t.indexOf(",")>=0&&(t=t.split(",")[0]),t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},o=(i=e.headers,r="x-amzn-errortype",Object.keys(i).find((e=>e.toLowerCase()===r.toLowerCase())));var i,r;return void 0!==o?n(e.headers[o]):void 0!==t.code?n(t.code):void 0!==t.__type?n(t.__type):void 0}},23102:(e,t,n)=>{n.d(t,{CognitoIdentityClient:()=>CognitoIdentityClient,GetCredentialsForIdentityCommand:()=>GetCredentialsForIdentityCommand,GetIdCommand:()=>GetIdCommand});var o=n(81095),i=n(39359),r=n(48377),s=n(30499),a=n(11487),c=n(27503),d=n(70649),p=n(99389),u=n(1018),l=n(47385),y=n(33448),h=n(47135);const m=async(e,t,n)=>({operation:(0,h.u)(t).operation,region:await(0,h.t)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});const x=e=>{const t=[];switch(e.operation){case"GetCredentialsForIdentity":case"GetId":case"GetOpenIdToken":case"UnlinkIdentity":t.push({schemeId:"smithy.api#noAuth"});break;default:t.push(function(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"cognito-identity",region:e.region},propertiesExtractor:(e,t)=>({signingProperties:{config:e,context:t}})}}(e))}return t},E={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},g="3.621.0";var f=n(85122),v=n(38257),I=n(94041),S=n(91701),w=n(39987),C=n(37778),P=n(7809),b=n(3323),A=n(16228),R=n(82641),$=n(94572),O=n(33197),D=n(66652),M=n(23875);const k="required",z="fn",F="argv",N="ref",q=!0,G="isSet",j="booleanEquals",T="error",U="endpoint",L="tree",K="PartitionResult",H={[k]:!1,type:"String"},B={[k]:!0,default:!1,type:"Boolean"},J={[N]:"Endpoint"},W={[z]:j,[F]:[{[N]:"UseFIPS"},!0]},Y={[z]:j,[F]:[{[N]:"UseDualStack"},!0]},Z={},V={[z]:"getAttr",[F]:[{[N]:K},"supportsFIPS"]},_={[z]:j,[F]:[!0,{[z]:"getAttr",[F]:[{[N]:K},"supportsDualStack"]}]},Q=[W],X=[Y],ee=[{[N]:"Region"}],te={version:"1.0",parameters:{Region:H,UseDualStack:B,UseFIPS:B,Endpoint:H},rules:[{conditions:[{[z]:G,[F]:[J]}],rules:[{conditions:Q,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:T},{conditions:X,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:T},{endpoint:{url:J,properties:Z,headers:Z},type:U}],type:L},{conditions:[{[z]:G,[F]:ee}],rules:[{conditions:[{[z]:"aws.partition",[F]:ee,assign:K}],rules:[{conditions:[W,Y],rules:[{conditions:[{[z]:j,[F]:[q,V]},_],rules:[{endpoint:{url:"https://cognito-identity-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Z,headers:Z},type:U}],type:L},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:T}],type:L},{conditions:Q,rules:[{conditions:[{[z]:j,[F]:[V,q]}],rules:[{endpoint:{url:"https://cognito-identity-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Z,headers:Z},type:U}],type:L},{error:"FIPS is enabled but this partition does not support FIPS",type:T}],type:L},{conditions:X,rules:[{conditions:[_],rules:[{endpoint:{url:"https://cognito-identity.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Z,headers:Z},type:U}],type:L},{error:"DualStack is enabled but this partition does not support DualStack",type:T}],type:L},{endpoint:{url:"https://cognito-identity.{Region}.{PartitionResult#dnsSuffix}",properties:Z,headers:Z},type:U}],type:L}],type:L},{error:"Invalid Configuration: Missing Region",type:T}]},ne=(e,t={})=>(0,M.sO)(te,{endpointParams:e,logger:t.logger});M.mw.aws=D.UF;var oe=n(44321);const ie=e=>{(0,l.I9)(process.version);const t=(0,oe.I)(e),n=()=>t().then(l.lT),o=(e=>({apiVersion:"2014-06-30",base64Decoder:e?.base64Decoder??$.E,base64Encoder:e?.base64Encoder??$.n,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??ne,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??x,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new A.f},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new c.mR}],logger:e?.logger??new l.N4,serviceId:e?.serviceId??"Cognito Identity",urlParser:e?.urlParser??R.D,utf8Decoder:e?.utf8Decoder??O.ar,utf8Encoder:e?.utf8Encoder??O.Pq}))(e);return(0,f.I)(process.version),{...o,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??P.n,credentialDefaultProvider:e?.credentialDefaultProvider??v.v6,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,I.mJ)({serviceId:o.serviceId,clientVersion:g}),maxAttempts:e?.maxAttempts??(0,w.Z)(u.qs),region:e?.region??(0,w.Z)(a.GG,a.zH),requestHandler:C.$c.create(e?.requestHandler??n),retryMode:e?.retryMode??(0,w.Z)({...u.kN,default:async()=>(await n()).retryMode||b.L0}),sha256:e?.sha256??S.V.bind(null,"sha256"),streamCollector:e?.streamCollector??C.kv,useDualstackEndpoint:e?.useDualstackEndpoint??(0,w.Z)(a.e$),useFipsEndpoint:e?.useFipsEndpoint??(0,w.Z)(a.Ko)}};var re=n(56928),se=n(75479);const ae=e=>{const t=e.httpAuthSchemes;let n=e.httpAuthSchemeProvider,o=e.credentials;return{setHttpAuthScheme(e){const n=t.findIndex((t=>t.schemeId===e.schemeId));-1===n?t.push(e):t.splice(n,1,e)},httpAuthSchemes:()=>t,setHttpAuthSchemeProvider(e){n=e},httpAuthSchemeProvider:()=>n,setCredentials(e){o=e},credentials:()=>o}};class CognitoIdentityClient extends l.Kj{constructor(...[e]){const t=ie(e||{}),n=(h=t,{...h,useDualstackEndpoint:h.useDualstackEndpoint??!1,useFipsEndpoint:h.useFipsEndpoint??!1,defaultSigningName:"cognito-identity"});var h;const m=(0,a.TD)(n),x=(0,p.Co)(m),E=(0,o.OV)(x),g=(0,s.Dc)(E),f=(0,u.$z)(g);var v;const I=((e,t)=>{const n={...(0,re.Rq)(e),...(0,l.xA)(e),...(0,se.eS)(e),...ae(e)};return t.forEach((e=>e.configure(n))),{...e,...(0,re.$3)(n),...(0,l.uv)(n),...(0,se.jt)(n),...(o=n,{httpAuthSchemes:o.httpAuthSchemes(),httpAuthSchemeProvider:o.httpAuthSchemeProvider(),credentials:o.credentials()})};var o})((v=f,{...(0,y.h)(v)}),e?.extensions||[]);super(I),this.config=I,this.middlewareStack.use((0,o.TC)(this.config)),this.middlewareStack.use((0,i.Y7)(this.config)),this.middlewareStack.use((0,r.n4)(this.config)),this.middlewareStack.use((0,s.sM)(this.config)),this.middlewareStack.use((0,u.ey)(this.config)),this.middlewareStack.use((0,d.vK)(this.config)),this.middlewareStack.use((0,c.wB)(this.config,{httpAuthSchemeParametersProvider:this.getDefaultHttpAuthSchemeParametersProvider(),identityProviderConfigProvider:this.getIdentityProviderConfigProvider()})),this.middlewareStack.use((0,c.lW)(this.config))}destroy(){super.destroy()}getDefaultHttpAuthSchemeParametersProvider(){return m}getIdentityProviderConfigProvider(){return async e=>new c.h$({"aws.auth#sigv4":e.credentials})}}var ce=n(1208),de=n(21919);class CognitoIdentityServiceException extends l.TJ{constructor(e){super(e),Object.setPrototypeOf(this,CognitoIdentityServiceException.prototype)}}class InternalErrorException extends CognitoIdentityServiceException{constructor(e){super({name:"InternalErrorException",$fault:"server",...e}),this.name="InternalErrorException",this.$fault="server",Object.setPrototypeOf(this,InternalErrorException.prototype)}}class InvalidParameterException extends CognitoIdentityServiceException{constructor(e){super({name:"InvalidParameterException",$fault:"client",...e}),this.name="InvalidParameterException",this.$fault="client",Object.setPrototypeOf(this,InvalidParameterException.prototype)}}class LimitExceededException extends CognitoIdentityServiceException{constructor(e){super({name:"LimitExceededException",$fault:"client",...e}),this.name="LimitExceededException",this.$fault="client",Object.setPrototypeOf(this,LimitExceededException.prototype)}}class NotAuthorizedException extends CognitoIdentityServiceException{constructor(e){super({name:"NotAuthorizedException",$fault:"client",...e}),this.name="NotAuthorizedException",this.$fault="client",Object.setPrototypeOf(this,NotAuthorizedException.prototype)}}class ResourceConflictException extends CognitoIdentityServiceException{constructor(e){super({name:"ResourceConflictException",$fault:"client",...e}),this.name="ResourceConflictException",this.$fault="client",Object.setPrototypeOf(this,ResourceConflictException.prototype)}}class TooManyRequestsException extends CognitoIdentityServiceException{constructor(e){super({name:"TooManyRequestsException",$fault:"client",...e}),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,TooManyRequestsException.prototype)}}class ResourceNotFoundException extends CognitoIdentityServiceException{constructor(e){super({name:"ResourceNotFoundException",$fault:"client",...e}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,ResourceNotFoundException.prototype)}}class ExternalServiceException extends CognitoIdentityServiceException{constructor(e){super({name:"ExternalServiceException",$fault:"client",...e}),this.name="ExternalServiceException",this.$fault="client",Object.setPrototypeOf(this,ExternalServiceException.prototype)}}class InvalidIdentityPoolConfigurationException extends CognitoIdentityServiceException{constructor(e){super({name:"InvalidIdentityPoolConfigurationException",$fault:"client",...e}),this.name="InvalidIdentityPoolConfigurationException",this.$fault="client",Object.setPrototypeOf(this,InvalidIdentityPoolConfigurationException.prototype)}}class DeveloperUserAlreadyRegisteredException extends CognitoIdentityServiceException{constructor(e){super({name:"DeveloperUserAlreadyRegisteredException",$fault:"client",...e}),this.name="DeveloperUserAlreadyRegisteredException",this.$fault="client",Object.setPrototypeOf(this,DeveloperUserAlreadyRegisteredException.prototype)}}class ConcurrentModificationException extends CognitoIdentityServiceException{constructor(e){super({name:"ConcurrentModificationException",$fault:"client",...e}),this.name="ConcurrentModificationException",this.$fault="client",Object.setPrototypeOf(this,ConcurrentModificationException.prototype)}}const pe=async(e,t)=>{const n=Oe("GetCredentialsForIdentity");let o;return o=JSON.stringify((0,l.Ss)(e)),$e(t,n,"/",void 0,o)},ue=async(e,t)=>{const n=Oe("GetId");let o;return o=JSON.stringify((0,l.Ss)(e)),$e(t,n,"/",void 0,o)},le=async(e,t)=>{if(e.statusCode>=300)return he(e,t);const n=await(0,de.Y2)(e.body,t);let o={};o=be(n,t);return{$metadata:Ae(e),...o}},ye=async(e,t)=>{if(e.statusCode>=300)return he(e,t);const n=await(0,de.Y2)(e.body,t);let o={};o=(0,l.Ss)(n);return{$metadata:Ae(e),...o}},he=async(e,t)=>{const n={...e,body:await(0,de.CG)(e.body,t)},o=(0,de.cJ)(e,n.body);switch(o){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await ge(n,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await ve(n,t);case"LimitExceededException":case"com.amazonaws.cognitoidentity#LimitExceededException":throw await Ie(n,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await Se(n,t);case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":throw await we(n,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await Pe(n,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await Ce(n,t);case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":throw await Ee(n,t);case"InvalidIdentityPoolConfigurationException":case"com.amazonaws.cognitoidentity#InvalidIdentityPoolConfigurationException":throw await fe(n,t);case"DeveloperUserAlreadyRegisteredException":case"com.amazonaws.cognitoidentity#DeveloperUserAlreadyRegisteredException":throw await xe(n,t);case"ConcurrentModificationException":case"com.amazonaws.cognitoidentity#ConcurrentModificationException":throw await me(n,t);default:const i=n.body;return Re({output:e,parsedBody:i,errorCode:o})}},me=async(e,t)=>{const n=e.body,o=(0,l.Ss)(n),i=new ConcurrentModificationException({$metadata:Ae(e),...o});return(0,l.Mw)(i,n)},xe=async(e,t)=>{const n=e.body,o=(0,l.Ss)(n),i=new DeveloperUserAlreadyRegisteredException({$metadata:Ae(e),...o});return(0,l.Mw)(i,n)},Ee=async(e,t)=>{const n=e.body,o=(0,l.Ss)(n),i=new ExternalServiceException({$metadata:Ae(e),...o});return(0,l.Mw)(i,n)},ge=async(e,t)=>{const n=e.body,o=(0,l.Ss)(n),i=new InternalErrorException({$metadata:Ae(e),...o});return(0,l.Mw)(i,n)},fe=async(e,t)=>{const n=e.body,o=(0,l.Ss)(n),i=new InvalidIdentityPoolConfigurationException({$metadata:Ae(e),...o});return(0,l.Mw)(i,n)},ve=async(e,t)=>{const n=e.body,o=(0,l.Ss)(n),i=new InvalidParameterException({$metadata:Ae(e),...o});return(0,l.Mw)(i,n)},Ie=async(e,t)=>{const n=e.body,o=(0,l.Ss)(n),i=new LimitExceededException({$metadata:Ae(e),...o});return(0,l.Mw)(i,n)},Se=async(e,t)=>{const n=e.body,o=(0,l.Ss)(n),i=new NotAuthorizedException({$metadata:Ae(e),...o});return(0,l.Mw)(i,n)},we=async(e,t)=>{const n=e.body,o=(0,l.Ss)(n),i=new ResourceConflictException({$metadata:Ae(e),...o});return(0,l.Mw)(i,n)},Ce=async(e,t)=>{const n=e.body,o=(0,l.Ss)(n),i=new ResourceNotFoundException({$metadata:Ae(e),...o});return(0,l.Mw)(i,n)},Pe=async(e,t)=>{const n=e.body,o=(0,l.Ss)(n),i=new TooManyRequestsException({$metadata:Ae(e),...o});return(0,l.Mw)(i,n)},be=(e,t)=>(0,l.s)(e,{Credentials:e=>((e,t)=>(0,l.s)(e,{AccessKeyId:l.lK,Expiration:e=>(0,l.Y0)((0,l.l3)((0,l.r$)(e))),SecretKey:l.lK,SessionToken:l.lK}))(e),IdentityId:l.lK}),Ae=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Re=(0,l.jr)(CognitoIdentityServiceException),$e=async(e,t,n,o,i)=>{const{hostname:r,protocol:s="https",port:a,path:c}=await e.endpoint(),d={protocol:s,hostname:r,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+n:c+n,headers:t};return void 0!==o&&(d.hostname=o),void 0!==i&&(d.body=i),new se.Kd(d)};function Oe(e){return{"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityService.${e}`}}class GetCredentialsForIdentityCommand extends(l.uB.classBuilder().ep({...E}).m((function(e,t,n,o){return[(0,ce.TM)(n,this.serialize,this.deserialize),(0,p.rD)(n,e.getEndpointParameterInstructions())]})).s("AWSCognitoIdentityService","GetCredentialsForIdentity",{}).n("CognitoIdentityClient","GetCredentialsForIdentityCommand").f(void 0,void 0).ser(pe).de(le).build()){}class GetIdCommand extends(l.uB.classBuilder().ep({...E}).m((function(e,t,n,o){return[(0,ce.TM)(n,this.serialize,this.deserialize),(0,p.rD)(n,e.getEndpointParameterInstructions())]})).s("AWSCognitoIdentityService","GetId",{}).n("CognitoIdentityClient","GetIdCommand").f(void 0,void 0).ser(ue).de(ye).build()){}}};
//# sourceMappingURL=102.js.map