var Rv=Object.create;var En=Object.defineProperty,Sv=Object.defineProperties,Nv=Object.getOwnPropertyDescriptor,Ov=Object.getOwnPropertyDescriptors,Cv=Object.getOwnPropertyNames,hi=Object.getOwnPropertySymbols,Av=Object.getPrototypeOf,to=Object.prototype.hasOwnProperty,vl=Object.prototype.propertyIsEnumerable;var Fe=Math.pow,eo=(e,t,r)=>t in e?En(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ot=(e,t)=>{for(var r in t||(t={}))to.call(t,r)&&eo(e,r,t[r]);if(hi)for(var r of hi(t))vl.call(t,r)&&eo(e,r,t[r]);return e},mn=(e,t)=>Sv(e,Ov(t));var ro=(e,t)=>{var r={};for(var n in e)to.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&hi)for(var n of hi(e))t.indexOf(n)<0&&vl.call(e,n)&&(r[n]=e[n]);return r};var _=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),bv=(e,t)=>{for(var r in t)En(e,r,{get:t[r],enumerable:!0})},yl=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Cv(t))!to.call(e,i)&&i!==r&&En(e,i,{get:()=>t[i],enumerable:!(n=Nv(t,i))||n.enumerable});return e};var Zt=(e,t,r)=>(r=e!=null?Rv(Av(e)):{},yl(t||!e||!e.__esModule?En(r,"default",{value:e,enumerable:!0}):r,e)),Iv=e=>yl(En({},"__esModule",{value:!0}),e);var ft=(e,t,r)=>(eo(e,typeof t!="symbol"?t+"":t,r),r);var ht=(e,t,r)=>new Promise((n,i)=>{var s=u=>{try{a(r.next(u))}catch(c){i(c)}},o=u=>{try{a(r.throw(u))}catch(c){i(c)}},a=u=>u.done?n(u.value):Promise.resolve(u.value).then(s,o);a((r=r.apply(e,t)).next())});var no=_(Tl=>{"use strict";Tl.parse=function(e,t){return new gn(e,t).parse()};var gn=class{constructor(t,r){this.source=t,this.transform=r||wv,this.position=0,this.entries=[],this.recorded=[],this.dimension=0}isEof(){return this.position>=this.source.length}nextCharacter(){var t=this.source[this.position++];return t==="\\"?{value:this.source[this.position++],escaped:!0}:{value:t,escaped:!1}}record(t){this.recorded.push(t)}newEntry(t){var r;(this.recorded.length>0||t)&&(r=this.recorded.join(""),r==="NULL"&&!t&&(r=null),r!==null&&(r=this.transform(r)),this.entries.push(r),this.recorded=[])}consumeDimensions(){if(this.source[0]==="[")for(;!this.isEof();){var t=this.nextCharacter();if(t.value==="=")break}}parse(t){var r,n,i;for(this.consumeDimensions();!this.isEof();)if(r=this.nextCharacter(),r.value==="{"&&!i)this.dimension++,this.dimension>1&&(n=new gn(this.source.substr(this.position-1),this.transform),this.entries.push(n.parse(!0)),this.position+=n.position-2);else if(r.value==="}"&&!i){if(this.dimension--,!this.dimension&&(this.newEntry(),t))return this.entries}else r.value==='"'&&!r.escaped?(i&&this.newEntry(!0),i=!i):r.value===","&&!i?this.newEntry():this.record(r.value);if(this.dimension!==0)throw new Error("array dimension not balanced");return this.entries}};function wv(e){return e}});var io=_((uL,_l)=>{var Lv=no();_l.exports={create:function(e,t){return{parse:function(){return Lv.parse(e,t)}}}}});var Nl=_((cL,Sl)=>{"use strict";var Pv=/(\d{1,})-(\d{2})-(\d{2}) (\d{2}):(\d{2}):(\d{2})(\.\d{1,})?.*?( BC)?$/,Dv=/^(\d{1,})-(\d{2})-(\d{2})( BC)?$/,Mv=/([Z+-])(\d{2})?:?(\d{2})?:?(\d{2})?/,kv=/^-?infinity$/;Sl.exports=function(t){if(kv.test(t))return Number(t.replace("i","I"));var r=Pv.exec(t);if(!r)return xv(t)||null;var n=!!r[8],i=parseInt(r[1],10);n&&(i=Rl(i));var s=parseInt(r[2],10)-1,o=r[3],a=parseInt(r[4],10),u=parseInt(r[5],10),c=parseInt(r[6],10),d=r[7];d=d?1e3*parseFloat(d):0;var E,g=qv(t);return g!=null?(E=new Date(Date.UTC(i,s,o,a,u,c,d)),so(i)&&E.setUTCFullYear(i),E.setTime(E.getTime()-g)):(E=new Date(i,s,o,a,u,c,d),so(i)&&E.setFullYear(i)),E};function xv(e){var t=Dv.exec(e);if(!!t){var r=parseInt(t[1],10),n=!!t[4];n&&(r=Rl(r));var i=parseInt(t[2],10)-1,s=t[3],o=new Date(r,i,s);return so(r)&&o.setFullYear(r),o}}function qv(e){var t=Mv.exec(e.split(" ")[1]);if(!!t){var r=t[1];if(r==="Z")return 0;var n=r==="-"?-1:1,i=parseInt(t[2],10)*3600+parseInt(t[3]||0,10)*60+parseInt(t[4]||0,10);return i*n*1e3}}function Rl(e){return-(e-1)}function so(e){return e>=0&&e<100}});var Cl=_((lL,Ol)=>{Ol.exports=Uv;var Fv=Object.prototype.hasOwnProperty;function Uv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Fv.call(r,n)&&(e[n]=r[n])}return e}});var Il=_((fL,bl)=>{"use strict";var Bv=Cl();bl.exports=Pr;function Pr(e){if(!(this instanceof Pr))return new Pr(e);Bv(this,Jv(e))}var jv=["seconds","minutes","hours","days","months","years"];Pr.prototype.toPostgres=function(){var e=jv.filter(this.hasOwnProperty,this);return this.milliseconds&&e.indexOf("seconds")<0&&e.push("seconds"),e.length===0?"0":e.map(function(t){var r=this[t]||0;return t==="seconds"&&this.milliseconds&&(r=(r+this.milliseconds/1e3).toFixed(6).replace(/\.?0+$/,"")),r+" "+t},this).join(" ")};var Wv={years:"Y",months:"M",days:"D",hours:"H",minutes:"M",seconds:"S"},Hv=["years","months","days"],Gv=["hours","minutes","seconds"];Pr.prototype.toISOString=Pr.prototype.toISO=function(){var e=Hv.map(r,this).join(""),t=Gv.map(r,this).join("");return"P"+e+"T"+t;function r(n){var i=this[n]||0;return n==="seconds"&&this.milliseconds&&(i=(i+this.milliseconds/1e3).toFixed(6).replace(/0+$/,"")),i+Wv[n]}};var oo="([+-]?\\d+)",$v=oo+"\\s+years?",Vv=oo+"\\s+mons?",Qv=oo+"\\s+days?",Yv="([+-])?([\\d]*):(\\d\\d):(\\d\\d)\\.?(\\d{1,6})?",zv=new RegExp([$v,Vv,Qv,Yv].map(function(e){return"("+e+")?"}).join("\\s*")),Al={years:2,months:4,days:6,hours:9,minutes:10,seconds:11,milliseconds:12},Xv=["hours","minutes","seconds","milliseconds"];function Kv(e){var t=e+"000000".slice(e.length);return parseInt(t,10)/1e3}function Jv(e){if(!e)return{};var t=zv.exec(e),r=t[8]==="-";return Object.keys(Al).reduce(function(n,i){var s=Al[i],o=t[s];return!o||(o=i==="milliseconds"?Kv(o):parseInt(o,10),!o)||(r&&~Xv.indexOf(i)&&(o*=-1),n[i]=o),n},{})}});var Ll=_((hL,wl)=>{"use strict";wl.exports=function(t){if(/^\\x/.test(t))return new Buffer(t.substr(2),"hex");for(var r="",n=0;n<t.length;)if(t[n]!=="\\")r+=t[n],++n;else if(/[0-7]{3}/.test(t.substr(n+1,3)))r+=String.fromCharCode(parseInt(t.substr(n+1,3),8)),n+=4;else{for(var i=1;n+i<t.length&&t[n+i]==="\\";)i++;for(var s=0;s<Math.floor(i/2);++s)r+="\\";n+=Math.floor(i/2)*2}return new Buffer(r,"binary")}});var Fl=_((dL,ql)=>{var vn=no(),yn=io(),di=Nl(),Dl=Il(),Ml=Ll();function pi(e){return function(r){return r===null?r:e(r)}}function kl(e){return e===null?e:e==="TRUE"||e==="t"||e==="true"||e==="y"||e==="yes"||e==="on"||e==="1"}function Zv(e){return e?vn.parse(e,kl):null}function ey(e){return parseInt(e,10)}function ao(e){return e?vn.parse(e,pi(ey)):null}function ty(e){return e?vn.parse(e,pi(function(t){return xl(t).trim()})):null}var ry=function(e){if(!e)return null;var t=yn.create(e,function(r){return r!==null&&(r=fo(r)),r});return t.parse()},uo=function(e){if(!e)return null;var t=yn.create(e,function(r){return r!==null&&(r=parseFloat(r)),r});return t.parse()},dt=function(e){if(!e)return null;var t=yn.create(e);return t.parse()},co=function(e){if(!e)return null;var t=yn.create(e,function(r){return r!==null&&(r=di(r)),r});return t.parse()},ny=function(e){if(!e)return null;var t=yn.create(e,function(r){return r!==null&&(r=Dl(r)),r});return t.parse()},iy=function(e){return e?vn.parse(e,pi(Ml)):null},lo=function(e){return parseInt(e,10)},xl=function(e){var t=String(e);return/^\d+$/.test(t)?t:e},Pl=function(e){return e?vn.parse(e,pi(JSON.parse)):null},fo=function(e){return e[0]!=="("?null:(e=e.substring(1,e.length-1).split(","),{x:parseFloat(e[0]),y:parseFloat(e[1])})},sy=function(e){if(e[0]!=="<"&&e[1]!=="(")return null;for(var t="(",r="",n=!1,i=2;i<e.length-1;i++){if(n||(t+=e[i]),e[i]===")"){n=!0;continue}else if(!n)continue;e[i]!==","&&(r+=e[i])}var s=fo(t);return s.radius=parseFloat(r),s},oy=function(e){e(20,xl),e(21,lo),e(23,lo),e(26,lo),e(700,parseFloat),e(701,parseFloat),e(16,kl),e(1082,di),e(1114,di),e(1184,di),e(600,fo),e(651,dt),e(718,sy),e(1e3,Zv),e(1001,iy),e(1005,ao),e(1007,ao),e(1028,ao),e(1016,ty),e(1017,ry),e(1021,uo),e(1022,uo),e(1231,uo),e(1014,dt),e(1015,dt),e(1008,dt),e(1009,dt),e(1040,dt),e(1041,dt),e(1115,co),e(1182,co),e(1185,co),e(1186,Dl),e(1187,ny),e(17,Ml),e(114,JSON.parse.bind(JSON)),e(3802,JSON.parse.bind(JSON)),e(199,Pl),e(3807,Pl),e(3907,dt),e(2951,dt),e(791,dt),e(1183,dt),e(1270,dt)};ql.exports={init:oy}});var Bl=_((pL,Ul)=>{"use strict";var et=1e6;function ay(e){var t=e.readInt32BE(0),r=e.readUInt32BE(4),n="";t<0&&(t=~t+(r===0),r=~r+1>>>0,n="-");var i="",s,o,a,u,c,d;{if(s=t%et,t=t/et>>>0,o=4294967296*s+r,r=o/et>>>0,a=""+(o-et*r),r===0&&t===0)return n+a+i;for(u="",c=6-a.length,d=0;d<c;d++)u+="0";i=u+a+i}{if(s=t%et,t=t/et>>>0,o=4294967296*s+r,r=o/et>>>0,a=""+(o-et*r),r===0&&t===0)return n+a+i;for(u="",c=6-a.length,d=0;d<c;d++)u+="0";i=u+a+i}{if(s=t%et,t=t/et>>>0,o=4294967296*s+r,r=o/et>>>0,a=""+(o-et*r),r===0&&t===0)return n+a+i;for(u="",c=6-a.length,d=0;d<c;d++)u+="0";i=u+a+i}return s=t%et,o=4294967296*s+r,a=""+o%et,n+a+i}Ul.exports=ay});var $l=_((EL,Gl)=>{var uy=Bl(),we=function(e,t,r,n,i){r=r||0,n=n||!1,i=i||function(R,b,x){return R*Math.pow(2,x)+b};var s=r>>3,o=function(R){return n?~R&255:R},a=255,u=8-r%8;t<u&&(a=255<<8-t&255,u=t),r&&(a=a>>r%8);var c=0;r%8+t>=8&&(c=i(0,o(e[s])&a,u));for(var d=t+r>>3,E=s+1;E<d;E++)c=i(c,o(e[E]),8);var g=(t+r)%8;return g>0&&(c=i(c,o(e[d])>>8-g,g)),c},Hl=function(e,t,r){var n=Math.pow(2,r-1)-1,i=we(e,1),s=we(e,r,1);if(s===0)return 0;var o=1,a=function(c,d,E){c===0&&(c=1);for(var g=1;g<=E;g++)o/=2,(d&1<<E-g)>0&&(c+=o);return c},u=we(e,t,r+1,!1,a);return s==Math.pow(2,r+1)-1?u===0?i===0?1/0:-1/0:NaN:(i===0?1:-1)*Math.pow(2,s-n)*u},cy=function(e){return we(e,1)==1?-1*(we(e,15,1,!0)+1):we(e,15,1)},jl=function(e){return we(e,1)==1?-1*(we(e,31,1,!0)+1):we(e,31,1)},ly=function(e){return Hl(e,23,8)},fy=function(e){return Hl(e,52,11)},hy=function(e){var t=we(e,16,32);if(t==49152)return NaN;for(var r=Math.pow(1e4,we(e,16,16)),n=0,i=[],s=we(e,16),o=0;o<s;o++)n+=we(e,16,64+16*o)*r,r/=1e4;var a=Math.pow(10,we(e,16,48));return(t===0?1:-1)*Math.round(n*a)/a},Wl=function(e,t){var r=we(t,1),n=we(t,63,1),i=new Date((r===0?1:-1)*n/1e3+9466848e5);return e||i.setTime(i.getTime()+i.getTimezoneOffset()*6e4),i.usec=n%1e3,i.getMicroSeconds=function(){return this.usec},i.setMicroSeconds=function(s){this.usec=s},i.getUTCMicroSeconds=function(){return this.usec},i},Tn=function(e){for(var t=we(e,32),r=we(e,32,32),n=we(e,32,64),i=96,s=[],o=0;o<t;o++)s[o]=we(e,32,i),i+=32,i+=32;var a=function(c){var d=we(e,32,i);if(i+=32,d==4294967295)return null;var E;if(c==23||c==20)return E=we(e,d*8,i),i+=d*8,E;if(c==25)return E=e.toString(this.encoding,i>>3,(i+=d<<3)>>3),E;console.log("ERROR: ElementType not implemented: "+c)},u=function(c,d){var E=[],g;if(c.length>1){var R=c.shift();for(g=0;g<R;g++)E[g]=u(c,d);c.unshift(R)}else for(g=0;g<c[0];g++)E[g]=a(d);return E};return u(s,n)},dy=function(e){return e.toString("utf8")},py=function(e){return e===null?null:we(e,8)>0},Ey=function(e){e(20,uy),e(21,cy),e(23,jl),e(26,jl),e(1700,hy),e(700,ly),e(701,fy),e(16,py),e(1114,Wl.bind(null,!1)),e(1184,Wl.bind(null,!0)),e(1e3,Tn),e(1007,Tn),e(1016,Tn),e(1008,Tn),e(1009,Tn),e(25,dy)};Gl.exports={init:Ey}});var Ql=_((mL,Vl)=>{Vl.exports={BOOL:16,BYTEA:17,CHAR:18,INT8:20,INT2:21,INT4:23,REGPROC:24,TEXT:25,OID:26,TID:27,XID:28,CID:29,JSON:114,XML:142,PG_NODE_TREE:194,SMGR:210,PATH:602,POLYGON:604,CIDR:650,FLOAT4:700,FLOAT8:701,ABSTIME:702,RELTIME:703,TINTERVAL:704,CIRCLE:718,MACADDR8:774,MONEY:790,MACADDR:829,INET:869,ACLITEM:1033,BPCHAR:1042,VARCHAR:1043,DATE:1082,TIME:1083,TIMESTAMP:1114,TIMESTAMPTZ:1184,INTERVAL:1186,TIMETZ:1266,BIT:1560,VARBIT:1562,NUMERIC:1700,REFCURSOR:1790,REGPROCEDURE:2202,REGOPER:2203,REGOPERATOR:2204,REGCLASS:2205,REGTYPE:2206,UUID:2950,TXID_SNAPSHOT:2970,PG_LSN:3220,PG_NDISTINCT:3361,PG_DEPENDENCIES:3402,TSVECTOR:3614,TSQUERY:3615,GTSVECTOR:3642,REGCONFIG:3734,REGDICTIONARY:3769,JSONB:3802,REGNAMESPACE:4089,REGROLE:4096}});var Sn=_(Rn=>{var my=Fl(),gy=$l(),vy=io(),yy=Ql();Rn.getTypeParser=Ty;Rn.setTypeParser=_y;Rn.arrayParser=vy;Rn.builtins=yy;var _n={text:{},binary:{}};function Yl(e){return String(e)}function Ty(e,t){return t=t||"text",_n[t]&&_n[t][e]||Yl}function _y(e,t,r){typeof t=="function"&&(r=t,t="text"),_n[t][e]=r}my.init(function(e,t){_n.text[e]=t});gy.init(function(e,t){_n.binary[e]=t})});var Nn=_((vL,ho)=>{"use strict";ho.exports={host:"localhost",user:process.platform==="win32"?process.env.USERNAME:process.env.USER,database:void 0,password:null,connectionString:void 0,port:5432,rows:0,binary:!1,max:10,idleTimeoutMillis:3e4,client_encoding:"",ssl:!1,application_name:void 0,fallback_application_name:void 0,options:void 0,parseInputDatesAsUTC:!1,statement_timeout:!1,idle_in_transaction_session_timeout:!1,query_timeout:!1,connect_timeout:0,keepalives:1,keepalives_idle:0};var Dr=Sn(),Ry=Dr.getTypeParser(20,"text"),Sy=Dr.getTypeParser(1016,"text");ho.exports.__defineSetter__("parseInt8",function(e){Dr.setTypeParser(20,"text",e?Dr.getTypeParser(23,"text"):Ry),Dr.setTypeParser(1016,"text",e?Dr.getTypeParser(1007,"text"):Sy)})});var mi=_((yL,Xl)=>{"use strict";var Ny=require("crypto"),Oy=Nn();function Cy(e){var t=e.replace(/\\/g,"\\\\").replace(/"/g,'\\"');return'"'+t+'"'}function zl(e){for(var t="{",r=0;r<e.length;r++)r>0&&(t=t+","),e[r]===null||typeof e[r]=="undefined"?t=t+"NULL":Array.isArray(e[r])?t=t+zl(e[r]):e[r]instanceof Buffer?t+="\\\\x"+e[r].toString("hex"):t+=Cy(Ei(e[r]));return t=t+"}",t}var Ei=function(e,t){if(e instanceof Buffer)return e;if(ArrayBuffer.isView(e)){var r=Buffer.from(e.buffer,e.byteOffset,e.byteLength);return r.length===e.byteLength?r:r.slice(e.byteOffset,e.byteOffset+e.byteLength)}return e instanceof Date?Oy.parseInputDatesAsUTC?Iy(e):by(e):Array.isArray(e)?zl(e):e===null||typeof e=="undefined"?null:typeof e=="object"?Ay(e,t):e.toString()};function Ay(e,t){if(e&&typeof e.toPostgres=="function"){if(t=t||[],t.indexOf(e)!==-1)throw new Error('circular reference detected while preparing "'+e+'" for query');return t.push(e),Ei(e.toPostgres(Ei),t)}return JSON.stringify(e)}function Ve(e,t){for(e=""+e;e.length<t;)e="0"+e;return e}function by(e){var t=-e.getTimezoneOffset(),r=e.getFullYear(),n=r<1;n&&(r=Math.abs(r)+1);var i=Ve(r,4)+"-"+Ve(e.getMonth()+1,2)+"-"+Ve(e.getDate(),2)+"T"+Ve(e.getHours(),2)+":"+Ve(e.getMinutes(),2)+":"+Ve(e.getSeconds(),2)+"."+Ve(e.getMilliseconds(),3);return t<0?(i+="-",t*=-1):i+="+",i+=Ve(Math.floor(t/60),2)+":"+Ve(t%60,2),n&&(i+=" BC"),i}function Iy(e){var t=e.getUTCFullYear(),r=t<1;r&&(t=Math.abs(t)+1);var n=Ve(t,4)+"-"+Ve(e.getUTCMonth()+1,2)+"-"+Ve(e.getUTCDate(),2)+"T"+Ve(e.getUTCHours(),2)+":"+Ve(e.getUTCMinutes(),2)+":"+Ve(e.getUTCSeconds(),2)+"."+Ve(e.getUTCMilliseconds(),3);return n+="+00:00",r&&(n+=" BC"),n}function wy(e,t,r){return e=typeof e=="string"?{text:e}:e,t&&(typeof t=="function"?e.callback=t:e.values=t),r&&(e.callback=r),e}var po=function(e){return Ny.createHash("md5").update(e,"utf-8").digest("hex")},Ly=function(e,t,r){var n=po(t+e),i=po(Buffer.concat([Buffer.from(n),r]));return"md5"+i};Xl.exports={prepareValue:function(t){return Ei(t)},normalizeQueryConfig:wy,postgresMd5PasswordHash:Ly,md5:po}});var Zl=_((TL,Jl)=>{"use strict";var Eo=require("crypto");function Py(e){if(e.indexOf("SCRAM-SHA-256")===-1)throw new Error("SASL: Only mechanism SCRAM-SHA-256 is currently supported");let t=Eo.randomBytes(18).toString("base64");return{mechanism:"SCRAM-SHA-256",clientNonce:t,response:"n,,n=*,r="+t,message:"SASLInitialResponse"}}function Dy(e,t,r){if(e.message!=="SASLInitialResponse")throw new Error("SASL: Last message was not SASLInitialResponse");let n=ky(r);if(!n.nonce.startsWith(e.clientNonce))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce");var i=Buffer.from(n.salt,"base64"),s=xy(t,i,n.iteration),o=Mr(s,"Client Key"),a=Eo.createHash("sha256").update(o).digest(),u="n=*,r="+e.clientNonce,c="r="+n.nonce+",s="+n.salt+",i="+n.iteration,d="c=biws,r="+n.nonce,E=u+","+c+","+d,g=Mr(a,E),R=Kl(o,g),b=R.toString("base64"),x=Mr(s,"Server Key"),G=Mr(x,E);e.message="SASLResponse",e.serverSignature=G.toString("base64"),e.response=d+",p="+b}function My(e,t){if(e.message!=="SASLResponse")throw new Error("SASL: Last message was not SASLResponse");var r;if(String(t).split(",").forEach(function(n){switch(n[0]){case"v":r=n.substr(2);break}}),r!==e.serverSignature)throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature does not match")}function ky(e){var t,r,n;if(String(e).split(",").forEach(function(i){switch(i[0]){case"r":t=i.substr(2);break;case"s":r=i.substr(2);break;case"i":n=parseInt(i.substr(2),10);break}}),!t)throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing");if(!r)throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing");if(!n)throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: iteration missing");return{nonce:t,salt:r,iteration:n}}function Kl(e,t){Buffer.isBuffer(e)||(e=Buffer.from(e)),Buffer.isBuffer(t)||(t=Buffer.from(t));var r=[];if(e.length>t.length)for(var n=0;n<t.length;n++)r.push(e[n]^t[n]);else for(var i=0;i<e.length;i++)r.push(e[i]^t[i]);return Buffer.from(r)}function Mr(e,t){return Eo.createHmac("sha256",e).update(t).digest()}function xy(e,t,r){for(var n=Mr(e,Buffer.concat([t,Buffer.from([0,0,0,1])])),i=n,s=0;s<r-1;s++)n=Mr(e,n),i=Kl(i,n);return i}Jl.exports={startSession:Py,continueSession:Dy,finalizeSession:My}});var rf=_((ef,tf)=>{var qy=require("stream");ef=tf.exports=mo;mo.through=mo;function mo(e,t,r){e=e||function(d){this.queue(d)},t=t||function(){this.queue(null)};var n=!1,i=!1,s=[],o=!1,a=new qy;a.readable=a.writable=!0,a.paused=!1,a.autoDestroy=!(r&&r.autoDestroy===!1),a.write=function(d){return e.call(this,d),!a.paused};function u(){for(;s.length&&!a.paused;){var d=s.shift();if(d===null)return a.emit("end");a.emit("data",d)}}a.queue=a.push=function(d){return o||(d===null&&(o=!0),s.push(d),u()),a},a.on("end",function(){a.readable=!1,!a.writable&&a.autoDestroy&&process.nextTick(function(){a.destroy()})});function c(){a.writable=!1,t.call(a),!a.readable&&a.autoDestroy&&a.destroy()}return a.end=function(d){if(!n)return n=!0,arguments.length&&a.write(d),c(),a},a.destroy=function(){if(!i)return i=!0,n=!0,s.length=0,a.writable=a.readable=!1,a.emit("close"),a},a.pause=function(){if(!a.paused)return a.paused=!0,a},a.resume=function(){return a.paused&&(a.paused=!1,a.emit("resume")),u(),a.paused||a.emit("drain"),a},a}});var sf=_((_L,nf)=>{var Fy=rf(),Uy=require("string_decoder").StringDecoder;nf.exports=By;function By(e,t,r){var n=new Uy,i="",s=r&&r.maxLength,o=!(r&&r.trailing===!1);typeof e=="function"&&(t=e,e=null),e||(e=/\r?\n/);function a(c,d){if(t){try{d=t(d)}catch(E){return c.emit("error",E)}typeof d!="undefined"&&c.queue(d)}else c.queue(d)}function u(c,d){var E=((i!=null?i:"")+d).split(e);if(i=E.pop(),s&&i.length>s)return c.emit("error",new Error("maximum buffer reached"));for(var g=0;g<E.length;g++){var R=E[g];a(c,R)}}return Fy(function(c){u(this,n.write(c))},function(){n.end&&u(this,n.end()),o&&i!=null&&a(this,i),this.queue(null)})}});var uf=_((RL,Bt)=>{"use strict";var of=require("path"),jy=require("stream").Stream,Wy=sf(),af=require("util"),Hy=5432,gi=process.platform==="win32",On=process.stderr,Gy=56,$y=7,Vy=61440,Qy=32768;function Yy(e){return(e&Vy)==Qy}var kr=["host","port","database","user","password"],go=kr.length,zy=kr[go-1];function vo(){var e=On instanceof jy&&On.writable===!0;if(e){var t=Array.prototype.slice.call(arguments).concat(`
`);On.write(af.format.apply(af,t))}}Object.defineProperty(Bt.exports,"isWin",{get:function(){return gi},set:function(e){gi=e}});Bt.exports.warnTo=function(e){var t=On;return On=e,t};Bt.exports.getFileName=function(e){e=e||process.env;var t=e.PGPASSFILE||(gi?of.join(e.APPDATA,"postgresql","pgpass.conf"):of.join(e.HOME,".pgpass"));return t};Bt.exports.usePgPass=function(e,t){return Object.prototype.hasOwnProperty.call(process.env,"PGPASSWORD")?!1:gi?!0:(t=t||"<unkn>",Yy(e.mode)?e.mode&(Gy|$y)?(vo('WARNING: password file "%s" has group or world access; permissions should be u=rw (0600) or less',t),!1):!0:(vo('WARNING: password file "%s" is not a plain file',t),!1))};var Xy=Bt.exports.match=function(e,t){return kr.slice(0,-1).reduce(function(r,n,i){return i==1&&Number(e[n]||Hy)===Number(t[n])?r&&!0:r&&(t[n]==="*"||t[n]===e[n])},!0)};Bt.exports.getPassword=function(e,t,r){var n,i=t.pipe(new Wy);function s(u){var c=Ky(u);c&&Jy(c)&&Xy(e,c)&&(n=c[zy],i.end())}var o=function(){t.destroy(),r(n)},a=function(u){t.destroy(),vo("WARNING: error on reading file: %s",u),r(void 0)};t.on("error",a),i.on("data",s).on("end",o).on("error",a)};var Ky=Bt.exports.parseLine=function(e){if(e.length<11||e.match(/^\s+#/))return null;for(var t="",r="",n=0,i=0,s=0,o={},a=!1,u=function(d,E,g){var R=e.substring(E,g);Object.hasOwnProperty.call(process.env,"PGPASS_NO_DEESCAPE")||(R=R.replace(/\\([:\\])/g,"$1")),o[kr[d]]=R},c=0;c<e.length-1;c+=1){if(t=e.charAt(c+1),r=e.charAt(c),a=n==go-1,a){u(n,i);break}c>=0&&t==":"&&r!=="\\"&&(u(n,i,c+1),i=c+2,n+=1)}return o=Object.keys(o).length===go?o:null,o},Jy=Bt.exports.isValidEntry=function(e){for(var t={0:function(o){return o.length>0},1:function(o){return o==="*"?!0:(o=Number(o),isFinite(o)&&o>0&&o<9007199254740992&&Math.floor(o)===o)},2:function(o){return o.length>0},3:function(o){return o.length>0},4:function(o){return o.length>0}},r=0;r<kr.length;r+=1){var n=t[r],i=e[kr[r]]||"",s=n(i);if(!s)return!1}return!0}});var lf=_((NL,yo)=>{"use strict";var SL=require("path"),cf=require("fs"),vi=uf();yo.exports=function(e,t){var r=vi.getFileName();cf.stat(r,function(n,i){if(n||!vi.usePgPass(i,r))return t(void 0);var s=cf.createReadStream(r);vi.getPassword(e,s,t)})};yo.exports.warnTo=vi.warnTo});var To=_((OL,ff)=>{"use strict";var Zy=Sn();function yi(e){this._types=e||Zy,this.text={},this.binary={}}yi.prototype.getOverrides=function(e){switch(e){case"text":return this.text;case"binary":return this.binary;default:return{}}};yi.prototype.setTypeParser=function(e,t,r){typeof t=="function"&&(r=t,t="text"),this.getOverrides(t)[e]=r};yi.prototype.getTypeParser=function(e,t){return t=t||"text",this.getOverrides(t)[e]||this._types.getTypeParser(e,t)};ff.exports=yi});var df=_((CL,hf)=>{"use strict";var e0=require("url"),_o=require("fs");function Ro(e){if(e.charAt(0)==="/"){var r=e.split(" ");return{host:r[0],database:r[1]}}var t=e0.parse(/ |%[^a-f0-9]|%[a-f0-9][^a-f0-9]/i.test(e)?encodeURI(e).replace(/\%25(\d\d)/g,"%$1"):e,!0),r=t.query;for(var n in r)Array.isArray(r[n])&&(r[n]=r[n][r[n].length-1]);var i=(t.auth||":").split(":");if(r.user=i[0],r.password=i.splice(1).join(":"),r.port=t.port,t.protocol=="socket:")return r.host=decodeURI(t.pathname),r.database=t.query.db,r.client_encoding=t.query.encoding,r;r.host||(r.host=t.hostname);var s=t.pathname;if(!r.host&&s&&/^%2f/i.test(s)){var o=s.split("/");r.host=decodeURIComponent(o[0]),s=o.splice(1).join("/")}return s&&s.charAt(0)==="/"&&(s=s.slice(1)||null),r.database=s&&decodeURI(s),(r.ssl==="true"||r.ssl==="1")&&(r.ssl=!0),r.ssl==="0"&&(r.ssl=!1),(r.sslcert||r.sslkey||r.sslrootcert)&&(r.ssl={}),r.sslcert&&(r.ssl.cert=_o.readFileSync(r.sslcert).toString()),r.sslkey&&(r.ssl.key=_o.readFileSync(r.sslkey).toString()),r.sslrootcert&&(r.ssl.ca=_o.readFileSync(r.sslrootcert).toString()),r}hf.exports=Ro;Ro.parse=Ro});var No=_((AL,mf)=>{"use strict";var t0=require("dns"),Ef=Nn(),pf=df().parse,tt=function(e,t,r){return r===void 0?r=process.env["PG"+e.toUpperCase()]:r===!1||(r=process.env[r]),t[e]||r||Ef[e]},r0=function(){switch(process.env.PGSSLMODE){case"disable":return!1;case"prefer":case"require":case"verify-ca":case"verify-full":return!0;case"no-verify":return{rejectUnauthorized:!1}}return Ef.ssl},xr=function(e){return"'"+(""+e).replace(/\\/g,"\\\\").replace(/'/g,"\\'")+"'"},pt=function(e,t,r){var n=t[r];n!=null&&e.push(r+"="+xr(n))},So=class{constructor(t){t=typeof t=="string"?pf(t):t||{},t.connectionString&&(t=Object.assign({},t,pf(t.connectionString))),this.user=tt("user",t),this.database=tt("database",t),this.database===void 0&&(this.database=this.user),this.port=parseInt(tt("port",t),10),this.host=tt("host",t),Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:tt("password",t)}),this.binary=tt("binary",t),this.options=tt("options",t),this.ssl=typeof t.ssl=="undefined"?r0():t.ssl,this.ssl==="no-verify"&&(this.ssl={rejectUnauthorized:!1}),this.client_encoding=tt("client_encoding",t),this.replication=tt("replication",t),this.isDomainSocket=!(this.host||"").indexOf("/"),this.application_name=tt("application_name",t,"PGAPPNAME"),this.fallback_application_name=tt("fallback_application_name",t,!1),this.statement_timeout=tt("statement_timeout",t,!1),this.idle_in_transaction_session_timeout=tt("idle_in_transaction_session_timeout",t,!1),this.query_timeout=tt("query_timeout",t,!1),t.connectionTimeoutMillis===void 0?this.connect_timeout=process.env.PGCONNECT_TIMEOUT||0:this.connect_timeout=Math.floor(t.connectionTimeoutMillis/1e3),t.keepAlive===!1?this.keepalives=0:t.keepAlive===!0&&(this.keepalives=1),typeof t.keepAliveInitialDelayMillis=="number"&&(this.keepalives_idle=Math.floor(t.keepAliveInitialDelayMillis/1e3))}getLibpqConnectionString(t){var r=[];pt(r,this,"user"),pt(r,this,"password"),pt(r,this,"port"),pt(r,this,"application_name"),pt(r,this,"fallback_application_name"),pt(r,this,"connect_timeout"),pt(r,this,"options");var n=typeof this.ssl=="object"?this.ssl:this.ssl?{sslmode:this.ssl}:{};if(pt(r,n,"sslmode"),pt(r,n,"sslca"),pt(r,n,"sslkey"),pt(r,n,"sslcert"),pt(r,n,"sslrootcert"),this.database&&r.push("dbname="+xr(this.database)),this.replication&&r.push("replication="+xr(this.replication)),this.host&&r.push("host="+xr(this.host)),this.isDomainSocket)return t(null,r.join(" "));this.client_encoding&&r.push("client_encoding="+xr(this.client_encoding)),t0.lookup(this.host,function(i,s){return i?t(i,null):(r.push("hostaddr="+xr(s)),t(null,r.join(" ")))})}};mf.exports=So});var yf=_((bL,vf)=>{"use strict";var n0=Sn(),gf=/^([A-Za-z]+)(?: (\d+))?(?: (\d+))?/,Oo=class{constructor(t,r){this.command=null,this.rowCount=null,this.oid=null,this.rows=[],this.fields=[],this._parsers=void 0,this._types=r,this.RowCtor=null,this.rowAsArray=t==="array",this.rowAsArray&&(this.parseRow=this._parseRowAsArray)}addCommandComplete(t){var r;t.text?r=gf.exec(t.text):r=gf.exec(t.command),r&&(this.command=r[1],r[3]?(this.oid=parseInt(r[2],10),this.rowCount=parseInt(r[3],10)):r[2]&&(this.rowCount=parseInt(r[2],10)))}_parseRowAsArray(t){for(var r=new Array(t.length),n=0,i=t.length;n<i;n++){var s=t[n];s!==null?r[n]=this._parsers[n](s):r[n]=null}return r}parseRow(t){for(var r={},n=0,i=t.length;n<i;n++){var s=t[n],o=this.fields[n].name;s!==null?r[o]=this._parsers[n](s):r[o]=null}return r}addRow(t){this.rows.push(t)}addFields(t){this.fields=t,this.fields.length&&(this._parsers=new Array(t.length));for(var r=0;r<t.length;r++){var n=t[r];this._types?this._parsers[r]=this._types.getTypeParser(n.dataTypeID,n.format||"text"):this._parsers[r]=n0.getTypeParser(n.dataTypeID,n.format||"text")}}};vf.exports=Oo});var Sf=_((IL,Rf)=>{"use strict";var{EventEmitter:i0}=require("events"),Tf=yf(),_f=mi(),Co=class extends i0{constructor(t,r,n){super(),t=_f.normalizeQueryConfig(t,r,n),this.text=t.text,this.values=t.values,this.rows=t.rows,this.types=t.types,this.name=t.name,this.binary=t.binary,this.portal=t.portal||"",this.callback=t.callback,this._rowMode=t.rowMode,process.domain&&t.callback&&(this.callback=process.domain.bind(t.callback)),this._result=new Tf(this._rowMode,this.types),this._results=this._result,this.isPreparedStatement=!1,this._canceledDueToError=!1,this._promise=null}requiresPreparation(){return this.name||this.rows?!0:!this.text||!this.values?!1:this.values.length>0}_checkForMultirow(){this._result.command&&(Array.isArray(this._results)||(this._results=[this._result]),this._result=new Tf(this._rowMode,this.types),this._results.push(this._result))}handleRowDescription(t){this._checkForMultirow(),this._result.addFields(t.fields),this._accumulateRows=this.callback||!this.listeners("row").length}handleDataRow(t){let r;if(!this._canceledDueToError){try{r=this._result.parseRow(t.fields)}catch(n){this._canceledDueToError=n;return}this.emit("row",r,this._result),this._accumulateRows&&this._result.addRow(r)}}handleCommandComplete(t,r){this._checkForMultirow(),this._result.addCommandComplete(t),this.isPreparedStatement&&r.sync()}handleEmptyQuery(t){this.isPreparedStatement&&t.sync()}handleReadyForQuery(t){if(this._canceledDueToError)return this.handleError(this._canceledDueToError,t);this.callback&&this.callback(null,this._results),this.emit("end",this._results)}handleError(t,r){if(this.isPreparedStatement&&r.sync(),this._canceledDueToError&&(t=this._canceledDueToError,this._canceledDueToError=!1),this.callback)return this.callback(t);this.emit("error",t)}submit(t){if(typeof this.text!="string"&&typeof this.name!="string")return new Error("A query must have either text or a name. Supplying neither is unsupported.");let r=t.parsedStatements[this.name];return this.text&&r&&this.text!==r?new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`):this.values&&!Array.isArray(this.values)?new Error("Query values must be an array"):(this.requiresPreparation()?this.prepare(t):t.query(this.text),null)}hasBeenParsed(t){return this.name&&t.parsedStatements[this.name]}handlePortalSuspended(t){this._getRows(t,this.rows)}_getRows(t,r){t.execute({portal:this.portal,rows:r}),t.flush()}prepare(t){if(this.isPreparedStatement=!0,this.hasBeenParsed(t)||t.parse({text:this.text,name:this.name,types:this.types}),this.values)try{this.values=this.values.map(_f.prepareValue)}catch(r){this.handleError(r,t);return}t.bind({portal:this.portal,statement:this.name,values:this.values,binary:this.binary}),t.describe({type:"P",name:this.portal||""}),this._getRows(t,this.rows)}handleCopyInResponse(t){t.sendCopyFail("No source stream defined")}handleCopyData(t,r){}};Rf.exports=Co});var Nf=_(bo=>{"use strict";Object.defineProperty(bo,"__esModule",{value:!0});var Ao=class{constructor(t=256){this.size=t,this.offset=5,this.headerPosition=0,this.buffer=Buffer.alloc(t)}ensure(t){var r=this.buffer.length-this.offset;if(r<t){var n=this.buffer,i=n.length+(n.length>>1)+t;this.buffer=Buffer.alloc(i),n.copy(this.buffer)}}addInt32(t){return this.ensure(4),this.buffer[this.offset++]=t>>>24&255,this.buffer[this.offset++]=t>>>16&255,this.buffer[this.offset++]=t>>>8&255,this.buffer[this.offset++]=t>>>0&255,this}addInt16(t){return this.ensure(2),this.buffer[this.offset++]=t>>>8&255,this.buffer[this.offset++]=t>>>0&255,this}addCString(t){if(!t)this.ensure(1);else{var r=Buffer.byteLength(t);this.ensure(r+1),this.buffer.write(t,this.offset,"utf-8"),this.offset+=r}return this.buffer[this.offset++]=0,this}addString(t=""){var r=Buffer.byteLength(t);return this.ensure(r),this.buffer.write(t,this.offset),this.offset+=r,this}add(t){return this.ensure(t.length),t.copy(this.buffer,this.offset),this.offset+=t.length,this}join(t){if(t){this.buffer[this.headerPosition]=t;let r=this.offset-(this.headerPosition+1);this.buffer.writeInt32BE(r,this.headerPosition+1)}return this.buffer.slice(t?0:5,this.offset)}flush(t){var r=this.join(t);return this.offset=5,this.headerPosition=0,this.buffer=Buffer.allocUnsafe(this.size),r}};bo.Writer=Ao});var Af=_(wo=>{"use strict";Object.defineProperty(wo,"__esModule",{value:!0});var Of=Nf(),Qe=new Of.Writer,s0=e=>{Qe.addInt16(3).addInt16(0);for(let n of Object.keys(e))Qe.addCString(n).addCString(e[n]);Qe.addCString("client_encoding").addCString("UTF8");var t=Qe.addCString("").flush(),r=t.length+4;return new Of.Writer().addInt32(r).add(t).flush()},o0=()=>{let e=Buffer.allocUnsafe(8);return e.writeInt32BE(8,0),e.writeInt32BE(80877103,4),e},a0=e=>Qe.addCString(e).flush(112),u0=function(e,t){return Qe.addCString(e).addInt32(Buffer.byteLength(t)).addString(t),Qe.flush(112)},c0=function(e){return Qe.addString(e).flush(112)},l0=e=>Qe.addCString(e).flush(81),Cf=[],f0=e=>{let t=e.name||"";t.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",t,t.length),console.error("This can cause conflicts and silent errors executing queries"));let r=e.types||Cf;for(var n=r.length,i=Qe.addCString(t).addCString(e.text).addInt16(n),s=0;s<n;s++)i.addInt32(r[s]);return Qe.flush(80)},h0=(e={})=>{let t=e.portal||"",r=e.statement||"",n=e.binary||!1;for(var i=e.values||Cf,s=i.length,o=!1,a=0;a<s;a++)o=o||i[a]instanceof Buffer;var u=Qe.addCString(t).addCString(r);if(!o)u.addInt16(0);else for(u.addInt16(s),a=0;a<s;a++)u.addInt16(i[a]instanceof Buffer?1:0);u.addInt16(s);for(var c=0;c<s;c++){var d=i[c];d===null||typeof d=="undefined"?u.addInt32(-1):d instanceof Buffer?(u.addInt32(d.length),u.add(d)):(u.addInt32(Buffer.byteLength(d)),u.addString(d))}return n?(u.addInt16(1),u.addInt16(1)):u.addInt16(0),Qe.flush(66)},d0=Buffer.from([69,0,0,0,9,0,0,0,0,0]),p0=e=>{if(!e||!e.portal&&!e.rows)return d0;let t=e.portal||"",r=e.rows||0,n=Buffer.byteLength(t),i=4+n+1+4,s=Buffer.allocUnsafe(1+i);return s[0]=69,s.writeInt32BE(i,1),s.write(t,5,"utf-8"),s[n+5]=0,s.writeUInt32BE(r,s.length-4),s},E0=(e,t)=>{let r=Buffer.allocUnsafe(16);return r.writeInt32BE(16,0),r.writeInt16BE(1234,4),r.writeInt16BE(5678,6),r.writeInt32BE(e,8),r.writeInt32BE(t,12),r},Io=(e,t)=>{let r=Buffer.byteLength(t),n=4+r+1,i=Buffer.allocUnsafe(1+n);return i[0]=e,i.writeInt32BE(n,1),i.write(t,5,"utf-8"),i[n]=0,i},m0=Qe.addCString("P").flush(68),g0=Qe.addCString("S").flush(68),v0=e=>e.name?Io(68,`${e.type}${e.name||""}`):e.type==="P"?m0:g0,y0=e=>{let t=`${e.type}${e.name||""}`;return Io(67,t)},T0=e=>Qe.add(e).flush(100),_0=e=>Io(102,e),Ti=e=>Buffer.from([e,0,0,0,4]),R0=Ti(72),S0=Ti(83),N0=Ti(88),O0=Ti(99),C0={startup:s0,password:a0,requestSsl:o0,sendSASLInitialResponseMessage:u0,sendSCRAMClientFinalMessage:c0,query:l0,parse:f0,bind:h0,execute:p0,describe:v0,close:y0,flush:()=>R0,sync:()=>S0,end:()=>N0,copyData:T0,copyDone:()=>O0,copyFail:_0,cancel:E0};wo.serialize=C0});var bf=_(Le=>{"use strict";Object.defineProperty(Le,"__esModule",{value:!0});Le.parseComplete={name:"parseComplete",length:5};Le.bindComplete={name:"bindComplete",length:5};Le.closeComplete={name:"closeComplete",length:5};Le.noData={name:"noData",length:5};Le.portalSuspended={name:"portalSuspended",length:5};Le.replicationStart={name:"replicationStart",length:4};Le.emptyQuery={name:"emptyQuery",length:4};Le.copyDone={name:"copyDone",length:4};var Lo=class extends Error{constructor(t,r,n){super(t),this.length=r,this.name=n}};Le.DatabaseError=Lo;var Po=class{constructor(t,r){this.length=t,this.chunk=r,this.name="copyData"}};Le.CopyDataMessage=Po;var Do=class{constructor(t,r,n,i){this.length=t,this.name=r,this.binary=n,this.columnTypes=new Array(i)}};Le.CopyResponse=Do;var Mo=class{constructor(t,r,n,i,s,o,a){this.name=t,this.tableID=r,this.columnID=n,this.dataTypeID=i,this.dataTypeSize=s,this.dataTypeModifier=o,this.format=a}};Le.Field=Mo;var ko=class{constructor(t,r){this.length=t,this.fieldCount=r,this.name="rowDescription",this.fields=new Array(this.fieldCount)}};Le.RowDescriptionMessage=ko;var xo=class{constructor(t,r,n){this.length=t,this.parameterName=r,this.parameterValue=n,this.name="parameterStatus"}};Le.ParameterStatusMessage=xo;var qo=class{constructor(t,r){this.length=t,this.salt=r,this.name="authenticationMD5Password"}};Le.AuthenticationMD5Password=qo;var Fo=class{constructor(t,r,n){this.length=t,this.processID=r,this.secretKey=n,this.name="backendKeyData"}};Le.BackendKeyDataMessage=Fo;var Uo=class{constructor(t,r,n,i){this.length=t,this.processId=r,this.channel=n,this.payload=i,this.name="notification"}};Le.NotificationResponseMessage=Uo;var Bo=class{constructor(t,r){this.length=t,this.status=r,this.name="readyForQuery"}};Le.ReadyForQueryMessage=Bo;var jo=class{constructor(t,r){this.length=t,this.text=r,this.name="commandComplete"}};Le.CommandCompleteMessage=jo;var Wo=class{constructor(t,r){this.length=t,this.fields=r,this.name="dataRow",this.fieldCount=r.length}};Le.DataRowMessage=Wo;var Ho=class{constructor(t,r){this.length=t,this.message=r,this.name="notice"}};Le.NoticeMessage=Ho});var If=_($o=>{"use strict";Object.defineProperty($o,"__esModule",{value:!0});var A0=Buffer.allocUnsafe(0),Go=class{constructor(t=0){this.offset=t,this.buffer=A0,this.encoding="utf-8"}setBuffer(t,r){this.offset=t,this.buffer=r}int16(){let t=this.buffer.readInt16BE(this.offset);return this.offset+=2,t}byte(){let t=this.buffer[this.offset];return this.offset++,t}int32(){let t=this.buffer.readInt32BE(this.offset);return this.offset+=4,t}string(t){let r=this.buffer.toString(this.encoding,this.offset,this.offset+t);return this.offset+=t,r}cstring(){let t=this.offset,r=t;for(;this.buffer[r++]!==0;);return this.offset=r,this.buffer.toString(this.encoding,t,r-1)}bytes(t){let r=this.buffer.slice(this.offset,this.offset+t);return this.offset+=t,r}};$o.BufferReader=Go});var Pf=_(Cn=>{"use strict";var b0=Cn&&Cn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cn,"__esModule",{value:!0});var Me=bf(),I0=If(),w0=b0(require("assert")),Vo=1,L0=4,wf=Vo+L0,Lf=Buffer.allocUnsafe(0),Qo=class{constructor(t){var r,n;if(this.buffer=Lf,this.bufferLength=0,this.bufferOffset=0,this.reader=new I0.BufferReader,((r=t)===null||r===void 0?void 0:r.mode)==="binary")throw new Error("Binary mode not supported yet");this.mode=((n=t)===null||n===void 0?void 0:n.mode)||"text"}parse(t,r){this.mergeBuffer(t);let n=this.bufferOffset+this.bufferLength,i=this.bufferOffset;for(;i+wf<=n;){let s=this.buffer[i],o=this.buffer.readUInt32BE(i+Vo),a=Vo+o;if(a+i<=n){let u=this.handlePacket(i+wf,s,o,this.buffer);r(u),i+=a}else break}i===n?(this.buffer=Lf,this.bufferLength=0,this.bufferOffset=0):(this.bufferLength=n-i,this.bufferOffset=i)}mergeBuffer(t){if(this.bufferLength>0){let r=this.bufferLength+t.byteLength;if(r+this.bufferOffset>this.buffer.byteLength){let i;if(r<=this.buffer.byteLength&&this.bufferOffset>=this.bufferLength)i=this.buffer;else{let s=this.buffer.byteLength*2;for(;r>=s;)s*=2;i=Buffer.allocUnsafe(s)}this.buffer.copy(i,0,this.bufferOffset,this.bufferOffset+this.bufferLength),this.buffer=i,this.bufferOffset=0}t.copy(this.buffer,this.bufferOffset+this.bufferLength),this.bufferLength=r}else this.buffer=t,this.bufferOffset=0,this.bufferLength=t.byteLength}handlePacket(t,r,n,i){switch(r){case 50:return Me.bindComplete;case 49:return Me.parseComplete;case 51:return Me.closeComplete;case 110:return Me.noData;case 115:return Me.portalSuspended;case 99:return Me.copyDone;case 87:return Me.replicationStart;case 73:return Me.emptyQuery;case 68:return this.parseDataRowMessage(t,n,i);case 67:return this.parseCommandCompleteMessage(t,n,i);case 90:return this.parseReadyForQueryMessage(t,n,i);case 65:return this.parseNotificationMessage(t,n,i);case 82:return this.parseAuthenticationResponse(t,n,i);case 83:return this.parseParameterStatusMessage(t,n,i);case 75:return this.parseBackendKeyData(t,n,i);case 69:return this.parseErrorMessage(t,n,i,"error");case 78:return this.parseErrorMessage(t,n,i,"notice");case 84:return this.parseRowDescriptionMessage(t,n,i);case 71:return this.parseCopyInMessage(t,n,i);case 72:return this.parseCopyOutMessage(t,n,i);case 100:return this.parseCopyData(t,n,i);default:w0.default.fail(`unknown message code: ${r.toString(16)}`)}}parseReadyForQueryMessage(t,r,n){this.reader.setBuffer(t,n);let i=this.reader.string(1);return new Me.ReadyForQueryMessage(r,i)}parseCommandCompleteMessage(t,r,n){this.reader.setBuffer(t,n);let i=this.reader.cstring();return new Me.CommandCompleteMessage(r,i)}parseCopyData(t,r,n){let i=n.slice(t,t+(r-4));return new Me.CopyDataMessage(r,i)}parseCopyInMessage(t,r,n){return this.parseCopyMessage(t,r,n,"copyInResponse")}parseCopyOutMessage(t,r,n){return this.parseCopyMessage(t,r,n,"copyOutResponse")}parseCopyMessage(t,r,n,i){this.reader.setBuffer(t,n);let s=this.reader.byte()!==0,o=this.reader.int16(),a=new Me.CopyResponse(r,i,s,o);for(let u=0;u<o;u++)a.columnTypes[u]=this.reader.int16();return a}parseNotificationMessage(t,r,n){this.reader.setBuffer(t,n);let i=this.reader.int32(),s=this.reader.cstring(),o=this.reader.cstring();return new Me.NotificationResponseMessage(r,i,s,o)}parseRowDescriptionMessage(t,r,n){this.reader.setBuffer(t,n);let i=this.reader.int16(),s=new Me.RowDescriptionMessage(r,i);for(let o=0;o<i;o++)s.fields[o]=this.parseField();return s}parseField(){let t=this.reader.cstring(),r=this.reader.int32(),n=this.reader.int16(),i=this.reader.int32(),s=this.reader.int16(),o=this.reader.int32(),a=this.reader.int16()===0?"text":"binary";return new Me.Field(t,r,n,i,s,o,a)}parseDataRowMessage(t,r,n){this.reader.setBuffer(t,n);let i=this.reader.int16(),s=new Array(i);for(let o=0;o<i;o++){let a=this.reader.int32();s[o]=a===-1?null:this.reader.string(a)}return new Me.DataRowMessage(r,s)}parseParameterStatusMessage(t,r,n){this.reader.setBuffer(t,n);let i=this.reader.cstring(),s=this.reader.cstring();return new Me.ParameterStatusMessage(r,i,s)}parseBackendKeyData(t,r,n){this.reader.setBuffer(t,n);let i=this.reader.int32(),s=this.reader.int32();return new Me.BackendKeyDataMessage(r,i,s)}parseAuthenticationResponse(t,r,n){this.reader.setBuffer(t,n);let i=this.reader.int32(),s={name:"authenticationOk",length:r};switch(i){case 0:break;case 3:s.length===8&&(s.name="authenticationCleartextPassword");break;case 5:if(s.length===12){s.name="authenticationMD5Password";let a=this.reader.bytes(4);return new Me.AuthenticationMD5Password(r,a)}break;case 10:s.name="authenticationSASL",s.mechanisms=[];let o;do o=this.reader.cstring(),o&&s.mechanisms.push(o);while(o);break;case 11:s.name="authenticationSASLContinue",s.data=this.reader.string(r-8);break;case 12:s.name="authenticationSASLFinal",s.data=this.reader.string(r-8);break;default:throw new Error("Unknown authenticationOk message type "+i)}return s}parseErrorMessage(t,r,n,i){this.reader.setBuffer(t,n);let s={},o=this.reader.string(1);for(;o!=="\0";)s[o]=this.reader.cstring(),o=this.reader.string(1);let a=s.M,u=i==="notice"?new Me.NoticeMessage(r,a):new Me.DatabaseError(a,r,i);return u.severity=s.S,u.code=s.C,u.detail=s.D,u.hint=s.H,u.position=s.P,u.internalPosition=s.p,u.internalQuery=s.q,u.where=s.W,u.schema=s.s,u.table=s.t,u.column=s.c,u.dataType=s.d,u.constraint=s.n,u.file=s.F,u.line=s.L,u.routine=s.R,u}};Cn.Parser=Qo});var Df=_(_i=>{"use strict";Object.defineProperty(_i,"__esModule",{value:!0});var P0=Af();_i.serialize=P0.serialize;var D0=Pf();function M0(e,t){let r=new D0.Parser;return e.on("data",n=>r.parse(n,t)),new Promise(n=>e.on("end",()=>n()))}_i.parse=M0});var zo=_((qL,xf)=>{"use strict";var Mf=require("net"),k0=require("events").EventEmitter,xL=require("util"),{parse:x0,serialize:je}=Df(),kf=je.flush(),q0=je.sync(),F0=je.end(),Yo=class extends k0{constructor(t){super(),t=t||{},this.stream=t.stream||new Mf.Socket,this._keepAlive=t.keepAlive,this._keepAliveInitialDelayMillis=t.keepAliveInitialDelayMillis,this.lastBuffer=!1,this.parsedStatements={},this.ssl=t.ssl||!1,this._ending=!1,this._emitMessage=!1;var r=this;this.on("newListener",function(n){n==="message"&&(r._emitMessage=!0)})}connect(t,r){var n=this;this._connecting=!0,this.stream.setNoDelay(!0),this.stream.connect(t,r),this.stream.once("connect",function(){n._keepAlive&&n.stream.setKeepAlive(!0,n._keepAliveInitialDelayMillis),n.emit("connect")});let i=function(s){n._ending&&(s.code==="ECONNRESET"||s.code==="EPIPE")||n.emit("error",s)};if(this.stream.on("error",i),this.stream.on("close",function(){n.emit("end")}),!this.ssl)return this.attachListeners(this.stream);this.stream.once("data",function(s){var o=s.toString("utf8");switch(o){case"S":break;case"N":return n.stream.end(),n.emit("error",new Error("The server does not support SSL connections"));default:return n.stream.end(),n.emit("error",new Error("There was an error establishing an SSL connection"))}var a=require("tls");let u=Object.assign({socket:n.stream},n.ssl);Mf.isIP(r)===0&&(u.servername=r);try{n.stream=a.connect(u)}catch(c){return n.emit("error",c)}n.attachListeners(n.stream),n.stream.on("error",i),n.emit("sslconnect")})}attachListeners(t){t.on("end",()=>{this.emit("end")}),x0(t,r=>{var n=r.name==="error"?"errorMessage":r.name;this._emitMessage&&this.emit("message",r),this.emit(n,r)})}requestSsl(){this.stream.write(je.requestSsl())}startup(t){this.stream.write(je.startup(t))}cancel(t,r){this._send(je.cancel(t,r))}password(t){this._send(je.password(t))}sendSASLInitialResponseMessage(t,r){this._send(je.sendSASLInitialResponseMessage(t,r))}sendSCRAMClientFinalMessage(t){this._send(je.sendSCRAMClientFinalMessage(t))}_send(t){return this.stream.writable?this.stream.write(t):!1}query(t){this._send(je.query(t))}parse(t){this._send(je.parse(t))}bind(t){this._send(je.bind(t))}execute(t){this._send(je.execute(t))}flush(){this.stream.writable&&this.stream.write(kf)}sync(){this._ending=!0,this._send(kf),this._send(q0)}end(){if(this._ending=!0,!this._connecting||!this.stream.writable){this.stream.end();return}return this.stream.write(F0,()=>{this.stream.end()})}close(t){this._send(je.close(t))}describe(t){this._send(je.describe(t))}sendCopyFromChunk(t){this._send(je.copyData(t))}endCopyFrom(){this._send(je.copyDone())}sendCopyFail(t){this._send(je.copyFail(t))}};xf.exports=Yo});var Uf=_((UL,Ff)=>{"use strict";var U0=require("events").EventEmitter,FL=require("util"),B0=mi(),Xo=Zl(),j0=lf(),W0=To(),H0=No(),qf=Sf(),G0=Nn(),$0=zo(),Ri=class extends U0{constructor(t){super(),this.connectionParameters=new H0(t),this.user=this.connectionParameters.user,this.database=this.connectionParameters.database,this.port=this.connectionParameters.port,this.host=this.connectionParameters.host,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:this.connectionParameters.password}),this.replication=this.connectionParameters.replication;var r=t||{};this._Promise=r.Promise||global.Promise,this._types=new W0(r.types),this._ending=!1,this._connecting=!1,this._connected=!1,this._connectionError=!1,this._queryable=!0,this.connection=r.connection||new $0({stream:r.stream,ssl:this.connectionParameters.ssl,keepAlive:r.keepAlive||!1,keepAliveInitialDelayMillis:r.keepAliveInitialDelayMillis||0,encoding:this.connectionParameters.client_encoding||"utf8"}),this.queryQueue=[],this.binary=r.binary||G0.binary,this.processID=null,this.secretKey=null,this.ssl=this.connectionParameters.ssl||!1,this._connectionTimeoutMillis=r.connectionTimeoutMillis||0}_errorAllQueries(t){let r=n=>{process.nextTick(()=>{n.handleError(t,this.connection)})};this.activeQuery&&(r(this.activeQuery),this.activeQuery=null),this.queryQueue.forEach(r),this.queryQueue.length=0}_connect(t){var r=this,n=this.connection;if(this._connectionCallback=t,this._connecting||this._connected){let i=new Error("Client has already been connected. You cannot reuse a client.");process.nextTick(()=>{t(i)});return}this._connecting=!0,this.connectionTimeoutHandle,this._connectionTimeoutMillis>0&&(this.connectionTimeoutHandle=setTimeout(()=>{n._ending=!0,n.stream.destroy(new Error("timeout expired"))},this._connectionTimeoutMillis)),this.host&&this.host.indexOf("/")===0?n.connect(this.host+"/.s.PGSQL."+this.port):n.connect(this.port,this.host),n.on("connect",function(){r.ssl?n.requestSsl():n.startup(r.getStartupConf())}),n.on("sslconnect",function(){n.startup(r.getStartupConf())}),this._attachListeners(n),n.once("end",()=>{let i=this._ending?new Error("Connection terminated"):new Error("Connection terminated unexpectedly");clearTimeout(this.connectionTimeoutHandle),this._errorAllQueries(i),this._ending||(this._connecting&&!this._connectionError?this._connectionCallback?this._connectionCallback(i):this._handleErrorEvent(i):this._connectionError||this._handleErrorEvent(i)),process.nextTick(()=>{this.emit("end")})})}connect(t){if(t){this._connect(t);return}return new this._Promise((r,n)=>{this._connect(i=>{i?n(i):r()})})}_attachListeners(t){t.on("authenticationCleartextPassword",this._handleAuthCleartextPassword.bind(this)),t.on("authenticationMD5Password",this._handleAuthMD5Password.bind(this)),t.on("authenticationSASL",this._handleAuthSASL.bind(this)),t.on("authenticationSASLContinue",this._handleAuthSASLContinue.bind(this)),t.on("authenticationSASLFinal",this._handleAuthSASLFinal.bind(this)),t.on("backendKeyData",this._handleBackendKeyData.bind(this)),t.on("error",this._handleErrorEvent.bind(this)),t.on("errorMessage",this._handleErrorMessage.bind(this)),t.on("readyForQuery",this._handleReadyForQuery.bind(this)),t.on("notice",this._handleNotice.bind(this)),t.on("rowDescription",this._handleRowDescription.bind(this)),t.on("dataRow",this._handleDataRow.bind(this)),t.on("portalSuspended",this._handlePortalSuspended.bind(this)),t.on("emptyQuery",this._handleEmptyQuery.bind(this)),t.on("commandComplete",this._handleCommandComplete.bind(this)),t.on("parseComplete",this._handleParseComplete.bind(this)),t.on("copyInResponse",this._handleCopyInResponse.bind(this)),t.on("copyData",this._handleCopyData.bind(this)),t.on("notification",this._handleNotification.bind(this))}_checkPgPass(t){let r=this.connection;typeof this.password=="function"?this._Promise.resolve().then(()=>this.password()).then(n=>{if(n!==void 0){if(typeof n!="string"){r.emit("error",new TypeError("Password must be a string"));return}this.connectionParameters.password=this.password=n}else this.connectionParameters.password=this.password=null;t()}).catch(n=>{r.emit("error",n)}):this.password!==null?t():j0(this.connectionParameters,function(n){n!==void 0&&(this.connectionParameters.password=this.password=n),t()})}_handleAuthCleartextPassword(t){this._checkPgPass(()=>{this.connection.password(this.password)})}_handleAuthMD5Password(t){this._checkPgPass(()=>{let r=B0.postgresMd5PasswordHash(this.user,this.password,t.salt);this.connection.password(r)})}_handleAuthSASL(t){this._checkPgPass(()=>{this.saslSession=Xo.startSession(t.mechanisms),this.connection.sendSASLInitialResponseMessage(this.saslSession.mechanism,this.saslSession.response)})}_handleAuthSASLContinue(t){Xo.continueSession(this.saslSession,this.password,t.data),this.connection.sendSCRAMClientFinalMessage(this.saslSession.response)}_handleAuthSASLFinal(t){Xo.finalizeSession(this.saslSession,t.data),this.saslSession=null}_handleBackendKeyData(t){this.processID=t.processID,this.secretKey=t.secretKey}_handleReadyForQuery(t){this._connecting&&(this._connecting=!1,this._connected=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback&&(this._connectionCallback(null,this),this._connectionCallback=null),this.emit("connect"));let{activeQuery:r}=this;this.activeQuery=null,this.readyForQuery=!0,r&&r.handleReadyForQuery(this.connection),this._pulseQueryQueue()}_handleErrorWhileConnecting(t){if(!this._connectionError){if(this._connectionError=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback)return this._connectionCallback(t);this.emit("error",t)}}_handleErrorEvent(t){if(this._connecting)return this._handleErrorWhileConnecting(t);this._queryable=!1,this._errorAllQueries(t),this.emit("error",t)}_handleErrorMessage(t){if(this._connecting)return this._handleErrorWhileConnecting(t);let r=this.activeQuery;if(!r){this._handleErrorEvent(t);return}this.activeQuery=null,r.handleError(t,this.connection)}_handleRowDescription(t){this.activeQuery.handleRowDescription(t)}_handleDataRow(t){this.activeQuery.handleDataRow(t)}_handlePortalSuspended(t){this.activeQuery.handlePortalSuspended(this.connection)}_handleEmptyQuery(t){this.activeQuery.handleEmptyQuery(this.connection)}_handleCommandComplete(t){this.activeQuery.handleCommandComplete(t,this.connection)}_handleParseComplete(t){this.activeQuery.name&&(this.connection.parsedStatements[this.activeQuery.name]=this.activeQuery.text)}_handleCopyInResponse(t){this.activeQuery.handleCopyInResponse(this.connection)}_handleCopyData(t){this.activeQuery.handleCopyData(t,this.connection)}_handleNotification(t){this.emit("notification",t)}_handleNotice(t){this.emit("notice",t)}getStartupConf(){var t=this.connectionParameters,r={user:t.user,database:t.database},n=t.application_name||t.fallback_application_name;return n&&(r.application_name=n),t.replication&&(r.replication=""+t.replication),t.statement_timeout&&(r.statement_timeout=String(parseInt(t.statement_timeout,10))),t.idle_in_transaction_session_timeout&&(r.idle_in_transaction_session_timeout=String(parseInt(t.idle_in_transaction_session_timeout,10))),t.options&&(r.options=t.options),r}cancel(t,r){if(t.activeQuery===r){var n=this.connection;this.host&&this.host.indexOf("/")===0?n.connect(this.host+"/.s.PGSQL."+this.port):n.connect(this.port,this.host),n.on("connect",function(){n.cancel(t.processID,t.secretKey)})}else t.queryQueue.indexOf(r)!==-1&&t.queryQueue.splice(t.queryQueue.indexOf(r),1)}setTypeParser(t,r,n){return this._types.setTypeParser(t,r,n)}getTypeParser(t,r){return this._types.getTypeParser(t,r)}escapeIdentifier(t){return'"'+t.replace(/"/g,'""')+'"'}escapeLiteral(t){for(var r=!1,n="'",i=0;i<t.length;i++){var s=t[i];s==="'"?n+=s+s:s==="\\"?(n+=s+s,r=!0):n+=s}return n+="'",r===!0&&(n=" E"+n),n}_pulseQueryQueue(){if(this.readyForQuery===!0)if(this.activeQuery=this.queryQueue.shift(),this.activeQuery){this.readyForQuery=!1,this.hasExecuted=!0;let t=this.activeQuery.submit(this.connection);t&&process.nextTick(()=>{this.activeQuery.handleError(t,this.connection),this.readyForQuery=!0,this._pulseQueryQueue()})}else this.hasExecuted&&(this.activeQuery=null,this.emit("drain"))}query(t,r,n){var i,s,o,a,u;if(t==null)throw new TypeError("Client was passed a null or undefined query");return typeof t.submit=="function"?(o=t.query_timeout||this.connectionParameters.query_timeout,s=i=t,typeof r=="function"&&(i.callback=i.callback||r)):(o=this.connectionParameters.query_timeout,i=new qf(t,r,n),i.callback||(s=new this._Promise((c,d)=>{i.callback=(E,g)=>E?d(E):c(g)}))),o&&(u=i.callback,a=setTimeout(()=>{var c=new Error("Query read timeout");process.nextTick(()=>{i.handleError(c,this.connection)}),u(c),i.callback=()=>{};var d=this.queryQueue.indexOf(i);d>-1&&this.queryQueue.splice(d,1),this._pulseQueryQueue()},o),i.callback=(c,d)=>{clearTimeout(a),u(c,d)}),this.binary&&!i.binary&&(i.binary=!0),i._result&&!i._result._types&&(i._result._types=this._types),this._queryable?this._ending?(process.nextTick(()=>{i.handleError(new Error("Client was closed and is not queryable"),this.connection)}),s):(this.queryQueue.push(i),this._pulseQueryQueue(),s):(process.nextTick(()=>{i.handleError(new Error("Client has encountered a connection error and is not queryable"),this.connection)}),s)}end(t){if(this._ending=!0,!this.connection._connecting)if(t)t();else return this._Promise.resolve();if(this.activeQuery||!this._queryable?this.connection.stream.destroy():this.connection.end(),t)this.connection.once("end",t);else return new this._Promise(r=>{this.connection.once("end",r)})}};Ri.Query=qf;Ff.exports=Ri});var Hf=_((BL,Wf)=>{"use strict";var V0=require("events").EventEmitter,Bf=function(){},jf=(e,t)=>{let r=e.findIndex(t);return r===-1?void 0:e.splice(r,1)[0]},Ko=class{constructor(t,r,n){this.client=t,this.idleListener=r,this.timeoutId=n}},An=class{constructor(t){this.callback=t}};function Q0(){throw new Error("Release called on client which has already been released to the pool.")}function Si(e,t){if(t)return{callback:t,result:void 0};let r,n,i=function(o,a){o?r(o):n(a)},s=new e(function(o,a){n=o,r=a});return{callback:i,result:s}}function Y0(e,t){return function r(n){n.client=t,t.removeListener("error",r),t.on("error",()=>{e.log("additional client error after disconnection due to error",n)}),e._remove(t),e.emit("error",n,t)}}var Jo=class extends V0{constructor(t,r){super(),this.options=Object.assign({},t),t!=null&&"password"in t&&Object.defineProperty(this.options,"password",{configurable:!0,enumerable:!1,writable:!0,value:t.password}),this.options.max=this.options.max||this.options.poolSize||10,this.options.maxUses=this.options.maxUses||1/0,this.log=this.options.log||function(){},this.Client=this.options.Client||r||Zo().Client,this.Promise=this.options.Promise||global.Promise,typeof this.options.idleTimeoutMillis=="undefined"&&(this.options.idleTimeoutMillis=1e4),this._clients=[],this._idle=[],this._pendingQueue=[],this._endCallback=void 0,this.ending=!1,this.ended=!1}_isFull(){return this._clients.length>=this.options.max}_pulseQueue(){if(this.log("pulse queue"),this.ended){this.log("pulse queue ended");return}if(this.ending){this.log("pulse queue on ending"),this._idle.length&&this._idle.slice().map(r=>{this._remove(r.client)}),this._clients.length||(this.ended=!0,this._endCallback());return}if(!this._pendingQueue.length){this.log("no queued requests");return}if(!this._idle.length&&this._isFull())return;let t=this._pendingQueue.shift();if(this._idle.length){let r=this._idle.pop();clearTimeout(r.timeoutId);let n=r.client,i=r.idleListener;return this._acquireClient(n,t,i,!1)}if(!this._isFull())return this.newClient(t);throw new Error("unexpected condition")}_remove(t){let r=jf(this._idle,n=>n.client===t);r!==void 0&&clearTimeout(r.timeoutId),this._clients=this._clients.filter(n=>n!==t),t.end(),this.emit("remove",t)}connect(t){if(this.ending){let i=new Error("Cannot use a pool after calling end on the pool");return t?t(i):this.Promise.reject(i)}let r=Si(this.Promise,t),n=r.result;if(this._clients.length>=this.options.max||this._idle.length){if(this._idle.length&&process.nextTick(()=>this._pulseQueue()),!this.options.connectionTimeoutMillis)return this._pendingQueue.push(new An(r.callback)),n;let i=(a,u,c)=>{clearTimeout(o),r.callback(a,u,c)},s=new An(i),o=setTimeout(()=>{jf(this._pendingQueue,a=>a.callback===i),s.timedOut=!0,r.callback(new Error("timeout exceeded when trying to connect"))},this.options.connectionTimeoutMillis);return this._pendingQueue.push(s),n}return this.newClient(new An(r.callback)),n}newClient(t){let r=new this.Client(this.options);this._clients.push(r);let n=Y0(this,r);this.log("checking client timeout");let i,s=!1;this.options.connectionTimeoutMillis&&(i=setTimeout(()=>{this.log("ending client due to timeout"),s=!0,r.connection?r.connection.stream.destroy():r.end()},this.options.connectionTimeoutMillis)),this.log("connecting new client"),r.connect(o=>{if(i&&clearTimeout(i),r.on("error",n),o)this.log("client failed to connect",o),this._clients=this._clients.filter(a=>a!==r),s&&(o.message="Connection terminated due to connection timeout"),this._pulseQueue(),t.timedOut||t.callback(o,void 0,Bf);else return this.log("new client connected"),this._acquireClient(r,t,n,!0)})}_acquireClient(t,r,n,i){i&&this.emit("connect",t),this.emit("acquire",t),t.release=this._releaseOnce(t,n),t.removeListener("error",n),r.timedOut?i&&this.options.verify?this.options.verify(t,t.release):t.release():i&&this.options.verify?this.options.verify(t,s=>{if(s)return t.release(s),r.callback(s,void 0,Bf);r.callback(void 0,t,t.release)}):r.callback(void 0,t,t.release)}_releaseOnce(t,r){let n=!1;return i=>{n&&Q0(),n=!0,this._release(t,r,i)}}_release(t,r,n){if(t.on("error",r),t._poolUseCount=(t._poolUseCount||0)+1,n||this.ending||!t._queryable||t._ending||t._poolUseCount>=this.options.maxUses){t._poolUseCount>=this.options.maxUses&&this.log("remove expended client"),this._remove(t),this._pulseQueue();return}let i;this.options.idleTimeoutMillis&&(i=setTimeout(()=>{this.log("remove idle client"),this._remove(t)},this.options.idleTimeoutMillis)),this._idle.push(new Ko(t,r,i)),this._pulseQueue()}query(t,r,n){if(typeof t=="function"){let s=Si(this.Promise,t);return setImmediate(function(){return s.callback(new Error("Passing a function as the first parameter to pool.query is not supported"))}),s.result}typeof r=="function"&&(n=r,r=void 0);let i=Si(this.Promise,n);return n=i.callback,this.connect((s,o)=>{if(s)return n(s);let a=!1,u=c=>{a||(a=!0,o.release(c),n(c))};o.once("error",u),this.log("dispatching query"),o.query(t,r,(c,d)=>{if(this.log("query dispatched"),o.removeListener("error",u),!a)return a=!0,o.release(c),c?n(c):n(void 0,d)})}),i.result}end(t){if(this.log("ending"),this.ending){let n=new Error("Called end on pool more than once");return t?t(n):this.Promise.reject(n)}this.ending=!0;let r=Si(this.Promise,t);return this._endCallback=r.callback,this._pulseQueue(),r.result}get waitingCount(){return this._pendingQueue.length}get idleCount(){return this._idle.length}get totalCount(){return this._clients.length}};Wf.exports=Jo});var oh=_((ue,Ci)=>{typeof Ci=="object"&&Ci.exports===ue&&(ue=Ci.exports=Ne);var ye;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?ye=function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:ye=function(){};ue.SEMVER_SPEC_VERSION="2.0.0";var ta=256,ea=Number.MAX_SAFE_INTEGER||9007199254740991,Ae=ue.re=[],j=ue.src=[],pe=0,qr=pe++;j[qr]="0|[1-9]\\d*";var Fr=pe++;j[Fr]="[0-9]+";var sa=pe++;j[sa]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var $f=pe++;j[$f]="("+j[qr]+")\\.("+j[qr]+")\\.("+j[qr]+")";var Vf=pe++;j[Vf]="("+j[Fr]+")\\.("+j[Fr]+")\\.("+j[Fr]+")";var ra=pe++;j[ra]="(?:"+j[qr]+"|"+j[sa]+")";var na=pe++;j[na]="(?:"+j[Fr]+"|"+j[sa]+")";var oa=pe++;j[oa]="(?:-("+j[ra]+"(?:\\."+j[ra]+")*))";var aa=pe++;j[aa]="(?:-?("+j[na]+"(?:\\."+j[na]+")*))";var ia=pe++;j[ia]="[0-9A-Za-z-]+";var wn=pe++;j[wn]="(?:\\+("+j[ia]+"(?:\\."+j[ia]+")*))";var ua=pe++,Qf="v?"+j[$f]+j[oa]+"?"+j[wn]+"?";j[ua]="^"+Qf+"$";var ca="[v=\\s]*"+j[Vf]+j[aa]+"?"+j[wn]+"?",la=pe++;j[la]="^"+ca+"$";var jr=pe++;j[jr]="((?:<|>)?=?)";var Ni=pe++;j[Ni]=j[Fr]+"|x|X|\\*";var Oi=pe++;j[Oi]=j[qr]+"|x|X|\\*";var mr=pe++;j[mr]="[v=\\s]*("+j[Oi]+")(?:\\.("+j[Oi]+")(?:\\.("+j[Oi]+")(?:"+j[oa]+")?"+j[wn]+"?)?)?";var Br=pe++;j[Br]="[v=\\s]*("+j[Ni]+")(?:\\.("+j[Ni]+")(?:\\.("+j[Ni]+")(?:"+j[aa]+")?"+j[wn]+"?)?)?";var Yf=pe++;j[Yf]="^"+j[jr]+"\\s*"+j[mr]+"$";var zf=pe++;j[zf]="^"+j[jr]+"\\s*"+j[Br]+"$";var Li=pe++;j[Li]="(?:~>?)";var Ai=pe++;j[Ai]="(\\s*)"+j[Li]+"\\s+";Ae[Ai]=new RegExp(j[Ai],"g");var z0="$1~",Xf=pe++;j[Xf]="^"+j[Li]+j[mr]+"$";var Kf=pe++;j[Kf]="^"+j[Li]+j[Br]+"$";var Pi=pe++;j[Pi]="(?:\\^)";var bi=pe++;j[bi]="(\\s*)"+j[Pi]+"\\s+";Ae[bi]=new RegExp(j[bi],"g");var X0="$1^",Jf=pe++;j[Jf]="^"+j[Pi]+j[mr]+"$";var Zf=pe++;j[Zf]="^"+j[Pi]+j[Br]+"$";var fa=pe++;j[fa]="^"+j[jr]+"\\s*("+ca+")$|^$";var ha=pe++;j[ha]="^"+j[jr]+"\\s*("+Qf+")$|^$";var bn=pe++;j[bn]="(\\s*)"+j[jr]+"\\s*("+ca+"|"+j[mr]+")";Ae[bn]=new RegExp(j[bn],"g");var K0="$1$2$3",eh=pe++;j[eh]="^\\s*("+j[mr]+")\\s+-\\s+("+j[mr]+")\\s*$";var th=pe++;j[th]="^\\s*("+j[Br]+")\\s+-\\s+("+j[Br]+")\\s*$";var rh=pe++;j[rh]="(<|>)?=?\\s*\\*";for(er=0;er<pe;er++)ye(er,j[er]),Ae[er]||(Ae[er]=new RegExp(j[er]));var er;ue.parse=In;function In(e,t){if(e.length>ta)return null;var r=t?Ae[la]:Ae[ua];if(!r.test(e))return null;try{return new Ne(e,t)}catch(n){return null}}ue.valid=J0;function J0(e,t){var r=In(e,t);return r?r.version:null}ue.clean=Z0;function Z0(e,t){var r=In(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}ue.SemVer=Ne;function Ne(e,t){if(e instanceof Ne){if(e.loose===t)return e;e=e.version}else if(typeof e!="string")throw new TypeError("Invalid Version: "+e);if(e.length>ta)throw new TypeError("version is longer than "+ta+" characters");if(!(this instanceof Ne))return new Ne(e,t);ye("SemVer",e,t),this.loose=t;var r=e.trim().match(t?Ae[la]:Ae[ua]);if(!r)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>ea||this.major<0)throw new TypeError("Invalid major version");if(this.minor>ea||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>ea||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(function(n){return/^[0-9]+$/.test(n)?+n:n}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}Ne.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version};Ne.prototype.inspect=function(){return'<SemVer "'+this+'">'};Ne.prototype.toString=function(){return this.version};Ne.prototype.compare=function(e){return ye("SemVer.compare",this.version,this.loose,e),e instanceof Ne||(e=new Ne(e,this.loose)),this.compareMain(e)||this.comparePre(e)};Ne.prototype.compareMain=function(e){return e instanceof Ne||(e=new Ne(e,this.loose)),Ur(this.major,e.major)||Ur(this.minor,e.minor)||Ur(this.patch,e.patch)};Ne.prototype.comparePre=function(e){if(e instanceof Ne||(e=new Ne(e,this.loose)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var r=this.prerelease[t],n=e.prerelease[t];if(ye("prerelease compare",t,r,n),r===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(r===void 0)return-1;if(r===n)continue;return Ur(r,n)}while(++t)};Ne.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t),this.inc("pre",t);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)typeof this.prerelease[r]=="number"&&(this.prerelease[r]++,r=-2);r===-1&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this};ue.inc=eT;function eT(e,t,r,n){typeof r=="string"&&(n=r,r=void 0);try{return new Ne(e,r).inc(t,n).version}catch(i){return null}}ue.diff=tT;function tT(e,t){if(da(e,t))return null;var r=In(e),n=In(t);if(r.prerelease.length||n.prerelease.length){for(var i in r)if((i==="major"||i==="minor"||i==="patch")&&r[i]!==n[i])return"pre"+i;return"prerelease"}for(var i in r)if((i==="major"||i==="minor"||i==="patch")&&r[i]!==n[i])return i}ue.compareIdentifiers=Ur;var Gf=/^[0-9]+$/;function Ur(e,t){var r=Gf.test(e),n=Gf.test(t);return r&&n&&(e=+e,t=+t),r&&!n?-1:n&&!r?1:e<t?-1:e>t?1:0}ue.rcompareIdentifiers=rT;function rT(e,t){return Ur(t,e)}ue.major=nT;function nT(e,t){return new Ne(e,t).major}ue.minor=iT;function iT(e,t){return new Ne(e,t).minor}ue.patch=sT;function sT(e,t){return new Ne(e,t).patch}ue.compare=Wt;function Wt(e,t,r){return new Ne(e,r).compare(t)}ue.compareLoose=oT;function oT(e,t){return Wt(e,t,!0)}ue.rcompare=nh;function nh(e,t,r){return Wt(t,e,r)}ue.sort=aT;function aT(e,t){return e.sort(function(r,n){return ue.compare(r,n,t)})}ue.rsort=uT;function uT(e,t){return e.sort(function(r,n){return ue.rcompare(r,n,t)})}ue.gt=Ii;function Ii(e,t,r){return Wt(e,t,r)>0}ue.lt=wi;function wi(e,t,r){return Wt(e,t,r)<0}ue.eq=da;function da(e,t,r){return Wt(e,t,r)===0}ue.neq=ih;function ih(e,t,r){return Wt(e,t,r)!==0}ue.gte=pa;function pa(e,t,r){return Wt(e,t,r)>=0}ue.lte=Ea;function Ea(e,t,r){return Wt(e,t,r)<=0}ue.cmp=sh;function sh(e,t,r,n){var i;switch(t){case"===":typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),i=e===r;break;case"!==":typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),i=e!==r;break;case"":case"=":case"==":i=da(e,r,n);break;case"!=":i=ih(e,r,n);break;case">":i=Ii(e,r,n);break;case">=":i=pa(e,r,n);break;case"<":i=wi(e,r,n);break;case"<=":i=Ea(e,r,n);break;default:throw new TypeError("Invalid operator: "+t)}return i}ue.Comparator=jt;function jt(e,t){if(e instanceof jt){if(e.loose===t)return e;e=e.value}if(!(this instanceof jt))return new jt(e,t);ye("comparator",e,t),this.loose=t,this.parse(e),this.semver===Di?this.value="":this.value=this.operator+this.semver.version,ye("comp",this)}var Di={};jt.prototype.parse=function(e){var t=this.loose?Ae[fa]:Ae[ha],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=r[1],this.operator==="="&&(this.operator=""),r[2]?this.semver=new Ne(r[2],this.loose):this.semver=Di};jt.prototype.inspect=function(){return'<SemVer Comparator "'+this+'">'};jt.prototype.toString=function(){return this.value};jt.prototype.test=function(e){return ye("Comparator.test",e,this.loose),this.semver===Di?!0:(typeof e=="string"&&(e=new Ne(e,this.loose)),sh(e,this.operator,this.semver,this.loose))};ue.Range=at;function at(e,t){if(e instanceof at&&e.loose===t)return e;if(!(this instanceof at))return new at(e,t);if(this.loose=t,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(function(r){return this.parseRange(r.trim())},this).filter(function(r){return r.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}at.prototype.inspect=function(){return'<SemVer Range "'+this.range+'">'};at.prototype.format=function(){return this.range=this.set.map(function(e){return e.join(" ").trim()}).join("||").trim(),this.range};at.prototype.toString=function(){return this.range};at.prototype.parseRange=function(e){var t=this.loose;e=e.trim(),ye("range",e,t);var r=t?Ae[th]:Ae[eh];e=e.replace(r,vT),ye("hyphen replace",e),e=e.replace(Ae[bn],K0),ye("comparator trim",e,Ae[bn]),e=e.replace(Ae[Ai],z0),e=e.replace(Ae[bi],X0),e=e.split(/\s+/).join(" ");var n=t?Ae[fa]:Ae[ha],i=e.split(" ").map(function(s){return lT(s,t)}).join(" ").split(/\s+/);return this.loose&&(i=i.filter(function(s){return!!s.match(n)})),i=i.map(function(s){return new jt(s,t)}),i};ue.toComparators=cT;function cT(e,t){return new at(e,t).set.map(function(r){return r.map(function(n){return n.value}).join(" ").trim().split(" ")})}function lT(e,t){return ye("comp",e),e=dT(e,t),ye("caret",e),e=fT(e,t),ye("tildes",e),e=ET(e,t),ye("xrange",e),e=gT(e,t),ye("stars",e),e}function ze(e){return!e||e.toLowerCase()==="x"||e==="*"}function fT(e,t){return e.trim().split(/\s+/).map(function(r){return hT(r,t)}).join(" ")}function hT(e,t){var r=t?Ae[Kf]:Ae[Xf];return e.replace(r,function(n,i,s,o,a){ye("tilde",e,n,i,s,o,a);var u;return ze(i)?u="":ze(s)?u=">="+i+".0.0 <"+(+i+1)+".0.0":ze(o)?u=">="+i+"."+s+".0 <"+i+"."+(+s+1)+".0":a?(ye("replaceTilde pr",a),a.charAt(0)!=="-"&&(a="-"+a),u=">="+i+"."+s+"."+o+a+" <"+i+"."+(+s+1)+".0"):u=">="+i+"."+s+"."+o+" <"+i+"."+(+s+1)+".0",ye("tilde return",u),u})}function dT(e,t){return e.trim().split(/\s+/).map(function(r){return pT(r,t)}).join(" ")}function pT(e,t){ye("caret",e,t);var r=t?Ae[Zf]:Ae[Jf];return e.replace(r,function(n,i,s,o,a){ye("caret",e,n,i,s,o,a);var u;return ze(i)?u="":ze(s)?u=">="+i+".0.0 <"+(+i+1)+".0.0":ze(o)?i==="0"?u=">="+i+"."+s+".0 <"+i+"."+(+s+1)+".0":u=">="+i+"."+s+".0 <"+(+i+1)+".0.0":a?(ye("replaceCaret pr",a),a.charAt(0)!=="-"&&(a="-"+a),i==="0"?s==="0"?u=">="+i+"."+s+"."+o+a+" <"+i+"."+s+"."+(+o+1):u=">="+i+"."+s+"."+o+a+" <"+i+"."+(+s+1)+".0":u=">="+i+"."+s+"."+o+a+" <"+(+i+1)+".0.0"):(ye("no pr"),i==="0"?s==="0"?u=">="+i+"."+s+"."+o+" <"+i+"."+s+"."+(+o+1):u=">="+i+"."+s+"."+o+" <"+i+"."+(+s+1)+".0":u=">="+i+"."+s+"."+o+" <"+(+i+1)+".0.0"),ye("caret return",u),u})}function ET(e,t){return ye("replaceXRanges",e,t),e.split(/\s+/).map(function(r){return mT(r,t)}).join(" ")}function mT(e,t){e=e.trim();var r=t?Ae[zf]:Ae[Yf];return e.replace(r,function(n,i,s,o,a,u){ye("xRange",e,n,i,s,o,a,u);var c=ze(s),d=c||ze(o),E=d||ze(a),g=E;return i==="="&&g&&(i=""),c?i===">"||i==="<"?n="<0.0.0":n="*":i&&g?(d&&(o=0),E&&(a=0),i===">"?(i=">=",d?(s=+s+1,o=0,a=0):E&&(o=+o+1,a=0)):i==="<="&&(i="<",d?s=+s+1:o=+o+1),n=i+s+"."+o+"."+a):d?n=">="+s+".0.0 <"+(+s+1)+".0.0":E&&(n=">="+s+"."+o+".0 <"+s+"."+(+o+1)+".0"),ye("xRange return",n),n})}function gT(e,t){return ye("replaceStars",e,t),e.trim().replace(Ae[rh],"")}function vT(e,t,r,n,i,s,o,a,u,c,d,E,g){return ze(r)?t="":ze(n)?t=">="+r+".0.0":ze(i)?t=">="+r+"."+n+".0":t=">="+t,ze(u)?a="":ze(c)?a="<"+(+u+1)+".0.0":ze(d)?a="<"+u+"."+(+c+1)+".0":E?a="<="+u+"."+c+"."+d+"-"+E:a="<="+a,(t+" "+a).trim()}at.prototype.test=function(e){if(!e)return!1;typeof e=="string"&&(e=new Ne(e,this.loose));for(var t=0;t<this.set.length;t++)if(yT(this.set[t],e))return!0;return!1};function yT(e,t){for(var r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length){for(var r=0;r<e.length;r++){if(ye(e[r].semver),e[r].semver===Di)return!0;if(e[r].semver.prerelease.length>0){var n=e[r].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}}return!1}return!0}ue.satisfies=ma;function ma(e,t,r){try{t=new at(t,r)}catch(n){return!1}return t.test(e)}ue.maxSatisfying=TT;function TT(e,t,r){return e.filter(function(n){return ma(n,t,r)}).sort(function(n,i){return nh(n,i,r)})[0]||null}ue.validRange=_T;function _T(e,t){try{return new at(e,t).range||"*"}catch(r){return null}}ue.ltr=RT;function RT(e,t,r){return ga(e,t,"<",r)}ue.gtr=ST;function ST(e,t,r){return ga(e,t,">",r)}ue.outside=ga;function ga(e,t,r,n){e=new Ne(e,n),t=new at(t,n);var i,s,o,a,u;switch(r){case">":i=Ii,s=Ea,o=wi,a=">",u=">=";break;case"<":i=wi,s=pa,o=Ii,a="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ma(e,t,n))return!1;for(var c=0;c<t.set.length;++c){var d=t.set[c],E=null,g=null;if(d.forEach(function(R){E=E||R,g=g||R,i(R.semver,E.semver,n)?E=R:o(R.semver,g.semver,n)&&(g=R)}),E.operator===a||E.operator===u||(!g.operator||g.operator===a)&&s(e,g.semver))return!1;if(g.operator===u&&o(e,g.semver))return!1}return!0}typeof define=="function"&&define.amd&&define(ue)});var ah=_((jL,NT)=>{NT.exports={name:"pg",version:"8.3.2",description:"PostgreSQL client - pure javascript & libpq with the same API",keywords:["database","libpq","pg","postgre","postgres","postgresql","rdbms"],homepage:"https://github.com/brianc/node-postgres",repository:{type:"git",url:"git://github.com/brianc/node-postgres.git"},author:"Brian Carlson <brian.m.carlson@gmail.com>",main:"./lib",dependencies:{"buffer-writer":"2.0.0","packet-reader":"1.0.0","pg-connection-string":"^2.3.0","pg-pool":"^3.2.1","pg-protocol":"^1.2.5","pg-types":"^2.1.0",pgpass:"1.x",semver:"4.3.2"},devDependencies:{async:"0.9.0",bluebird:"3.5.2",co:"4.6.0","pg-copy-streams":"0.3.0"},minNativeVersion:"2.0.0",scripts:{test:"make test-all"},files:["lib","SPONSORS.md"],license:"MIT",engines:{node:">= 8.0.0"},gitHead:"acfbafac82641ef909d9d6235d46d38378c67864"}});var lh=_((WL,ch)=>{"use strict";var uh=require("events").EventEmitter,OT=require("util"),va=mi(),Wr=ch.exports=function(e,t,r){uh.call(this),e=va.normalizeQueryConfig(e,t,r),this.text=e.text,this.values=e.values,this.name=e.name,this.callback=e.callback,this.state="new",this._arrayMode=e.rowMode==="array",this._emitRowEvents=!1,this.on("newListener",function(n){n==="row"&&(this._emitRowEvents=!0)}.bind(this))};OT.inherits(Wr,uh);var CT={sqlState:"code",statementPosition:"position",messagePrimary:"message",context:"where",schemaName:"schema",tableName:"table",columnName:"column",dataTypeName:"dataType",constraintName:"constraint",sourceFile:"file",sourceLine:"line",sourceFunction:"routine"};Wr.prototype.handleError=function(e){var t=this.native.pq.resultErrorFields();if(t)for(var r in t){var n=CT[r]||r;e[n]=t[r]}this.callback?this.callback(e):this.emit("error",e),this.state="error"};Wr.prototype.then=function(e,t){return this._getPromise().then(e,t)};Wr.prototype.catch=function(e){return this._getPromise().catch(e)};Wr.prototype._getPromise=function(){return this._promise?this._promise:(this._promise=new Promise(function(e,t){this._once("end",e),this._once("error",t)}.bind(this)),this._promise)};Wr.prototype.submit=function(e){this.state="running";var t=this;this.native=e.native,e.native.arrayMode=this._arrayMode;var r=function(s,o,a){if(e.native.arrayMode=!1,setImmediate(function(){t.emit("_done")}),s)return t.handleError(s);t._emitRowEvents&&(a.length>1?o.forEach((u,c)=>{u.forEach(d=>{t.emit("row",d,a[c])})}):o.forEach(function(u){t.emit("row",u,a)})),t.state="end",t.emit("end",a),t.callback&&t.callback(null,a)};if(process.domain&&(r=process.domain.bind(r)),this.name){this.name.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",this.name,this.name.length),console.error("This can cause conflicts and silent errors executing queries"));var n=(this.values||[]).map(va.prepareValue);if(e.namedQueries[this.name]){if(this.text&&e.namedQueries[this.name]!==this.text){let s=new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`);return r(s)}return e.native.execute(this.name,n,r)}return e.native.prepare(this.name,this.text,n.length,function(s){return s?r(s):(e.namedQueries[t.name]=t.text,t.native.execute(t.name,n,r))})}else if(this.values){if(!Array.isArray(this.values)){let s=new Error("Query values must be an array");return r(s)}var i=this.values.map(va.prepareValue);e.native.query(this.text,i,r)}else e.native.query(this.text,r)}});var mh=_((HL,Eh)=>{"use strict";var fh=Mi(),AT=To(),bT=oh(),hh=ah(),IT=require("assert"),dh=require("events").EventEmitter,wT=require("util"),LT=No(),PT="Version >= "+hh.minNativeVersion+" of pg-native required.";IT(bT.gte(fh.version,hh.minNativeVersion),PT);var ph=lh(),Et=Eh.exports=function(e){dh.call(this),e=e||{},this._Promise=e.Promise||global.Promise,this._types=new AT(e.types),this.native=new fh({types:this._types}),this._queryQueue=[],this._ending=!1,this._connecting=!1,this._connected=!1,this._queryable=!0;var t=this.connectionParameters=new LT(e);this.user=t.user,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:t.password}),this.database=t.database,this.host=t.host,this.port=t.port,this.namedQueries={}};Et.Query=ph;wT.inherits(Et,dh);Et.prototype._errorAllQueries=function(e){let t=r=>{process.nextTick(()=>{r.native=this.native,r.handleError(e)})};this._hasActiveQuery()&&(t(this._activeQuery),this._activeQuery=null),this._queryQueue.forEach(t),this._queryQueue.length=0};Et.prototype._connect=function(e){var t=this;if(this._connecting){process.nextTick(()=>e(new Error("Client has already been connected. You cannot reuse a client.")));return}this._connecting=!0,this.connectionParameters.getLibpqConnectionString(function(r,n){if(r)return e(r);t.native.connect(n,function(i){if(i)return t.native.end(),e(i);t._connected=!0,t.native.on("error",function(s){t._queryable=!1,t._errorAllQueries(s),t.emit("error",s)}),t.native.on("notification",function(s){t.emit("notification",{channel:s.relname,payload:s.extra})}),t.emit("connect"),t._pulseQueryQueue(!0),e()})})};Et.prototype.connect=function(e){if(e){this._connect(e);return}return new this._Promise((t,r)=>{this._connect(n=>{n?r(n):t()})})};Et.prototype.query=function(e,t,r){var n,i,s,o,a;if(e==null)throw new TypeError("Client was passed a null or undefined query");if(typeof e.submit=="function")s=e.query_timeout||this.connectionParameters.query_timeout,i=n=e,typeof t=="function"&&(e.callback=t);else if(s=this.connectionParameters.query_timeout,n=new ph(e,t,r),!n.callback){let u,c;i=new this._Promise((d,E)=>{u=d,c=E}),n.callback=(d,E)=>d?c(d):u(E)}return s&&(a=n.callback,o=setTimeout(()=>{var u=new Error("Query read timeout");process.nextTick(()=>{n.handleError(u,this.connection)}),a(u),n.callback=()=>{};var c=this._queryQueue.indexOf(n);c>-1&&this._queryQueue.splice(c,1),this._pulseQueryQueue()},s),n.callback=(u,c)=>{clearTimeout(o),a(u,c)}),this._queryable?this._ending?(n.native=this.native,process.nextTick(()=>{n.handleError(new Error("Client was closed and is not queryable"))}),i):(this._queryQueue.push(n),this._pulseQueryQueue(),i):(n.native=this.native,process.nextTick(()=>{n.handleError(new Error("Client has encountered a connection error and is not queryable"))}),i)};Et.prototype.end=function(e){var t=this;this._ending=!0,this._connected||this.once("connect",this.end.bind(this,e));var r;return e||(r=new this._Promise(function(n,i){e=s=>s?i(s):n()})),this.native.end(function(){t._errorAllQueries(new Error("Connection terminated")),process.nextTick(()=>{t.emit("end"),e&&e()})}),r};Et.prototype._hasActiveQuery=function(){return this._activeQuery&&this._activeQuery.state!=="error"&&this._activeQuery.state!=="end"};Et.prototype._pulseQueryQueue=function(e){if(!!this._connected&&!this._hasActiveQuery()){var t=this._queryQueue.shift();if(!t){e||this.emit("drain");return}this._activeQuery=t,t.submit(this);var r=this;t.once("_done",function(){r._pulseQueryQueue()})}};Et.prototype.cancel=function(e){this._activeQuery===e?this.native.cancel(function(){}):this._queryQueue.indexOf(e)!==-1&&this._queryQueue.splice(this._queryQueue.indexOf(e),1)};Et.prototype.setTypeParser=function(e,t,r){return this._types.setTypeParser(e,t,r)};Et.prototype.getTypeParser=function(e,t){return this._types.getTypeParser(e,t)}});var Mi=_((GL,gh)=>{"use strict";gh.exports=mh()});var Zo=_((VL,Ln)=>{"use strict";var DT=Uf(),MT=Nn(),kT=zo(),xT=Hf(),qT=e=>class extends xT{constructor(r){super(r,e)}},ya=function(e){this.defaults=MT,this.Client=e,this.Query=this.Client.Query,this.Pool=qT(this.Client),this._pools=[],this.Connection=kT,this.types=Sn()};typeof process.env.NODE_PG_FORCE_NATIVE!="undefined"?Ln.exports=new ya(Mi()):(Ln.exports=new ya(DT),Object.defineProperty(Ln.exports,"native",{configurable:!0,enumerable:!1,get(){var e=null;try{e=new ya(Mi())}catch(t){if(t.code!=="MODULE_NOT_FOUND")throw t;console.error(t.message)}return Object.defineProperty(Ln.exports,"native",{value:e}),e}}))});var vh=_(Ta=>{"use strict";Object.defineProperty(Ta,"__esModule",{value:!0});var FT=(e,...t)=>{function r(n={}){return e.reduce((i,s,o)=>{let a=t[o];return i+=s.replace(/\r?\n\s+/g," "),typeof a!="undefined"&&(i+=typeof a!="function"?a:a(n)),i},"").trim()}return r.raw=e.reduce((n,i,s)=>{let o=t[s];return n+=i.replace(/\r?\n\s+/g," "),typeof o!="undefined"&&(n+="${"+o.toString()+"}"),n},"").trim(),r};Ta.default=FT});var Sa=_((zL,Th)=>{var yh={CONNECTION:"connection",CONNECTED_CONNECTION:"connectedConnection",COLUMN:"connection.column",FUNCTION:"connection.function",SCHEMA:"connection.schema",RESOURCE_GROUP:"connection.resource_group",DATABASE:"connection.database",TABLE:"connection.table",VIEW:"connection.view",MATERIALIZED_VIEW:"connection.materializedView",NO_CHILD:"NO_CHILD",KEYWORDS:"KEYWORDS"};Object.freeze(yh);Th.exports={ContextValue:yh}});var Hr=_(Ht=>{"use strict";Object.defineProperty(Ht,"__esModule",{value:!0});function JT(e){return e===!0||e===!1}Ht.boolean=JT;function Sh(e){return typeof e=="string"||e instanceof String}Ht.string=Sh;function ZT(e){return typeof e=="number"||e instanceof Number}Ht.number=ZT;function e_(e){return e instanceof Error}Ht.error=e_;function t_(e){return typeof e=="function"}Ht.func=t_;function Nh(e){return Array.isArray(e)}Ht.array=Nh;function r_(e){return Nh(e)&&e.every(t=>Sh(t))}Ht.stringArray=r_});var Ch=_(ge=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0});var gr=Hr(),Oh;(function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.serverErrorStart=-32099,e.serverErrorEnd=-32e3,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.RequestCancelled=-32800,e.ContentModified=-32801,e.MessageWriteError=1,e.MessageReadError=2})(Oh=ge.ErrorCodes||(ge.ErrorCodes={}));var Pn=class extends Error{constructor(t,r,n){super(r),this.code=gr.number(t)?t:Oh.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,Pn.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}};ge.ResponseError=Pn;var be=class{constructor(t,r){this._method=t,this._numberOfParams=r}get method(){return this._method}get numberOfParams(){return this._numberOfParams}};ge.AbstractMessageType=be;var Na=class extends be{constructor(t){super(t,0)}};ge.RequestType0=Na;var Oa=class extends be{constructor(t){super(t,1)}};ge.RequestType=Oa;var Ca=class extends be{constructor(t){super(t,1)}};ge.RequestType1=Ca;var Aa=class extends be{constructor(t){super(t,2)}};ge.RequestType2=Aa;var ba=class extends be{constructor(t){super(t,3)}};ge.RequestType3=ba;var Ia=class extends be{constructor(t){super(t,4)}};ge.RequestType4=Ia;var wa=class extends be{constructor(t){super(t,5)}};ge.RequestType5=wa;var La=class extends be{constructor(t){super(t,6)}};ge.RequestType6=La;var Pa=class extends be{constructor(t){super(t,7)}};ge.RequestType7=Pa;var Da=class extends be{constructor(t){super(t,8)}};ge.RequestType8=Da;var Ma=class extends be{constructor(t){super(t,9)}};ge.RequestType9=Ma;var ka=class extends be{constructor(t){super(t,1),this._=void 0}};ge.NotificationType=ka;var xa=class extends be{constructor(t){super(t,0)}};ge.NotificationType0=xa;var qa=class extends be{constructor(t){super(t,1)}};ge.NotificationType1=qa;var Fa=class extends be{constructor(t){super(t,2)}};ge.NotificationType2=Fa;var Ua=class extends be{constructor(t){super(t,3)}};ge.NotificationType3=Ua;var Ba=class extends be{constructor(t){super(t,4)}};ge.NotificationType4=Ba;var ja=class extends be{constructor(t){super(t,5)}};ge.NotificationType5=ja;var Wa=class extends be{constructor(t){super(t,6)}};ge.NotificationType6=Wa;var Ha=class extends be{constructor(t){super(t,7)}};ge.NotificationType7=Ha;var Ga=class extends be{constructor(t){super(t,8)}};ge.NotificationType8=Ga;var $a=class extends be{constructor(t){super(t,9)}};ge.NotificationType9=$a;function n_(e){let t=e;return t&&gr.string(t.method)&&(gr.string(t.id)||gr.number(t.id))}ge.isRequestMessage=n_;function i_(e){let t=e;return t&&gr.string(t.method)&&e.id===void 0}ge.isNotificationMessage=i_;function s_(e){let t=e;return t&&(t.result!==void 0||!!t.error)&&(gr.string(t.id)||gr.number(t.id)||t.id===null)}ge.isResponseMessage=s_});var Dn=_(vr=>{"use strict";Object.defineProperty(vr,"__esModule",{value:!0});var o_;(function(e){function t(r){return{dispose:r}}e.create=t})(o_=vr.Disposable||(vr.Disposable={}));var a_;(function(e){let t={dispose(){}};e.None=function(){return t}})(a_=vr.Event||(vr.Event={}));var Va=class{add(t,r=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(t),this._contexts.push(r),Array.isArray(n)&&n.push({dispose:()=>this.remove(t,r)})}remove(t,r=null){if(!!this._callbacks){for(var n=!1,i=0,s=this._callbacks.length;i<s;i++)if(this._callbacks[i]===t)if(this._contexts[i]===r){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}}invoke(...t){if(!this._callbacks)return[];for(var r=[],n=this._callbacks.slice(0),i=this._contexts.slice(0),s=0,o=n.length;s<o;s++)try{r.push(n[s].apply(i[s],t))}catch(a){console.error(a)}return r}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},Gr=class{constructor(t){this._options=t}get event(){return this._event||(this._event=(t,r,n)=>{this._callbacks||(this._callbacks=new Va),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(t,r);let i;return i={dispose:()=>{this._callbacks.remove(t,r),i.dispose=Gr._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this)}},Array.isArray(n)&&n.push(i),i}),this._event}fire(t){this._callbacks&&this._callbacks.invoke.call(this._callbacks,t)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};vr.Emitter=Gr;Gr._noop=function(){}});var xi=_(tr=>{"use strict";Object.defineProperty(tr,"__esModule",{value:!0});var Qa=Dn(),$r=Hr(),Ya=8192,Ah=Buffer.from("\r","ascii")[0],bh=Buffer.from(`
`,"ascii")[0],u_=`\r
`,za=class{constructor(t="utf8"){this.encoding=t,this.index=0,this.buffer=Buffer.allocUnsafe(Ya)}append(t){var r=t;if(typeof t=="string"){var n=t,i=Buffer.byteLength(n,this.encoding);r=Buffer.allocUnsafe(i),r.write(n,0,i,this.encoding)}if(this.buffer.length-this.index>=r.length)r.copy(this.buffer,this.index,0,r.length);else{var s=(Math.ceil((this.index+r.length)/Ya)+1)*Ya;this.index===0?(this.buffer=Buffer.allocUnsafe(s),r.copy(this.buffer,0,0,r.length)):this.buffer=Buffer.concat([this.buffer.slice(0,this.index),r],s)}this.index+=r.length}tryReadHeaders(){let t,r=0;for(;r+3<this.index&&(this.buffer[r]!==Ah||this.buffer[r+1]!==bh||this.buffer[r+2]!==Ah||this.buffer[r+3]!==bh);)r++;if(r+3>=this.index)return t;t=Object.create(null),this.buffer.toString("ascii",0,r).split(u_).forEach(s=>{let o=s.indexOf(":");if(o===-1)throw new Error("Message header must separate key and value using :");let a=s.substr(0,o),u=s.substr(o+1).trim();t[a]=u});let i=r+4;return this.buffer=this.buffer.slice(i),this.index=this.index-i,t}tryReadContent(t){if(this.index<t)return null;let r=this.buffer.toString(this.encoding,0,t),n=t;return this.buffer.copy(this.buffer,0,n),this.index=this.index-n,r}get numberOfBytes(){return this.index}},c_;(function(e){function t(r){let n=r;return n&&$r.func(n.listen)&&$r.func(n.dispose)&&$r.func(n.onError)&&$r.func(n.onClose)&&$r.func(n.onPartialMessage)}e.is=t})(c_=tr.MessageReader||(tr.MessageReader={}));var Mn=class{constructor(){this.errorEmitter=new Qa.Emitter,this.closeEmitter=new Qa.Emitter,this.partialMessageEmitter=new Qa.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t){this.errorEmitter.fire(this.asError(t))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(t){this.partialMessageEmitter.fire(t)}asError(t){return t instanceof Error?t:new Error(`Reader received error. Reason: ${$r.string(t.message)?t.message:"unknown"}`)}};tr.AbstractMessageReader=Mn;var ki=class extends Mn{constructor(t,r="utf8"){super(),this.readable=t,this.buffer=new za(r),this._partialMessageTimeout=1e4}set partialMessageTimeout(t){this._partialMessageTimeout=t}get partialMessageTimeout(){return this._partialMessageTimeout}listen(t){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=t,this.readable.on("data",r=>{this.onData(r)}),this.readable.on("error",r=>this.fireError(r)),this.readable.on("close",()=>this.fireClose())}onData(t){for(this.buffer.append(t);;){if(this.nextMessageLength===-1){let i=this.buffer.tryReadHeaders();if(!i)return;let s=i["Content-Length"];if(!s)throw new Error("Header must provide a Content-Length property.");let o=parseInt(s);if(isNaN(o))throw new Error("Content-Length value must be a number.");this.nextMessageLength=o}var r=this.buffer.tryReadContent(this.nextMessageLength);if(r===null){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.messageToken++;var n=JSON.parse(r);this.callback(n)}}clearPartialMessageTimer(){this.partialMessageTimer&&(clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=setTimeout((t,r)=>{this.partialMessageTimer=void 0,t===this.messageToken&&(this.firePartialMessage({messageToken:t,waitingTime:r}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};tr.StreamMessageReader=ki;var Xa=class extends Mn{constructor(t){super(),this.process=t;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose())}listen(t){this.process.on("message",t)}};tr.IPCMessageReader=Xa;var Ka=class extends ki{constructor(t,r="utf-8"){super(t,r)}};tr.SocketMessageReader=Ka});var Fi=_(rr=>{"use strict";Object.defineProperty(rr,"__esModule",{value:!0});var Ih=Dn(),kn=Hr(),wh="Content-Length: ",qi=`\r
`,l_;(function(e){function t(r){let n=r;return n&&kn.func(n.dispose)&&kn.func(n.onClose)&&kn.func(n.onError)&&kn.func(n.write)}e.is=t})(l_=rr.MessageWriter||(rr.MessageWriter={}));var Vr=class{constructor(){this.errorEmitter=new Ih.Emitter,this.closeEmitter=new Ih.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t,r,n){this.errorEmitter.fire([this.asError(t),r,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(t){return t instanceof Error?t:new Error(`Writer received error. Reason: ${kn.string(t.message)?t.message:"unknown"}`)}};rr.AbstractMessageWriter=Vr;var Ja=class extends Vr{constructor(t,r="utf8"){super(),this.writable=t,this.encoding=r,this.errorCount=0,this.writable.on("error",n=>this.fireError(n)),this.writable.on("close",()=>this.fireClose())}write(t){let r=JSON.stringify(t),n=Buffer.byteLength(r,this.encoding),i=[wh,n.toString(),qi,qi];try{this.writable.write(i.join(""),"ascii"),this.writable.write(r,this.encoding),this.errorCount=0}catch(s){this.errorCount++,this.fireError(s,t,this.errorCount)}}};rr.StreamMessageWriter=Ja;var Za=class extends Vr{constructor(t){super(),this.process=t,this.errorCount=0,this.queue=[],this.sending=!1;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose)}write(t){!this.sending&&this.queue.length===0?this.doWriteMessage(t):this.queue.push(t)}doWriteMessage(t){try{this.process.send&&(this.sending=!0,this.process.send(t,void 0,void 0,r=>{this.sending=!1,r?(this.errorCount++,this.fireError(r,t,this.errorCount)):this.errorCount=0,this.queue.length>0&&this.doWriteMessage(this.queue.shift())}))}catch(r){this.errorCount++,this.fireError(r,t,this.errorCount)}}};rr.IPCMessageWriter=Za;var eu=class extends Vr{constructor(t,r="utf8"){super(),this.socket=t,this.queue=[],this.sending=!1,this.encoding=r,this.errorCount=0,this.socket.on("error",n=>this.fireError(n)),this.socket.on("close",()=>this.fireClose())}dispose(){super.dispose(),this.socket.destroy()}write(t){!this.sending&&this.queue.length===0?this.doWriteMessage(t):this.queue.push(t)}doWriteMessage(t){let r=JSON.stringify(t),n=Buffer.byteLength(r,this.encoding),i=[wh,n.toString(),qi,qi];try{this.sending=!0,this.socket.write(i.join(""),"ascii",s=>{s&&this.handleError(s,t);try{this.socket.write(r,this.encoding,o=>{this.sending=!1,o?this.handleError(o,t):this.errorCount=0,this.queue.length>0&&this.doWriteMessage(this.queue.shift())})}catch(o){this.handleError(o,t)}})}catch(s){this.handleError(s,t)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}};rr.SocketMessageWriter=eu});var Lh=_(xn=>{"use strict";Object.defineProperty(xn,"__esModule",{value:!0});var tu=Dn(),f_=Hr(),ru;(function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:tu.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:tu.Event.None});function t(r){let n=r;return n&&(n===e.None||n===e.Cancelled||f_.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}e.is=t})(ru=xn.CancellationToken||(xn.CancellationToken={}));var h_=Object.freeze(function(e,t){let r=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(r)}}}),Ui=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?h_:(this._emitter||(this._emitter=new tu.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},nu=class{get token(){return this._token||(this._token=new Ui),this._token}cancel(){this._token?this._token.cancel():this._token=ru.Cancelled}dispose(){this._token?this._token instanceof Ui&&this._token.dispose():this._token=ru.None}};xn.CancellationTokenSource=nu});var Ph=_(qn=>{"use strict";Object.defineProperty(qn,"__esModule",{value:!0});var Pt;(function(e){e.None=0,e.First=1,e.Last=2})(Pt=qn.Touch||(qn.Touch={}));var iu=class{constructor(){this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}has(t){return this._map.has(t)}get(t){let r=this._map.get(t);if(!!r)return r.value}set(t,r,n=Pt.None){let i=this._map.get(t);if(i)i.value=r,n!==Pt.None&&this.touch(i,n);else{switch(i={key:t,value:r,next:void 0,previous:void 0},n){case Pt.None:this.addItemLast(i);break;case Pt.First:this.addItemFirst(i);break;case Pt.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(t,i),this._size++}}delete(t){let r=this._map.get(t);return r?(this._map.delete(t),this.removeItem(r),this._size--,!0):!1}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,r){let n=this._head;for(;n;)r?t.bind(r)(n.value,n.key,this):t(n.value,n.key,this),n=n.next}forEachReverse(t,r){let n=this._tail;for(;n;)r?t.bind(r)(n.value,n.key,this):t(n.value,n.key,this),n=n.previous}values(){let t=[],r=this._head;for(;r;)t.push(r.value),r=r.next;return t}keys(){let t=[],r=this._head;for(;r;)t.push(r.key),r=r.next;return t}addItemFirst(t){if(!this._head&&!this._tail)this._tail=t;else if(this._head)t.next=this._head,this._head.previous=t;else throw new Error("Invalid list");this._head=t}addItemLast(t){if(!this._head&&!this._tail)this._head=t;else if(this._tail)t.previous=this._tail,this._tail.next=t;else throw new Error("Invalid list");this._tail=t}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head)this._head=t.next;else if(t===this._tail)this._tail=t.previous;else{let r=t.next,n=t.previous;if(!r||!n)throw new Error("Invalid list");r.previous=n,n.next=r}}touch(t,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==Pt.First&&r!==Pt.Last)){if(r===Pt.First){if(t===this._head)return;let n=t.next,i=t.previous;t===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t}else if(r===Pt.Last){if(t===this._tail)return;let n=t.next,i=t.previous;t===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t}}}};qn.LinkedMap=iu});var xh=_(Fn=>{"use strict";Object.defineProperty(Fn,"__esModule",{value:!0});var d_=require("path"),p_=require("os"),E_=require("crypto"),Dh=require("net"),Mh=xi(),kh=Fi();function m_(){let e=E_.randomBytes(21).toString("hex");return process.platform==="win32"?`\\\\.\\pipe\\vscode-jsonrpc-${e}-sock`:d_.join(p_.tmpdir(),`vscode-${e}.sock`)}Fn.generateRandomPipeName=m_;function g_(e,t="utf-8"){let r,n=new Promise((i,s)=>{r=i});return new Promise((i,s)=>{let o=Dh.createServer(a=>{o.close(),r([new Mh.SocketMessageReader(a,t),new kh.SocketMessageWriter(a,t)])});o.on("error",s),o.listen(e,()=>{o.removeListener("error",s),i({onConnected:()=>n})})})}Fn.createClientPipeTransport=g_;function v_(e,t="utf-8"){let r=Dh.createConnection(e);return[new Mh.SocketMessageReader(r,t),new kh.SocketMessageWriter(r,t)]}Fn.createServerPipeTransport=v_});var Bh=_(Bi=>{"use strict";Object.defineProperty(Bi,"__esModule",{value:!0});var qh=require("net"),Fh=xi(),Uh=Fi();function y_(e,t="utf-8"){let r,n=new Promise((i,s)=>{r=i});return new Promise((i,s)=>{let o=qh.createServer(a=>{o.close(),r([new Fh.SocketMessageReader(a,t),new Uh.SocketMessageWriter(a,t)])});o.on("error",s),o.listen(e,"127.0.0.1",()=>{o.removeListener("error",s),i({onConnected:()=>n})})})}Bi.createClientSocketTransport=y_;function T_(e,t="utf-8"){let r=qh.createConnection(e,"127.0.0.1");return[new Fh.SocketMessageReader(r,t),new Uh.SocketMessageWriter(r,t)]}Bi.createServerSocketTransport=T_});var St=_(X=>{"use strict";function Wh(e){for(var t in e)X.hasOwnProperty(t)||(X[t]=e[t])}Object.defineProperty(X,"__esModule",{value:!0});var Ge=Hr(),ne=Ch();X.RequestType=ne.RequestType;X.RequestType0=ne.RequestType0;X.RequestType1=ne.RequestType1;X.RequestType2=ne.RequestType2;X.RequestType3=ne.RequestType3;X.RequestType4=ne.RequestType4;X.RequestType5=ne.RequestType5;X.RequestType6=ne.RequestType6;X.RequestType7=ne.RequestType7;X.RequestType8=ne.RequestType8;X.RequestType9=ne.RequestType9;X.ResponseError=ne.ResponseError;X.ErrorCodes=ne.ErrorCodes;X.NotificationType=ne.NotificationType;X.NotificationType0=ne.NotificationType0;X.NotificationType1=ne.NotificationType1;X.NotificationType2=ne.NotificationType2;X.NotificationType3=ne.NotificationType3;X.NotificationType4=ne.NotificationType4;X.NotificationType5=ne.NotificationType5;X.NotificationType6=ne.NotificationType6;X.NotificationType7=ne.NotificationType7;X.NotificationType8=ne.NotificationType8;X.NotificationType9=ne.NotificationType9;var Bn=xi();X.MessageReader=Bn.MessageReader;X.StreamMessageReader=Bn.StreamMessageReader;X.IPCMessageReader=Bn.IPCMessageReader;X.SocketMessageReader=Bn.SocketMessageReader;var jn=Fi();X.MessageWriter=jn.MessageWriter;X.StreamMessageWriter=jn.StreamMessageWriter;X.IPCMessageWriter=jn.IPCMessageWriter;X.SocketMessageWriter=jn.SocketMessageWriter;var nr=Dn();X.Disposable=nr.Disposable;X.Event=nr.Event;X.Emitter=nr.Emitter;var Qr=Lh();X.CancellationTokenSource=Qr.CancellationTokenSource;X.CancellationToken=Qr.CancellationToken;var jh=Ph();Wh(xh());Wh(Bh());var Un;(function(e){e.type=new ne.NotificationType("$/cancelRequest")})(Un||(Un={}));var Wi;(function(e){e.type=new ne.NotificationType("$/progress")})(Wi||(Wi={}));var su=class{constructor(){}};X.ProgressType=su;X.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var ke;(function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Verbose=2]="Verbose"})(ke=X.Trace||(X.Trace={}));(function(e){function t(n){if(!Ge.string(n))return e.Off;switch(n=n.toLowerCase(),n){case"off":return e.Off;case"messages":return e.Messages;case"verbose":return e.Verbose;default:return e.Off}}e.fromString=t;function r(n){switch(n){case e.Off:return"off";case e.Messages:return"messages";case e.Verbose:return"verbose";default:return"off"}}e.toString=r})(ke=X.Trace||(X.Trace={}));var _t;(function(e){e.Text="text",e.JSON="json"})(_t=X.TraceFormat||(X.TraceFormat={}));(function(e){function t(r){return r=r.toLowerCase(),r==="json"?e.JSON:e.Text}e.fromString=t})(_t=X.TraceFormat||(X.TraceFormat={}));var Hh;(function(e){e.type=new ne.NotificationType("$/setTraceNotification")})(Hh=X.SetTraceNotification||(X.SetTraceNotification={}));var ou;(function(e){e.type=new ne.NotificationType("$/logTraceNotification")})(ou=X.LogTraceNotification||(X.LogTraceNotification={}));var ji;(function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"})(ji=X.ConnectionErrors||(X.ConnectionErrors={}));var ir=class extends Error{constructor(t,r){super(r),this.code=t,Object.setPrototypeOf(this,ir.prototype)}};X.ConnectionError=ir;var __;(function(e){function t(r){let n=r;return n&&Ge.func(n.cancelUndispatched)}e.is=t})(__=X.ConnectionStrategy||(X.ConnectionStrategy={}));var Rt;(function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"})(Rt||(Rt={}));function R_(e,t,r,n){let i=0,s=0,o=0,a="2.0",u,c=Object.create(null),d,E=Object.create(null),g=new Map,R,b=new jh.LinkedMap,x=Object.create(null),G=Object.create(null),B=ke.Off,ee=_t.Text,V,N=Rt.New,y=new nr.Emitter,I=new nr.Emitter,z=new nr.Emitter,U=new nr.Emitter,Q=new nr.Emitter;function ie(h){return"req-"+h.toString()}function C(h){return h===null?"res-unknown-"+(++o).toString():"res-"+h.toString()}function w(){return"not-"+(++s).toString()}function F(h,f){ne.isRequestMessage(f)?h.set(ie(f.id),f):ne.isResponseMessage(f)?h.set(C(f.id),f):h.set(w(),f)}function W(h){}function Z(){return N===Rt.Listening}function J(){return N===Rt.Closed}function re(){return N===Rt.Disposed}function Se(){(N===Rt.New||N===Rt.Listening)&&(N=Rt.Closed,I.fire(void 0))}function me(h){y.fire([h,void 0,void 0])}function de(h){y.fire(h)}e.onClose(Se),e.onError(me),t.onClose(Se),t.onError(de);function xe(){R||b.size===0||(R=setImmediate(()=>{R=void 0,_e()}))}function _e(){if(b.size===0)return;let h=b.shift();try{ne.isRequestMessage(h)?qe(h):ne.isNotificationMessage(h)?lt(h):ne.isResponseMessage(h)?Je(h):Ye(h)}finally{xe()}}let Be=h=>{try{if(ne.isNotificationMessage(h)&&h.method===Un.type.method){let f=ie(h.params.id),S=b.get(f);if(ne.isRequestMessage(S)){let D=n&&n.cancelUndispatched?n.cancelUndispatched(S,W):void 0;if(D&&(D.error!==void 0||D.result!==void 0)){b.delete(f),D.id=S.id,bt(D,h.method,Date.now()),t.write(D);return}}}F(b,h)}finally{xe()}};function qe(h){if(re())return;function f(O,H,Y){let te={jsonrpc:a,id:h.id};O instanceof ne.ResponseError?te.error=O.toJson():te.result=O===void 0?null:O,bt(te,H,Y),t.write(te)}function S(O,H,Y){let te={jsonrpc:a,id:h.id,error:O.toJson()};bt(te,H,Y),t.write(te)}function D(O,H,Y){O===void 0&&(O=null);let te={jsonrpc:a,id:h.id,result:O};bt(te,H,Y),t.write(te)}Lr(h);let l=c[h.method],m,v;l&&(m=l.type,v=l.handler);let T=Date.now();if(v||u){let O=new Qr.CancellationTokenSource,H=String(h.id);G[H]=O;try{let Y;h.params===void 0||m!==void 0&&m.numberOfParams===0?Y=v?v(O.token):u(h.method,O.token):Ge.array(h.params)&&(m===void 0||m.numberOfParams>1)?Y=v?v(...h.params,O.token):u(h.method,...h.params,O.token):Y=v?v(h.params,O.token):u(h.method,h.params,O.token);let te=Y;Y?te.then?te.then(Ce=>{delete G[H],f(Ce,h.method,T)},Ce=>{delete G[H],Ce instanceof ne.ResponseError?S(Ce,h.method,T):Ce&&Ge.string(Ce.message)?S(new ne.ResponseError(ne.ErrorCodes.InternalError,`Request ${h.method} failed with message: ${Ce.message}`),h.method,T):S(new ne.ResponseError(ne.ErrorCodes.InternalError,`Request ${h.method} failed unexpectedly without providing any details.`),h.method,T)}):(delete G[H],f(Y,h.method,T)):(delete G[H],D(Y,h.method,T))}catch(Y){delete G[H],Y instanceof ne.ResponseError?f(Y,h.method,T):Y&&Ge.string(Y.message)?S(new ne.ResponseError(ne.ErrorCodes.InternalError,`Request ${h.method} failed with message: ${Y.message}`),h.method,T):S(new ne.ResponseError(ne.ErrorCodes.InternalError,`Request ${h.method} failed unexpectedly without providing any details.`),h.method,T)}}else S(new ne.ResponseError(ne.ErrorCodes.MethodNotFound,`Unhandled method ${h.method}`),h.method,T)}function Je(h){if(!re())if(h.id===null)h.error?r.error(`Received response message without id: Error is: 
${JSON.stringify(h.error,void 0,4)}`):r.error("Received response message without id. No further error information provided.");else{let f=String(h.id),S=x[f];if(dn(h,S),S){delete x[f];try{if(h.error){let D=h.error;S.reject(new ne.ResponseError(D.code,D.message,D.data))}else if(h.result!==void 0)S.resolve(h.result);else throw new Error("Should never happen.")}catch(D){D.message?r.error(`Response handler '${S.method}' failed with message: ${D.message}`):r.error(`Response handler '${S.method}' failed unexpectedly.`)}}}}function lt(h){if(re())return;let f,S;if(h.method===Un.type.method)S=D=>{let l=D.id,m=G[String(l)];m&&m.cancel()};else{let D=E[h.method];D&&(S=D.handler,f=D.type)}if(S||d)try{hn(h),h.params===void 0||f!==void 0&&f.numberOfParams===0?S?S():d(h.method):Ge.array(h.params)&&(f===void 0||f.numberOfParams>1)?S?S(...h.params):d(h.method,...h.params):S?S(h.params):d(h.method,h.params)}catch(D){D.message?r.error(`Notification handler '${h.method}' failed with message: ${D.message}`):r.error(`Notification handler '${h.method}' failed unexpectedly.`)}else z.fire(h)}function Ye(h){if(!h){r.error("Received empty message.");return}r.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(h,null,4)}`);let f=h;if(Ge.string(f.id)||Ge.number(f.id)){let S=String(f.id),D=x[S];D&&D.reject(new Error("The received response has neither a result nor an error property."))}}function Ze(h){if(!(B===ke.Off||!V))if(ee===_t.Text){let f;B===ke.Verbose&&h.params&&(f=`Params: ${JSON.stringify(h.params,null,4)}

`),V.log(`Sending request '${h.method} - (${h.id})'.`,f)}else It("send-request",h)}function Ft(h){if(!(B===ke.Off||!V))if(ee===_t.Text){let f;B===ke.Verbose&&(h.params?f=`Params: ${JSON.stringify(h.params,null,4)}

`:f=`No parameters provided.

`),V.log(`Sending notification '${h.method}'.`,f)}else It("send-notification",h)}function bt(h,f,S){if(!(B===ke.Off||!V))if(ee===_t.Text){let D;B===ke.Verbose&&(h.error&&h.error.data?D=`Error data: ${JSON.stringify(h.error.data,null,4)}

`:h.result?D=`Result: ${JSON.stringify(h.result,null,4)}

`:h.error===void 0&&(D=`No result returned.

`)),V.log(`Sending response '${f} - (${h.id})'. Processing request took ${Date.now()-S}ms`,D)}else It("send-response",h)}function Lr(h){if(!(B===ke.Off||!V))if(ee===_t.Text){let f;B===ke.Verbose&&h.params&&(f=`Params: ${JSON.stringify(h.params,null,4)}

`),V.log(`Received request '${h.method} - (${h.id})'.`,f)}else It("receive-request",h)}function hn(h){if(!(B===ke.Off||!V||h.method===ou.type.method))if(ee===_t.Text){let f;B===ke.Verbose&&(h.params?f=`Params: ${JSON.stringify(h.params,null,4)}

`:f=`No parameters provided.

`),V.log(`Received notification '${h.method}'.`,f)}else It("receive-notification",h)}function dn(h,f){if(!(B===ke.Off||!V))if(ee===_t.Text){let S;if(B===ke.Verbose&&(h.error&&h.error.data?S=`Error data: ${JSON.stringify(h.error.data,null,4)}

`:h.result?S=`Result: ${JSON.stringify(h.result,null,4)}

`:h.error===void 0&&(S=`No result returned.

`)),f){let D=h.error?` Request failed: ${h.error.message} (${h.error.code}).`:"";V.log(`Received response '${f.method} - (${h.id})' in ${Date.now()-f.timerStart}ms.${D}`,S)}else V.log(`Received response ${h.id} without active response promise.`,S)}else It("receive-response",h)}function It(h,f){if(!V||B===ke.Off)return;let S={isLSPMessage:!0,type:h,message:f,timestamp:Date.now()};V.log(S)}function wt(){if(J())throw new ir(ji.Closed,"Connection is closed.");if(re())throw new ir(ji.Disposed,"Connection is disposed.")}function pn(){if(Z())throw new ir(ji.AlreadyListening,"Connection is already listening")}function M(){if(!Z())throw new Error("Call listen() first.")}function p(h){return h===void 0?null:h}function A(h,f){let S,D=h.numberOfParams;switch(D){case 0:S=null;break;case 1:S=p(f[0]);break;default:S=[];for(let l=0;l<f.length&&l<D;l++)S.push(p(f[l]));if(f.length<D)for(let l=f.length;l<D;l++)S.push(null);break}return S}let P={sendNotification:(h,...f)=>{wt();let S,D;if(Ge.string(h))switch(S=h,f.length){case 0:D=null;break;case 1:D=f[0];break;default:D=f;break}else S=h.method,D=A(h,f);let l={jsonrpc:a,method:S,params:D};Ft(l),t.write(l)},onNotification:(h,f)=>{wt(),Ge.func(h)?d=h:f&&(Ge.string(h)?E[h]={type:void 0,handler:f}:E[h.method]={type:h,handler:f})},onProgress:(h,f,S)=>{if(g.has(f))throw new Error(`Progress handler for token ${f} already registered`);return g.set(f,S),{dispose:()=>{g.delete(f)}}},sendProgress:(h,f,S)=>{P.sendNotification(Wi.type,{token:f,value:S})},onUnhandledProgress:U.event,sendRequest:(h,...f)=>{wt(),M();let S,D,l;if(Ge.string(h))switch(S=h,f.length){case 0:D=null;break;case 1:Qr.CancellationToken.is(f[0])?(D=null,l=f[0]):D=p(f[0]);break;default:let T=f.length-1;Qr.CancellationToken.is(f[T])?(l=f[T],f.length===2?D=p(f[0]):D=f.slice(0,T).map(O=>p(O))):D=f.map(O=>p(O));break}else{S=h.method,D=A(h,f);let T=h.numberOfParams;l=Qr.CancellationToken.is(f[T])?f[T]:void 0}let m=i++,v=new Promise((T,O)=>{let H={jsonrpc:a,id:m,method:S,params:D},Y={method:S,timerStart:Date.now(),resolve:T,reject:O};Ze(H);try{t.write(H)}catch(te){Y.reject(new ne.ResponseError(ne.ErrorCodes.MessageWriteError,te.message?te.message:"Unknown reason")),Y=null}Y&&(x[String(m)]=Y)});return l&&l.onCancellationRequested(()=>{P.sendNotification(Un.type,{id:m})}),v},onRequest:(h,f)=>{wt(),Ge.func(h)?u=h:f&&(Ge.string(h)?c[h]={type:void 0,handler:f}:c[h.method]={type:h,handler:f})},trace:(h,f,S)=>{let D=!1,l=_t.Text;S!==void 0&&(Ge.boolean(S)?D=S:(D=S.sendNotification||!1,l=S.traceFormat||_t.Text)),B=h,ee=l,B===ke.Off?V=void 0:V=f,D&&!J()&&!re()&&P.sendNotification(Hh.type,{value:ke.toString(h)})},onError:y.event,onClose:I.event,onUnhandledNotification:z.event,onDispose:Q.event,dispose:()=>{if(re())return;N=Rt.Disposed,Q.fire(void 0);let h=new Error("Connection got disposed.");Object.keys(x).forEach(f=>{x[f].reject(h)}),x=Object.create(null),G=Object.create(null),b=new jh.LinkedMap,Ge.func(t.dispose)&&t.dispose(),Ge.func(e.dispose)&&e.dispose()},listen:()=>{wt(),pn(),N=Rt.Listening,e.listen(Be)},inspect:()=>{console.log("inspect")}};return P.onNotification(ou.type,h=>{B===ke.Off||!V||V.log(h.message,B===ke.Verbose?h.verbose:void 0)}),P.onNotification(Wi.type,h=>{let f=g.get(h.token);f?f(h.value):U.fire(h)}),P}function S_(e){return e.listen!==void 0&&e.read===void 0}function N_(e){return e.write!==void 0&&e.end===void 0}function O_(e,t,r,n){r||(r=X.NullLogger);let i=S_(e)?e:new Bn.StreamMessageReader(e),s=N_(t)?t:new jn.StreamMessageWriter(t);return R_(i,s,r,n)}X.createMessageConnection=O_});var $h=_((Gh,Hi)=>{(function(e){if(typeof Hi=="object"&&typeof Hi.exports=="object"){var t=e(require,Gh);t!==void 0&&(Hi.exports=t)}else typeof define=="function"&&define.amd&&define(["require","exports"],e)})(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r;(function(p){function A(h,f){return{line:h,character:f}}p.create=A;function P(h){var f=h;return M.objectLiteral(f)&&M.number(f.line)&&M.number(f.character)}p.is=P})(r=t.Position||(t.Position={}));var n;(function(p){function A(h,f,S,D){if(M.number(h)&&M.number(f)&&M.number(S)&&M.number(D))return{start:r.create(h,f),end:r.create(S,D)};if(r.is(h)&&r.is(f))return{start:h,end:f};throw new Error("Range#create called with invalid arguments["+h+", "+f+", "+S+", "+D+"]")}p.create=A;function P(h){var f=h;return M.objectLiteral(f)&&r.is(f.start)&&r.is(f.end)}p.is=P})(n=t.Range||(t.Range={}));var i;(function(p){function A(h,f){return{uri:h,range:f}}p.create=A;function P(h){var f=h;return M.defined(f)&&n.is(f.range)&&(M.string(f.uri)||M.undefined(f.uri))}p.is=P})(i=t.Location||(t.Location={}));var s;(function(p){function A(h,f,S,D){return{targetUri:h,targetRange:f,targetSelectionRange:S,originSelectionRange:D}}p.create=A;function P(h){var f=h;return M.defined(f)&&n.is(f.targetRange)&&M.string(f.targetUri)&&(n.is(f.targetSelectionRange)||M.undefined(f.targetSelectionRange))&&(n.is(f.originSelectionRange)||M.undefined(f.originSelectionRange))}p.is=P})(s=t.LocationLink||(t.LocationLink={}));var o;(function(p){function A(h,f,S,D){return{red:h,green:f,blue:S,alpha:D}}p.create=A;function P(h){var f=h;return M.number(f.red)&&M.number(f.green)&&M.number(f.blue)&&M.number(f.alpha)}p.is=P})(o=t.Color||(t.Color={}));var a;(function(p){function A(h,f){return{range:h,color:f}}p.create=A;function P(h){var f=h;return n.is(f.range)&&o.is(f.color)}p.is=P})(a=t.ColorInformation||(t.ColorInformation={}));var u;(function(p){function A(h,f,S){return{label:h,textEdit:f,additionalTextEdits:S}}p.create=A;function P(h){var f=h;return M.string(f.label)&&(M.undefined(f.textEdit)||G.is(f))&&(M.undefined(f.additionalTextEdits)||M.typedArray(f.additionalTextEdits,G.is))}p.is=P})(u=t.ColorPresentation||(t.ColorPresentation={}));var c;(function(p){p.Comment="comment",p.Imports="imports",p.Region="region"})(c=t.FoldingRangeKind||(t.FoldingRangeKind={}));var d;(function(p){function A(h,f,S,D,l){var m={startLine:h,endLine:f};return M.defined(S)&&(m.startCharacter=S),M.defined(D)&&(m.endCharacter=D),M.defined(l)&&(m.kind=l),m}p.create=A;function P(h){var f=h;return M.number(f.startLine)&&M.number(f.startLine)&&(M.undefined(f.startCharacter)||M.number(f.startCharacter))&&(M.undefined(f.endCharacter)||M.number(f.endCharacter))&&(M.undefined(f.kind)||M.string(f.kind))}p.is=P})(d=t.FoldingRange||(t.FoldingRange={}));var E;(function(p){function A(h,f){return{location:h,message:f}}p.create=A;function P(h){var f=h;return M.defined(f)&&i.is(f.location)&&M.string(f.message)}p.is=P})(E=t.DiagnosticRelatedInformation||(t.DiagnosticRelatedInformation={}));var g;(function(p){p.Error=1,p.Warning=2,p.Information=3,p.Hint=4})(g=t.DiagnosticSeverity||(t.DiagnosticSeverity={}));var R;(function(p){p.Unnecessary=1,p.Deprecated=2})(R=t.DiagnosticTag||(t.DiagnosticTag={}));var b;(function(p){function A(h,f,S,D,l,m){var v={range:h,message:f};return M.defined(S)&&(v.severity=S),M.defined(D)&&(v.code=D),M.defined(l)&&(v.source=l),M.defined(m)&&(v.relatedInformation=m),v}p.create=A;function P(h){var f=h;return M.defined(f)&&n.is(f.range)&&M.string(f.message)&&(M.number(f.severity)||M.undefined(f.severity))&&(M.number(f.code)||M.string(f.code)||M.undefined(f.code))&&(M.string(f.source)||M.undefined(f.source))&&(M.undefined(f.relatedInformation)||M.typedArray(f.relatedInformation,E.is))}p.is=P})(b=t.Diagnostic||(t.Diagnostic={}));var x;(function(p){function A(h,f){for(var S=[],D=2;D<arguments.length;D++)S[D-2]=arguments[D];var l={title:h,command:f};return M.defined(S)&&S.length>0&&(l.arguments=S),l}p.create=A;function P(h){var f=h;return M.defined(f)&&M.string(f.title)&&M.string(f.command)}p.is=P})(x=t.Command||(t.Command={}));var G;(function(p){function A(S,D){return{range:S,newText:D}}p.replace=A;function P(S,D){return{range:{start:S,end:S},newText:D}}p.insert=P;function h(S){return{range:S,newText:""}}p.del=h;function f(S){var D=S;return M.objectLiteral(D)&&M.string(D.newText)&&n.is(D.range)}p.is=f})(G=t.TextEdit||(t.TextEdit={}));var B;(function(p){function A(h,f){return{textDocument:h,edits:f}}p.create=A;function P(h){var f=h;return M.defined(f)&&Q.is(f.textDocument)&&Array.isArray(f.edits)}p.is=P})(B=t.TextDocumentEdit||(t.TextDocumentEdit={}));var ee;(function(p){function A(h,f){var S={kind:"create",uri:h};return f!==void 0&&(f.overwrite!==void 0||f.ignoreIfExists!==void 0)&&(S.options=f),S}p.create=A;function P(h){var f=h;return f&&f.kind==="create"&&M.string(f.uri)&&(f.options===void 0||(f.options.overwrite===void 0||M.boolean(f.options.overwrite))&&(f.options.ignoreIfExists===void 0||M.boolean(f.options.ignoreIfExists)))}p.is=P})(ee=t.CreateFile||(t.CreateFile={}));var V;(function(p){function A(h,f,S){var D={kind:"rename",oldUri:h,newUri:f};return S!==void 0&&(S.overwrite!==void 0||S.ignoreIfExists!==void 0)&&(D.options=S),D}p.create=A;function P(h){var f=h;return f&&f.kind==="rename"&&M.string(f.oldUri)&&M.string(f.newUri)&&(f.options===void 0||(f.options.overwrite===void 0||M.boolean(f.options.overwrite))&&(f.options.ignoreIfExists===void 0||M.boolean(f.options.ignoreIfExists)))}p.is=P})(V=t.RenameFile||(t.RenameFile={}));var N;(function(p){function A(h,f){var S={kind:"delete",uri:h};return f!==void 0&&(f.recursive!==void 0||f.ignoreIfNotExists!==void 0)&&(S.options=f),S}p.create=A;function P(h){var f=h;return f&&f.kind==="delete"&&M.string(f.uri)&&(f.options===void 0||(f.options.recursive===void 0||M.boolean(f.options.recursive))&&(f.options.ignoreIfNotExists===void 0||M.boolean(f.options.ignoreIfNotExists)))}p.is=P})(N=t.DeleteFile||(t.DeleteFile={}));var y;(function(p){function A(P){var h=P;return h&&(h.changes!==void 0||h.documentChanges!==void 0)&&(h.documentChanges===void 0||h.documentChanges.every(function(f){return M.string(f.kind)?ee.is(f)||V.is(f)||N.is(f):B.is(f)}))}p.is=A})(y=t.WorkspaceEdit||(t.WorkspaceEdit={}));var I=function(){function p(A){this.edits=A}return p.prototype.insert=function(A,P){this.edits.push(G.insert(A,P))},p.prototype.replace=function(A,P){this.edits.push(G.replace(A,P))},p.prototype.delete=function(A){this.edits.push(G.del(A))},p.prototype.add=function(A){this.edits.push(A)},p.prototype.all=function(){return this.edits},p.prototype.clear=function(){this.edits.splice(0,this.edits.length)},p}(),z=function(){function p(A){var P=this;this._textEditChanges=Object.create(null),A&&(this._workspaceEdit=A,A.documentChanges?A.documentChanges.forEach(function(h){if(B.is(h)){var f=new I(h.edits);P._textEditChanges[h.textDocument.uri]=f}}):A.changes&&Object.keys(A.changes).forEach(function(h){var f=new I(A.changes[h]);P._textEditChanges[h]=f}))}return Object.defineProperty(p.prototype,"edit",{get:function(){return this._workspaceEdit},enumerable:!0,configurable:!0}),p.prototype.getTextEditChange=function(A){if(Q.is(A)){if(this._workspaceEdit||(this._workspaceEdit={documentChanges:[]}),!this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var P=A,h=this._textEditChanges[P.uri];if(!h){var f=[],S={textDocument:P,edits:f};this._workspaceEdit.documentChanges.push(S),h=new I(f),this._textEditChanges[P.uri]=h}return h}else{if(this._workspaceEdit||(this._workspaceEdit={changes:Object.create(null)}),!this._workspaceEdit.changes)throw new Error("Workspace edit is not configured for normal text edit changes.");var h=this._textEditChanges[A];if(!h){var f=[];this._workspaceEdit.changes[A]=f,h=new I(f),this._textEditChanges[A]=h}return h}},p.prototype.createFile=function(A,P){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(ee.create(A,P))},p.prototype.renameFile=function(A,P,h){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(V.create(A,P,h))},p.prototype.deleteFile=function(A,P){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(N.create(A,P))},p.prototype.checkDocumentChanges=function(){if(!this._workspaceEdit||!this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.")},p}();t.WorkspaceChange=z;var U;(function(p){function A(h){return{uri:h}}p.create=A;function P(h){var f=h;return M.defined(f)&&M.string(f.uri)}p.is=P})(U=t.TextDocumentIdentifier||(t.TextDocumentIdentifier={}));var Q;(function(p){function A(h,f){return{uri:h,version:f}}p.create=A;function P(h){var f=h;return M.defined(f)&&M.string(f.uri)&&(f.version===null||M.number(f.version))}p.is=P})(Q=t.VersionedTextDocumentIdentifier||(t.VersionedTextDocumentIdentifier={}));var ie;(function(p){function A(h,f,S,D){return{uri:h,languageId:f,version:S,text:D}}p.create=A;function P(h){var f=h;return M.defined(f)&&M.string(f.uri)&&M.string(f.languageId)&&M.number(f.version)&&M.string(f.text)}p.is=P})(ie=t.TextDocumentItem||(t.TextDocumentItem={}));var C;(function(p){p.PlainText="plaintext",p.Markdown="markdown"})(C=t.MarkupKind||(t.MarkupKind={})),function(p){function A(P){var h=P;return h===p.PlainText||h===p.Markdown}p.is=A}(C=t.MarkupKind||(t.MarkupKind={}));var w;(function(p){function A(P){var h=P;return M.objectLiteral(P)&&C.is(h.kind)&&M.string(h.value)}p.is=A})(w=t.MarkupContent||(t.MarkupContent={}));var F;(function(p){p.Text=1,p.Method=2,p.Function=3,p.Constructor=4,p.Field=5,p.Variable=6,p.Class=7,p.Interface=8,p.Module=9,p.Property=10,p.Unit=11,p.Value=12,p.Enum=13,p.Keyword=14,p.Snippet=15,p.Color=16,p.File=17,p.Reference=18,p.Folder=19,p.EnumMember=20,p.Constant=21,p.Struct=22,p.Event=23,p.Operator=24,p.TypeParameter=25})(F=t.CompletionItemKind||(t.CompletionItemKind={}));var W;(function(p){p.PlainText=1,p.Snippet=2})(W=t.InsertTextFormat||(t.InsertTextFormat={}));var Z;(function(p){p.Deprecated=1})(Z=t.CompletionItemTag||(t.CompletionItemTag={}));var J;(function(p){function A(P){return{label:P}}p.create=A})(J=t.CompletionItem||(t.CompletionItem={}));var re;(function(p){function A(P,h){return{items:P||[],isIncomplete:!!h}}p.create=A})(re=t.CompletionList||(t.CompletionList={}));var Se;(function(p){function A(h){return h.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}p.fromPlainText=A;function P(h){var f=h;return M.string(f)||M.objectLiteral(f)&&M.string(f.language)&&M.string(f.value)}p.is=P})(Se=t.MarkedString||(t.MarkedString={}));var me;(function(p){function A(P){var h=P;return!!h&&M.objectLiteral(h)&&(w.is(h.contents)||Se.is(h.contents)||M.typedArray(h.contents,Se.is))&&(P.range===void 0||n.is(P.range))}p.is=A})(me=t.Hover||(t.Hover={}));var de;(function(p){function A(P,h){return h?{label:P,documentation:h}:{label:P}}p.create=A})(de=t.ParameterInformation||(t.ParameterInformation={}));var xe;(function(p){function A(P,h){for(var f=[],S=2;S<arguments.length;S++)f[S-2]=arguments[S];var D={label:P};return M.defined(h)&&(D.documentation=h),M.defined(f)?D.parameters=f:D.parameters=[],D}p.create=A})(xe=t.SignatureInformation||(t.SignatureInformation={}));var _e;(function(p){p.Text=1,p.Read=2,p.Write=3})(_e=t.DocumentHighlightKind||(t.DocumentHighlightKind={}));var Be;(function(p){function A(P,h){var f={range:P};return M.number(h)&&(f.kind=h),f}p.create=A})(Be=t.DocumentHighlight||(t.DocumentHighlight={}));var qe;(function(p){p.File=1,p.Module=2,p.Namespace=3,p.Package=4,p.Class=5,p.Method=6,p.Property=7,p.Field=8,p.Constructor=9,p.Enum=10,p.Interface=11,p.Function=12,p.Variable=13,p.Constant=14,p.String=15,p.Number=16,p.Boolean=17,p.Array=18,p.Object=19,p.Key=20,p.Null=21,p.EnumMember=22,p.Struct=23,p.Event=24,p.Operator=25,p.TypeParameter=26})(qe=t.SymbolKind||(t.SymbolKind={}));var Je;(function(p){p.Deprecated=1})(Je=t.SymbolTag||(t.SymbolTag={}));var lt;(function(p){function A(P,h,f,S,D){var l={name:P,kind:h,location:{uri:S,range:f}};return D&&(l.containerName=D),l}p.create=A})(lt=t.SymbolInformation||(t.SymbolInformation={}));var Ye;(function(p){function A(h,f,S,D,l,m){var v={name:h,detail:f,kind:S,range:D,selectionRange:l};return m!==void 0&&(v.children=m),v}p.create=A;function P(h){var f=h;return f&&M.string(f.name)&&M.number(f.kind)&&n.is(f.range)&&n.is(f.selectionRange)&&(f.detail===void 0||M.string(f.detail))&&(f.deprecated===void 0||M.boolean(f.deprecated))&&(f.children===void 0||Array.isArray(f.children))}p.is=P})(Ye=t.DocumentSymbol||(t.DocumentSymbol={}));var Ze;(function(p){p.Empty="",p.QuickFix="quickfix",p.Refactor="refactor",p.RefactorExtract="refactor.extract",p.RefactorInline="refactor.inline",p.RefactorRewrite="refactor.rewrite",p.Source="source",p.SourceOrganizeImports="source.organizeImports",p.SourceFixAll="source.fixAll"})(Ze=t.CodeActionKind||(t.CodeActionKind={}));var Ft;(function(p){function A(h,f){var S={diagnostics:h};return f!=null&&(S.only=f),S}p.create=A;function P(h){var f=h;return M.defined(f)&&M.typedArray(f.diagnostics,b.is)&&(f.only===void 0||M.typedArray(f.only,M.string))}p.is=P})(Ft=t.CodeActionContext||(t.CodeActionContext={}));var bt;(function(p){function A(h,f,S){var D={title:h};return x.is(f)?D.command=f:D.edit=f,S!==void 0&&(D.kind=S),D}p.create=A;function P(h){var f=h;return f&&M.string(f.title)&&(f.diagnostics===void 0||M.typedArray(f.diagnostics,b.is))&&(f.kind===void 0||M.string(f.kind))&&(f.edit!==void 0||f.command!==void 0)&&(f.command===void 0||x.is(f.command))&&(f.isPreferred===void 0||M.boolean(f.isPreferred))&&(f.edit===void 0||y.is(f.edit))}p.is=P})(bt=t.CodeAction||(t.CodeAction={}));var Lr;(function(p){function A(h,f){var S={range:h};return M.defined(f)&&(S.data=f),S}p.create=A;function P(h){var f=h;return M.defined(f)&&n.is(f.range)&&(M.undefined(f.command)||x.is(f.command))}p.is=P})(Lr=t.CodeLens||(t.CodeLens={}));var hn;(function(p){function A(h,f){return{tabSize:h,insertSpaces:f}}p.create=A;function P(h){var f=h;return M.defined(f)&&M.number(f.tabSize)&&M.boolean(f.insertSpaces)}p.is=P})(hn=t.FormattingOptions||(t.FormattingOptions={}));var dn;(function(p){function A(h,f,S){return{range:h,target:f,data:S}}p.create=A;function P(h){var f=h;return M.defined(f)&&n.is(f.range)&&(M.undefined(f.target)||M.string(f.target))}p.is=P})(dn=t.DocumentLink||(t.DocumentLink={}));var It;(function(p){function A(h,f){return{range:h,parent:f}}p.create=A;function P(h){var f=h;return f!==void 0&&n.is(f.range)&&(f.parent===void 0||p.is(f.parent))}p.is=P})(It=t.SelectionRange||(t.SelectionRange={})),t.EOL=[`
`,`\r
`,"\r"];var wt;(function(p){function A(S,D,l,m){return new pn(S,D,l,m)}p.create=A;function P(S){var D=S;return!!(M.defined(D)&&M.string(D.uri)&&(M.undefined(D.languageId)||M.string(D.languageId))&&M.number(D.lineCount)&&M.func(D.getText)&&M.func(D.positionAt)&&M.func(D.offsetAt))}p.is=P;function h(S,D){for(var l=S.getText(),m=f(D,function(te,Ce){var Lt=te.range.start.line-Ce.range.start.line;return Lt===0?te.range.start.character-Ce.range.start.character:Lt}),v=l.length,T=m.length-1;T>=0;T--){var O=m[T],H=S.offsetAt(O.range.start),Y=S.offsetAt(O.range.end);if(Y<=v)l=l.substring(0,H)+O.newText+l.substring(Y,l.length);else throw new Error("Overlapping edit");v=H}return l}p.applyEdits=h;function f(S,D){if(S.length<=1)return S;var l=S.length/2|0,m=S.slice(0,l),v=S.slice(l);f(m,D),f(v,D);for(var T=0,O=0,H=0;T<m.length&&O<v.length;){var Y=D(m[T],v[O]);Y<=0?S[H++]=m[T++]:S[H++]=v[O++]}for(;T<m.length;)S[H++]=m[T++];for(;O<v.length;)S[H++]=v[O++];return S}})(wt=t.TextDocument||(t.TextDocument={}));var pn=function(){function p(A,P,h,f){this._uri=A,this._languageId=P,this._version=h,this._content=f,this._lineOffsets=void 0}return Object.defineProperty(p.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"version",{get:function(){return this._version},enumerable:!0,configurable:!0}),p.prototype.getText=function(A){if(A){var P=this.offsetAt(A.start),h=this.offsetAt(A.end);return this._content.substring(P,h)}return this._content},p.prototype.update=function(A,P){this._content=A.text,this._version=P,this._lineOffsets=void 0},p.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var A=[],P=this._content,h=!0,f=0;f<P.length;f++){h&&(A.push(f),h=!1);var S=P.charAt(f);h=S==="\r"||S===`
`,S==="\r"&&f+1<P.length&&P.charAt(f+1)===`
`&&f++}h&&P.length>0&&A.push(P.length),this._lineOffsets=A}return this._lineOffsets},p.prototype.positionAt=function(A){A=Math.max(Math.min(A,this._content.length),0);var P=this.getLineOffsets(),h=0,f=P.length;if(f===0)return r.create(0,A);for(;h<f;){var S=Math.floor((h+f)/2);P[S]>A?f=S:h=S+1}var D=h-1;return r.create(D,A-P[D])},p.prototype.offsetAt=function(A){var P=this.getLineOffsets();if(A.line>=P.length)return this._content.length;if(A.line<0)return 0;var h=P[A.line],f=A.line+1<P.length?P[A.line+1]:this._content.length;return Math.max(Math.min(h+A.character,f),h)},Object.defineProperty(p.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!0,configurable:!0}),p}(),M;(function(p){var A=Object.prototype.toString;function P(T){return typeof T!="undefined"}p.defined=P;function h(T){return typeof T=="undefined"}p.undefined=h;function f(T){return T===!0||T===!1}p.boolean=f;function S(T){return A.call(T)==="[object String]"}p.string=S;function D(T){return A.call(T)==="[object Number]"}p.number=D;function l(T){return A.call(T)==="[object Function]"}p.func=l;function m(T){return T!==null&&typeof T=="object"}p.objectLiteral=m;function v(T,O){return Array.isArray(T)&&T.every(O)}p.typedArray=v})(M||(M={}))})});var Yh=_(Nt=>{"use strict";Object.defineProperty(Nt,"__esModule",{value:!0});function C_(e){return e===!0||e===!1}Nt.boolean=C_;function Vh(e){return typeof e=="string"||e instanceof String}Nt.string=Vh;function A_(e){return typeof e=="number"||e instanceof Number}Nt.number=A_;function b_(e){return e instanceof Error}Nt.error=b_;function I_(e){return typeof e=="function"}Nt.func=I_;function Qh(e){return Array.isArray(e)}Nt.array=Qh;function w_(e){return Qh(e)&&e.every(t=>Vh(t))}Nt.stringArray=w_;function L_(e,t){return Array.isArray(e)&&e.every(t)}Nt.typedArray=L_;function P_(e){return e!==null&&typeof e=="object"}Nt.objectLiteral=P_});var ut=_(Yr=>{"use strict";Object.defineProperty(Yr,"__esModule",{value:!0});var Gi=St(),au=class extends Gi.RequestType0{constructor(t){super(t)}};Yr.ProtocolRequestType0=au;var uu=class extends Gi.RequestType{constructor(t){super(t)}};Yr.ProtocolRequestType=uu;var cu=class extends Gi.NotificationType{constructor(t){super(t)}};Yr.ProtocolNotificationType=cu;var lu=class extends Gi.NotificationType0{constructor(t){super(t)}};Yr.ProtocolNotificationType0=lu});var zh=_($i=>{"use strict";Object.defineProperty($i,"__esModule",{value:!0});var D_=St(),M_=ut(),k_;(function(e){e.method="textDocument/implementation",e.type=new M_.ProtocolRequestType(e.method),e.resultType=new D_.ProgressType})(k_=$i.ImplementationRequest||($i.ImplementationRequest={}))});var Xh=_(Vi=>{"use strict";Object.defineProperty(Vi,"__esModule",{value:!0});var x_=St(),q_=ut(),F_;(function(e){e.method="textDocument/typeDefinition",e.type=new q_.ProtocolRequestType(e.method),e.resultType=new x_.ProgressType})(F_=Vi.TypeDefinitionRequest||(Vi.TypeDefinitionRequest={}))});var Jh=_(zr=>{"use strict";Object.defineProperty(zr,"__esModule",{value:!0});var Kh=ut(),U_;(function(e){e.type=new Kh.ProtocolRequestType0("workspace/workspaceFolders")})(U_=zr.WorkspaceFoldersRequest||(zr.WorkspaceFoldersRequest={}));var B_;(function(e){e.type=new Kh.ProtocolNotificationType("workspace/didChangeWorkspaceFolders")})(B_=zr.DidChangeWorkspaceFoldersNotification||(zr.DidChangeWorkspaceFoldersNotification={}))});var Zh=_(Qi=>{"use strict";Object.defineProperty(Qi,"__esModule",{value:!0});var j_=ut(),W_;(function(e){e.type=new j_.ProtocolRequestType("workspace/configuration")})(W_=Qi.ConfigurationRequest||(Qi.ConfigurationRequest={}))});var td=_(Xr=>{"use strict";Object.defineProperty(Xr,"__esModule",{value:!0});var H_=St(),ed=ut(),G_;(function(e){e.method="textDocument/documentColor",e.type=new ed.ProtocolRequestType(e.method),e.resultType=new H_.ProgressType})(G_=Xr.DocumentColorRequest||(Xr.DocumentColorRequest={}));var $_;(function(e){e.type=new ed.ProtocolRequestType("textDocument/colorPresentation")})($_=Xr.ColorPresentationRequest||(Xr.ColorPresentationRequest={}))});var rd=_(Kr=>{"use strict";Object.defineProperty(Kr,"__esModule",{value:!0});var V_=St(),Q_=ut(),Y_;(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})(Y_=Kr.FoldingRangeKind||(Kr.FoldingRangeKind={}));var z_;(function(e){e.method="textDocument/foldingRange",e.type=new Q_.ProtocolRequestType(e.method),e.resultType=new V_.ProgressType})(z_=Kr.FoldingRangeRequest||(Kr.FoldingRangeRequest={}))});var nd=_(Yi=>{"use strict";Object.defineProperty(Yi,"__esModule",{value:!0});var X_=St(),K_=ut(),J_;(function(e){e.method="textDocument/declaration",e.type=new K_.ProtocolRequestType(e.method),e.resultType=new X_.ProgressType})(J_=Yi.DeclarationRequest||(Yi.DeclarationRequest={}))});var id=_(zi=>{"use strict";Object.defineProperty(zi,"__esModule",{value:!0});var Z_=St(),eR=ut(),tR;(function(e){e.method="textDocument/selectionRange",e.type=new eR.ProtocolRequestType(e.method),e.resultType=new Z_.ProgressType})(tR=zi.SelectionRangeRequest||(zi.SelectionRangeRequest={}))});var od=_(sr=>{"use strict";Object.defineProperty(sr,"__esModule",{value:!0});var rR=St(),sd=ut(),nR;(function(e){e.type=new rR.ProgressType})(nR=sr.WorkDoneProgress||(sr.WorkDoneProgress={}));var iR;(function(e){e.type=new sd.ProtocolRequestType("window/workDoneProgress/create")})(iR=sr.WorkDoneProgressCreateRequest||(sr.WorkDoneProgressCreateRequest={}));var sR;(function(e){e.type=new sd.ProtocolNotificationType("window/workDoneProgress/cancel")})(sR=sr.WorkDoneProgressCancelNotification||(sr.WorkDoneProgressCancelNotification={}))});var fd=_(k=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0});var or=Yh(),Gt=St(),ce=ut(),oR=zh();k.ImplementationRequest=oR.ImplementationRequest;var aR=Xh();k.TypeDefinitionRequest=aR.TypeDefinitionRequest;var ad=Jh();k.WorkspaceFoldersRequest=ad.WorkspaceFoldersRequest;k.DidChangeWorkspaceFoldersNotification=ad.DidChangeWorkspaceFoldersNotification;var uR=Zh();k.ConfigurationRequest=uR.ConfigurationRequest;var ud=td();k.DocumentColorRequest=ud.DocumentColorRequest;k.ColorPresentationRequest=ud.ColorPresentationRequest;var cR=rd();k.FoldingRangeRequest=cR.FoldingRangeRequest;var lR=nd();k.DeclarationRequest=lR.DeclarationRequest;var fR=id();k.SelectionRangeRequest=fR.SelectionRangeRequest;var fu=od();k.WorkDoneProgress=fu.WorkDoneProgress;k.WorkDoneProgressCreateRequest=fu.WorkDoneProgressCreateRequest;k.WorkDoneProgressCancelNotification=fu.WorkDoneProgressCancelNotification;var cd;(function(e){function t(r){let n=r;return or.string(n.language)||or.string(n.scheme)||or.string(n.pattern)}e.is=t})(cd=k.DocumentFilter||(k.DocumentFilter={}));var ld;(function(e){function t(r){if(!Array.isArray(r))return!1;for(let n of r)if(!or.string(n)&&!cd.is(n))return!1;return!0}e.is=t})(ld=k.DocumentSelector||(k.DocumentSelector={}));var hR;(function(e){e.type=new ce.ProtocolRequestType("client/registerCapability")})(hR=k.RegistrationRequest||(k.RegistrationRequest={}));var dR;(function(e){e.type=new ce.ProtocolRequestType("client/unregisterCapability")})(dR=k.UnregistrationRequest||(k.UnregistrationRequest={}));var pR;(function(e){e.Create="create",e.Rename="rename",e.Delete="delete"})(pR=k.ResourceOperationKind||(k.ResourceOperationKind={}));var ER;(function(e){e.Abort="abort",e.Transactional="transactional",e.TextOnlyTransactional="textOnlyTransactional",e.Undo="undo"})(ER=k.FailureHandlingKind||(k.FailureHandlingKind={}));var mR;(function(e){function t(r){let n=r;return n&&or.string(n.id)&&n.id.length>0}e.hasId=t})(mR=k.StaticRegistrationOptions||(k.StaticRegistrationOptions={}));var gR;(function(e){function t(r){let n=r;return n&&(n.documentSelector===null||ld.is(n.documentSelector))}e.is=t})(gR=k.TextDocumentRegistrationOptions||(k.TextDocumentRegistrationOptions={}));var vR;(function(e){function t(n){let i=n;return or.objectLiteral(i)&&(i.workDoneProgress===void 0||or.boolean(i.workDoneProgress))}e.is=t;function r(n){let i=n;return i&&or.boolean(i.workDoneProgress)}e.hasWorkDoneProgress=r})(vR=k.WorkDoneProgressOptions||(k.WorkDoneProgressOptions={}));var yR;(function(e){e.type=new ce.ProtocolRequestType("initialize")})(yR=k.InitializeRequest||(k.InitializeRequest={}));var TR;(function(e){e.unknownProtocolVersion=1})(TR=k.InitializeError||(k.InitializeError={}));var _R;(function(e){e.type=new ce.ProtocolNotificationType("initialized")})(_R=k.InitializedNotification||(k.InitializedNotification={}));var RR;(function(e){e.type=new ce.ProtocolRequestType0("shutdown")})(RR=k.ShutdownRequest||(k.ShutdownRequest={}));var SR;(function(e){e.type=new ce.ProtocolNotificationType0("exit")})(SR=k.ExitNotification||(k.ExitNotification={}));var NR;(function(e){e.type=new ce.ProtocolNotificationType("workspace/didChangeConfiguration")})(NR=k.DidChangeConfigurationNotification||(k.DidChangeConfigurationNotification={}));var OR;(function(e){e.Error=1,e.Warning=2,e.Info=3,e.Log=4})(OR=k.MessageType||(k.MessageType={}));var CR;(function(e){e.type=new ce.ProtocolNotificationType("window/showMessage")})(CR=k.ShowMessageNotification||(k.ShowMessageNotification={}));var AR;(function(e){e.type=new ce.ProtocolRequestType("window/showMessageRequest")})(AR=k.ShowMessageRequest||(k.ShowMessageRequest={}));var bR;(function(e){e.type=new ce.ProtocolNotificationType("window/logMessage")})(bR=k.LogMessageNotification||(k.LogMessageNotification={}));var IR;(function(e){e.type=new ce.ProtocolNotificationType("telemetry/event")})(IR=k.TelemetryEventNotification||(k.TelemetryEventNotification={}));var wR;(function(e){e.None=0,e.Full=1,e.Incremental=2})(wR=k.TextDocumentSyncKind||(k.TextDocumentSyncKind={}));var LR;(function(e){e.method="textDocument/didOpen",e.type=new ce.ProtocolNotificationType(e.method)})(LR=k.DidOpenTextDocumentNotification||(k.DidOpenTextDocumentNotification={}));var PR;(function(e){e.method="textDocument/didChange",e.type=new ce.ProtocolNotificationType(e.method)})(PR=k.DidChangeTextDocumentNotification||(k.DidChangeTextDocumentNotification={}));var DR;(function(e){e.method="textDocument/didClose",e.type=new ce.ProtocolNotificationType(e.method)})(DR=k.DidCloseTextDocumentNotification||(k.DidCloseTextDocumentNotification={}));var MR;(function(e){e.method="textDocument/didSave",e.type=new ce.ProtocolNotificationType(e.method)})(MR=k.DidSaveTextDocumentNotification||(k.DidSaveTextDocumentNotification={}));var kR;(function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3})(kR=k.TextDocumentSaveReason||(k.TextDocumentSaveReason={}));var xR;(function(e){e.method="textDocument/willSave",e.type=new ce.ProtocolNotificationType(e.method)})(xR=k.WillSaveTextDocumentNotification||(k.WillSaveTextDocumentNotification={}));var qR;(function(e){e.method="textDocument/willSaveWaitUntil",e.type=new ce.ProtocolRequestType(e.method)})(qR=k.WillSaveTextDocumentWaitUntilRequest||(k.WillSaveTextDocumentWaitUntilRequest={}));var FR;(function(e){e.type=new ce.ProtocolNotificationType("workspace/didChangeWatchedFiles")})(FR=k.DidChangeWatchedFilesNotification||(k.DidChangeWatchedFilesNotification={}));var UR;(function(e){e.Created=1,e.Changed=2,e.Deleted=3})(UR=k.FileChangeType||(k.FileChangeType={}));var BR;(function(e){e.Create=1,e.Change=2,e.Delete=4})(BR=k.WatchKind||(k.WatchKind={}));var jR;(function(e){e.type=new ce.ProtocolNotificationType("textDocument/publishDiagnostics")})(jR=k.PublishDiagnosticsNotification||(k.PublishDiagnosticsNotification={}));var WR;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.TriggerForIncompleteCompletions=3})(WR=k.CompletionTriggerKind||(k.CompletionTriggerKind={}));var HR;(function(e){e.method="textDocument/completion",e.type=new ce.ProtocolRequestType(e.method),e.resultType=new Gt.ProgressType})(HR=k.CompletionRequest||(k.CompletionRequest={}));var GR;(function(e){e.method="completionItem/resolve",e.type=new ce.ProtocolRequestType(e.method)})(GR=k.CompletionResolveRequest||(k.CompletionResolveRequest={}));var $R;(function(e){e.method="textDocument/hover",e.type=new ce.ProtocolRequestType(e.method)})($R=k.HoverRequest||(k.HoverRequest={}));var VR;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.ContentChange=3})(VR=k.SignatureHelpTriggerKind||(k.SignatureHelpTriggerKind={}));var QR;(function(e){e.method="textDocument/signatureHelp",e.type=new ce.ProtocolRequestType(e.method)})(QR=k.SignatureHelpRequest||(k.SignatureHelpRequest={}));var YR;(function(e){e.method="textDocument/definition",e.type=new ce.ProtocolRequestType(e.method),e.resultType=new Gt.ProgressType})(YR=k.DefinitionRequest||(k.DefinitionRequest={}));var zR;(function(e){e.method="textDocument/references",e.type=new ce.ProtocolRequestType(e.method),e.resultType=new Gt.ProgressType})(zR=k.ReferencesRequest||(k.ReferencesRequest={}));var XR;(function(e){e.method="textDocument/documentHighlight",e.type=new ce.ProtocolRequestType(e.method),e.resultType=new Gt.ProgressType})(XR=k.DocumentHighlightRequest||(k.DocumentHighlightRequest={}));var KR;(function(e){e.method="textDocument/documentSymbol",e.type=new ce.ProtocolRequestType(e.method),e.resultType=new Gt.ProgressType})(KR=k.DocumentSymbolRequest||(k.DocumentSymbolRequest={}));var JR;(function(e){e.method="textDocument/codeAction",e.type=new ce.ProtocolRequestType(e.method),e.resultType=new Gt.ProgressType})(JR=k.CodeActionRequest||(k.CodeActionRequest={}));var ZR;(function(e){e.method="workspace/symbol",e.type=new ce.ProtocolRequestType(e.method),e.resultType=new Gt.ProgressType})(ZR=k.WorkspaceSymbolRequest||(k.WorkspaceSymbolRequest={}));var eS;(function(e){e.type=new ce.ProtocolRequestType("textDocument/codeLens"),e.resultType=new Gt.ProgressType})(eS=k.CodeLensRequest||(k.CodeLensRequest={}));var tS;(function(e){e.type=new ce.ProtocolRequestType("codeLens/resolve")})(tS=k.CodeLensResolveRequest||(k.CodeLensResolveRequest={}));var rS;(function(e){e.method="textDocument/documentLink",e.type=new ce.ProtocolRequestType(e.method),e.resultType=new Gt.ProgressType})(rS=k.DocumentLinkRequest||(k.DocumentLinkRequest={}));var nS;(function(e){e.type=new ce.ProtocolRequestType("documentLink/resolve")})(nS=k.DocumentLinkResolveRequest||(k.DocumentLinkResolveRequest={}));var iS;(function(e){e.method="textDocument/formatting",e.type=new ce.ProtocolRequestType(e.method)})(iS=k.DocumentFormattingRequest||(k.DocumentFormattingRequest={}));var sS;(function(e){e.method="textDocument/rangeFormatting",e.type=new ce.ProtocolRequestType(e.method)})(sS=k.DocumentRangeFormattingRequest||(k.DocumentRangeFormattingRequest={}));var oS;(function(e){e.method="textDocument/onTypeFormatting",e.type=new ce.ProtocolRequestType(e.method)})(oS=k.DocumentOnTypeFormattingRequest||(k.DocumentOnTypeFormattingRequest={}));var aS;(function(e){e.method="textDocument/rename",e.type=new ce.ProtocolRequestType(e.method)})(aS=k.RenameRequest||(k.RenameRequest={}));var uS;(function(e){e.method="textDocument/prepareRename",e.type=new ce.ProtocolRequestType(e.method)})(uS=k.PrepareRenameRequest||(k.PrepareRenameRequest={}));var cS;(function(e){e.type=new ce.ProtocolRequestType("workspace/executeCommand")})(cS=k.ExecuteCommandRequest||(k.ExecuteCommandRequest={}));var lS;(function(e){e.type=new ce.ProtocolRequestType("workspace/applyEdit")})(lS=k.ApplyWorkspaceEditRequest||(k.ApplyWorkspaceEditRequest={}))});var hd=_(ar=>{"use strict";Object.defineProperty(ar,"__esModule",{value:!0});var hu=ut(),fS;(function(e){e.method="textDocument/prepareCallHierarchy",e.type=new hu.ProtocolRequestType(e.method)})(fS=ar.CallHierarchyPrepareRequest||(ar.CallHierarchyPrepareRequest={}));var hS;(function(e){e.method="callHierarchy/incomingCalls",e.type=new hu.ProtocolRequestType(e.method)})(hS=ar.CallHierarchyIncomingCallsRequest||(ar.CallHierarchyIncomingCallsRequest={}));var dS;(function(e){e.method="callHierarchy/outgoingCalls",e.type=new hu.ProtocolRequestType(e.method)})(dS=ar.CallHierarchyOutgoingCallsRequest||(ar.CallHierarchyOutgoingCallsRequest={}))});var dd=_(nt=>{"use strict";Object.defineProperty(nt,"__esModule",{value:!0});var du=ut(),pS;(function(e){e.comment="comment",e.keyword="keyword",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.namespace="namespace",e.type="type",e.struct="struct",e.class="class",e.interface="interface",e.enum="enum",e.typeParameter="typeParameter",e.function="function",e.member="member",e.property="property",e.macro="macro",e.variable="variable",e.parameter="parameter",e.label="label"})(pS=nt.SemanticTokenTypes||(nt.SemanticTokenTypes={}));var ES;(function(e){e.documentation="documentation",e.declaration="declaration",e.definition="definition",e.reference="reference",e.static="static",e.abstract="abstract",e.deprecated="deprecated",e.async="async",e.volatile="volatile",e.readonly="readonly"})(ES=nt.SemanticTokenModifiers||(nt.SemanticTokenModifiers={}));var mS;(function(e){function t(r){let n=r;return n!==void 0&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}e.is=t})(mS=nt.SemanticTokens||(nt.SemanticTokens={}));var gS;(function(e){e.method="textDocument/semanticTokens",e.type=new du.ProtocolRequestType(e.method)})(gS=nt.SemanticTokensRequest||(nt.SemanticTokensRequest={}));var vS;(function(e){e.method="textDocument/semanticTokens/edits",e.type=new du.ProtocolRequestType(e.method)})(vS=nt.SemanticTokensEditsRequest||(nt.SemanticTokensEditsRequest={}));var yS;(function(e){e.method="textDocument/semanticTokens/range",e.type=new du.ProtocolRequestType(e.method)})(yS=nt.SemanticTokensRangeRequest||(nt.SemanticTokensRangeRequest={}))});var ur=_(Ee=>{"use strict";function pd(e){for(var t in e)Ee.hasOwnProperty(t)||(Ee[t]=e[t])}Object.defineProperty(Ee,"__esModule",{value:!0});var Re=St();Ee.ErrorCodes=Re.ErrorCodes;Ee.ResponseError=Re.ResponseError;Ee.CancellationToken=Re.CancellationToken;Ee.CancellationTokenSource=Re.CancellationTokenSource;Ee.Disposable=Re.Disposable;Ee.Event=Re.Event;Ee.Emitter=Re.Emitter;Ee.Trace=Re.Trace;Ee.TraceFormat=Re.TraceFormat;Ee.SetTraceNotification=Re.SetTraceNotification;Ee.LogTraceNotification=Re.LogTraceNotification;Ee.RequestType=Re.RequestType;Ee.RequestType0=Re.RequestType0;Ee.NotificationType=Re.NotificationType;Ee.NotificationType0=Re.NotificationType0;Ee.MessageReader=Re.MessageReader;Ee.MessageWriter=Re.MessageWriter;Ee.ConnectionStrategy=Re.ConnectionStrategy;Ee.StreamMessageReader=Re.StreamMessageReader;Ee.StreamMessageWriter=Re.StreamMessageWriter;Ee.IPCMessageReader=Re.IPCMessageReader;Ee.IPCMessageWriter=Re.IPCMessageWriter;Ee.createClientPipeTransport=Re.createClientPipeTransport;Ee.createServerPipeTransport=Re.createServerPipeTransport;Ee.generateRandomPipeName=Re.generateRandomPipeName;Ee.createClientSocketTransport=Re.createClientSocketTransport;Ee.createServerSocketTransport=Re.createServerSocketTransport;Ee.ProgressType=Re.ProgressType;pd($h());pd(fd());var Jr=hd(),$t=dd(),TS;(function(e){let t;(function(a){a.method=Jr.CallHierarchyPrepareRequest.method,a.type=Jr.CallHierarchyPrepareRequest.type})(t=e.CallHierarchyPrepareRequest||(e.CallHierarchyPrepareRequest={}));let r;(function(a){a.method=Jr.CallHierarchyIncomingCallsRequest.method,a.type=Jr.CallHierarchyIncomingCallsRequest.type})(r=e.CallHierarchyIncomingCallsRequest||(e.CallHierarchyIncomingCallsRequest={}));let n;(function(a){a.method=Jr.CallHierarchyOutgoingCallsRequest.method,a.type=Jr.CallHierarchyOutgoingCallsRequest.type})(n=e.CallHierarchyOutgoingCallsRequest||(e.CallHierarchyOutgoingCallsRequest={})),e.SemanticTokenTypes=$t.SemanticTokenTypes,e.SemanticTokenModifiers=$t.SemanticTokenModifiers,e.SemanticTokens=$t.SemanticTokens;let i;(function(a){a.method=$t.SemanticTokensRequest.method,a.type=$t.SemanticTokensRequest.type})(i=e.SemanticTokensRequest||(e.SemanticTokensRequest={}));let s;(function(a){a.method=$t.SemanticTokensEditsRequest.method,a.type=$t.SemanticTokensEditsRequest.type})(s=e.SemanticTokensEditsRequest||(e.SemanticTokensEditsRequest={}));let o;(function(a){a.method=$t.SemanticTokensRangeRequest.method,a.type=$t.SemanticTokensRangeRequest.type})(o=e.SemanticTokensRangeRequest||(e.SemanticTokensRangeRequest={}))})(TS=Ee.Proposed||(Ee.Proposed={}));function _S(e,t,r,n){return Re.createMessageConnection(e,t,r,n)}Ee.createProtocolConnection=_S});var pu=_(Ot=>{"use strict";Object.defineProperty(Ot,"__esModule",{value:!0});function RS(e){return e===!0||e===!1}Ot.boolean=RS;function Ed(e){return typeof e=="string"||e instanceof String}Ot.string=Ed;function SS(e){return typeof e=="number"||e instanceof Number}Ot.number=SS;function NS(e){return e instanceof Error}Ot.error=NS;function md(e){return typeof e=="function"}Ot.func=md;function gd(e){return Array.isArray(e)}Ot.array=gd;function OS(e){return gd(e)&&e.every(t=>Ed(t))}Ot.stringArray=OS;function CS(e,t){return Array.isArray(e)&&e.every(t)}Ot.typedArray=CS;function AS(e){return e&&md(e.then)}Ot.thenable=AS});var vd=_(Eu=>{"use strict";Object.defineProperty(Eu,"__esModule",{value:!0});var bS=ur(),IS=pu();Eu.ConfigurationFeature=e=>class extends e{getConfiguration(t){return t?IS.string(t)?this._getConfiguration({section:t}):this._getConfiguration(t):this._getConfiguration({})}_getConfiguration(t){let r={items:Array.isArray(t)?t:[t]};return this.connection.sendRequest(bS.ConfigurationRequest.type,r).then(n=>Array.isArray(t)?n:n[0])}}});var yd=_(mu=>{"use strict";Object.defineProperty(mu,"__esModule",{value:!0});var Xi=ur();mu.WorkspaceFoldersFeature=e=>class extends e{initialize(t){let r=t.workspace;r&&r.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new Xi.Emitter,this.connection.onNotification(Xi.DidChangeWorkspaceFoldersNotification.type,n=>{this._onDidChangeWorkspaceFolders.fire(n.event)}))}getWorkspaceFolders(){return this.connection.sendRequest(Xi.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return this._unregistration||(this._unregistration=this.connection.client.register(Xi.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}}});var gu=_(yr=>{"use strict";Object.defineProperty(yr,"__esModule",{value:!0});var Wn=class{constructor(t){this._value=t}asHex(){return this._value}equals(t){return this.asHex()===t.asHex()}},le=class extends Wn{constructor(){super([le._randomHex(),le._randomHex(),le._randomHex(),le._randomHex(),le._randomHex(),le._randomHex(),le._randomHex(),le._randomHex(),"-",le._randomHex(),le._randomHex(),le._randomHex(),le._randomHex(),"-","4",le._randomHex(),le._randomHex(),le._randomHex(),"-",le._oneOf(le._timeHighBits),le._randomHex(),le._randomHex(),le._randomHex(),"-",le._randomHex(),le._randomHex(),le._randomHex(),le._randomHex(),le._randomHex(),le._randomHex(),le._randomHex(),le._randomHex(),le._randomHex(),le._randomHex(),le._randomHex(),le._randomHex()].join(""))}static _oneOf(t){return t[Math.floor(t.length*Math.random())]}static _randomHex(){return le._oneOf(le._chars)}};le._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];le._timeHighBits=["8","9","a","b"];yr.empty=new Wn("00000000-0000-0000-0000-000000000000");function Td(){return new le}yr.v4=Td;var wS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function _d(e){return wS.test(e)}yr.isUUID=_d;function LS(e){if(!_d(e))throw new Error("invalid uuid");return new Wn(e)}yr.parse=LS;function PS(){return Td().asHex()}yr.generateUuid=PS});var Rd=_(Gn=>{"use strict";Object.defineProperty(Gn,"__esModule",{value:!0});var cr=ur(),DS=gu(),Dt=class{constructor(t,r){this._connection=t,this._token=r,Dt.Instances.set(this._token,this),this._source=new cr.CancellationTokenSource}get token(){return this._source.token}begin(t,r,n,i){let s={kind:"begin",title:t,percentage:r,message:n,cancellable:i};this._connection.sendProgress(cr.WorkDoneProgress.type,this._token,s)}report(t,r){let n={kind:"report"};typeof t=="number"?(n.percentage=t,r!==void 0&&(n.message=r)):n.message=t,this._connection.sendProgress(cr.WorkDoneProgress.type,this._token,n)}done(){Dt.Instances.delete(this._token),this._source.dispose(),this._connection.sendProgress(cr.WorkDoneProgress.type,this._token,{kind:"end"})}cancel(){this._source.cancel()}};Dt.Instances=new Map;var Hn=class{constructor(){this._source=new cr.CancellationTokenSource}get token(){return this._source.token}begin(){}report(){}done(){}};function MS(e,t){if(t===void 0||t.workDoneToken===void 0)return new Hn;let r=t.workDoneToken;return delete t.workDoneToken,new Dt(e,r)}Gn.attachWorkDone=MS;Gn.ProgressFeature=e=>class extends e{initialize(t){var r;((r=t==null?void 0:t.window)===null||r===void 0?void 0:r.workDoneProgress)===!0&&(this._progressSupported=!0,this.connection.onNotification(cr.WorkDoneProgressCancelNotification.type,n=>{let i=Dt.Instances.get(n.token);i!==void 0&&i.cancel()}))}attachWorkDoneProgress(t){return t===void 0?new Hn:new Dt(this.connection,t)}createWorkDoneProgress(){if(this._progressSupported){let t=DS.generateUuid();return this.connection.sendRequest(cr.WorkDoneProgressCreateRequest.type,{token:t}).then(()=>new Dt(this.connection,t))}else return Promise.resolve(new Hn)}};var vu;(function(e){e.type=new cr.ProgressType})(vu||(vu={}));var yu=class{constructor(t,r){this._connection=t,this._token=r}report(t){this._connection.sendProgress(vu.type,this._token,t)}};function kS(e,t){if(t===void 0||t.partialResultToken===void 0)return;let r=t.partialResultToken;return delete t.partialResultToken,new yu(e,r)}Gn.attachPartialResult=kS});var Nd=_(Vt=>{"use strict";Object.defineProperty(Vt,"__esModule",{value:!0});var xS=require("url"),Ct=require("path"),Tu=require("fs"),Su=require("child_process");function qS(e){let t=xS.parse(e);if(t.protocol!=="file:"||!t.path)return;let r=t.path.split("/");for(var n=0,i=r.length;n<i;n++)r[n]=decodeURIComponent(r[n]);if(process.platform==="win32"&&r.length>1){let s=r[0],o=r[1];s.length===0&&o.length>1&&o[1]===":"&&r.shift()}return Ct.normalize(r.join("/"))}Vt.uriToFilePath=qS;function _u(){return process.platform==="win32"}function Ki(e,t,r,n){let i="NODE_PATH",s=["var p = process;","p.on('message',function(m){","if(m.c==='e'){","p.exit(0);","}","else if(m.c==='rs'){","try{","var r=require.resolve(m.a);","p.send({c:'r',s:true,r:r});","}","catch(err){","p.send({c:'r',s:false});","}","}","});"].join("");return new Promise((o,a)=>{let u=process.env,c=Object.create(null);Object.keys(u).forEach(d=>c[d]=u[d]),t&&Tu.existsSync(t)&&(c[i]?c[i]=t+Ct.delimiter+c[i]:c[i]=t,n&&n(`NODE_PATH value is: ${c[i]}`)),c.ELECTRON_RUN_AS_NODE="1";try{let d=Su.fork("",[],{cwd:r,env:c,execArgv:["-e",s]});if(d.pid===void 0){a(new Error(`Starting process to resolve node module  ${e} failed`));return}d.on("error",g=>{a(g)}),d.on("message",g=>{g.c==="r"&&(d.send({c:"e"}),g.s?o(g.r):a(new Error(`Failed to resolve module: ${e}`)))});let E={c:"rs",a:e};d.send(E)}catch(d){a(d)}})}Vt.resolve=Ki;function Ru(e){let t="npm",r=Object.create(null);Object.keys(process.env).forEach(s=>r[s]=process.env[s]),r.NO_UPDATE_NOTIFIER="true";let n={encoding:"utf8",env:r};_u()&&(t="npm.cmd",n.shell=!0);let i=()=>{};try{process.on("SIGPIPE",i);let s=Su.spawnSync(t,["config","get","prefix"],n).stdout;if(!s){e&&e("'npm config get prefix' didn't return a value.");return}let o=s.trim();return e&&e(`'npm config get prefix' value is: ${o}`),o.length>0?_u()?Ct.join(o,"node_modules"):Ct.join(o,"lib","node_modules"):void 0}catch(s){return}finally{process.removeListener("SIGPIPE",i)}}Vt.resolveGlobalNodePath=Ru;function FS(e){let t="yarn",r={encoding:"utf8"};_u()&&(t="yarn.cmd",r.shell=!0);let n=()=>{};try{process.on("SIGPIPE",n);let i=Su.spawnSync(t,["global","dir","--json"],r),s=i.stdout;if(!s){e&&(e("'yarn global dir' didn't return a value."),i.stderr&&e(i.stderr));return}let o=s.trim().split(/\r?\n/);for(let a of o)try{let u=JSON.parse(a);if(u.type==="log")return Ct.join(u.data,"node_modules")}catch(u){}return}catch(i){return}finally{process.removeListener("SIGPIPE",n)}}Vt.resolveGlobalYarnPath=FS;var Sd;(function(e){let t;function r(){return t!==void 0||(process.platform==="win32"?t=!1:t=!Tu.existsSync(__filename.toUpperCase())||!Tu.existsSync(__filename.toLowerCase())),t}e.isCaseSensitive=r;function n(i,s){return r()?Ct.normalize(s).indexOf(Ct.normalize(i))===0:Ct.normalize(s).toLowerCase().indexOf(Ct.normalize(i).toLowerCase())===0}e.isParent=n})(Sd=Vt.FileSystem||(Vt.FileSystem={}));function US(e,t,r,n){return r?(Ct.isAbsolute(r)||(r=Ct.join(e,r)),Ki(t,r,r,n).then(i=>Sd.isParent(r,i)?i:Promise.reject(new Error(`Failed to load ${t} from node path location.`))).then(void 0,i=>Ki(t,Ru(n),e,n))):Ki(t,Ru(n),e,n)}Vt.resolveModulePath=US});var Od=_(Ou=>{"use strict";Object.defineProperty(Ou,"__esModule",{value:!0});var Nu=ur();Ou.CallHierarchyFeature=e=>class extends e{get callHierarchy(){return{onPrepare:t=>{this.connection.onRequest(Nu.Proposed.CallHierarchyPrepareRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),void 0))},onIncomingCalls:t=>{let r=Nu.Proposed.CallHierarchyIncomingCallsRequest.type;this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},onOutgoingCalls:t=>{let r=Nu.Proposed.CallHierarchyOutgoingCallsRequest.type;this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))}}}}});var Cd=_(Ji=>{"use strict";Object.defineProperty(Ji,"__esModule",{value:!0});var Cu=ur();Ji.SemanticTokensFeature=e=>class extends e{get semanticTokens(){return{on:t=>{let r=Cu.Proposed.SemanticTokensRequest.type;this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},onEdits:t=>{let r=Cu.Proposed.SemanticTokensEditsRequest.type;this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},onRange:t=>{let r=Cu.Proposed.SemanticTokensRangeRequest.type;this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))}}}};var Au=class{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(t,r,n,i,s){let o=t,a=r;this._dataLen>0&&(o-=this._prevLine,o===0&&(a-=this._prevChar)),this._data[this._dataLen++]=o,this._data[this._dataLen++]=a,this._data[this._dataLen++]=n,this._data[this._dataLen++]=i,this._data[this._dataLen++]=s,this._prevLine=t,this._prevChar=r}get id(){return this._id.toString()}previousResult(t){this.id===t&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){if(this._prevData!==void 0){let t=this._prevData.length,r=this._data.length,n=0;for(;n<r&&n<t&&this._prevData[n]===this._data[n];)n++;if(n<r&&n<t){let i=0;for(;i<r&&i<t&&this._prevData[t-1-i]===this._data[r-1-i];)i++;let s=this._data.slice(n,r-i);return{resultId:this.id,edits:[{start:n,deleteCount:t-i-n,data:s}]}}else return n<r?{resultId:this.id,edits:[{start:n,deleteCount:0,data:this._data.slice(n)}]}:n<t?{resultId:this.id,edits:[{start:n,deleteCount:t-n}]}:{resultId:this.id,edits:[]}}else return this.build()}};Ji.SemanticTokensBuilder=Au});var Fd=_(Ie=>{"use strict";function BS(e){for(var t in e)Ie.hasOwnProperty(t)||(Ie[t]=e[t])}Object.defineProperty(Ie,"__esModule",{value:!0});var $=ur();Ie.Event=$.Event;var jS=vd(),WS=yd(),ae=Rd(),Xe=pu(),Iu=gu();BS(ur());var $n=Nd(),HS;(function(e){e.uriToFilePath=$n.uriToFilePath,e.resolveGlobalNodePath=$n.resolveGlobalNodePath,e.resolveGlobalYarnPath=$n.resolveGlobalYarnPath,e.resolve=$n.resolve,e.resolveModulePath=$n.resolveModulePath})(HS=Ie.Files||(Ie.Files={}));var Zr=!1,wd;function GS(){let e="--clientProcessId";function t(r){try{let n=parseInt(r);isNaN(n)||(wd=setInterval(()=>{try{process.kill(n,0)}catch(i){process.exit(Zr?0:1)}},3e3))}catch(n){}}for(let r=2;r<process.argv.length;r++){let n=process.argv[r];if(n===e&&r+1<process.argv.length){t(process.argv[r+1]);return}else{let i=n.split("=");i[0]===e&&t(i[1])}}}GS();function bu(e){if(e!==null)return e}var wu=class{constructor(t){this._documents=Object.create(null),this._configuration=t,this._onDidChangeContent=new $.Emitter,this._onDidOpen=new $.Emitter,this._onDidClose=new $.Emitter,this._onDidSave=new $.Emitter,this._onWillSave=new $.Emitter}get onDidChangeContent(){return this._onDidChangeContent.event}get onDidOpen(){return this._onDidOpen.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(t){this._willSaveWaitUntil=t}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(t){return this._documents[t]}all(){return Object.keys(this._documents).map(t=>this._documents[t])}keys(){return Object.keys(this._documents)}listen(t){t.__textDocumentSync=$.TextDocumentSyncKind.Full,t.onDidOpenTextDocument(r=>{let n=r.textDocument,i=this._configuration.create(n.uri,n.languageId,n.version,n.text);this._documents[n.uri]=i;let s=Object.freeze({document:i});this._onDidOpen.fire(s),this._onDidChangeContent.fire(s)}),t.onDidChangeTextDocument(r=>{let n=r.textDocument,i=r.contentChanges;if(i.length===0)return;let s=this._documents[n.uri],{version:o}=n;if(o==null)throw new Error(`Received document change event for ${n.uri} without valid version identifier`);s=this._configuration.update(s,i,o),this._documents[n.uri]=s,this._onDidChangeContent.fire(Object.freeze({document:s}))}),t.onDidCloseTextDocument(r=>{let n=this._documents[r.textDocument.uri];n&&(delete this._documents[r.textDocument.uri],this._onDidClose.fire(Object.freeze({document:n})))}),t.onWillSaveTextDocument(r=>{let n=this._documents[r.textDocument.uri];n&&this._onWillSave.fire(Object.freeze({document:n,reason:r.reason}))}),t.onWillSaveTextDocumentWaitUntil((r,n)=>{let i=this._documents[r.textDocument.uri];return i&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:i,reason:r.reason}),n):[]}),t.onDidSaveTextDocument(r=>{let n=this._documents[r.textDocument.uri];n&&this._onDidSave.fire(Object.freeze({document:n}))})}};Ie.TextDocuments=wu;var Lu=class{constructor(){this._messages=Object.create(null)}add(t){let r=this._messages[t];r||(r=0),r++,this._messages[t]=r}sendErrors(t){Object.keys(this._messages).forEach(r=>{t.window.showErrorMessage(r)})}};Ie.ErrorMessageTracker=Lu;var Zi=class{constructor(){}rawAttach(t){this._rawConnection=t}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(t){}initialize(t){}error(t){this.send($.MessageType.Error,t)}warn(t){this.send($.MessageType.Warning,t)}info(t){this.send($.MessageType.Info,t)}log(t){this.send($.MessageType.Log,t)}send(t,r){this._rawConnection&&this._rawConnection.sendNotification($.LogMessageNotification.type,{type:t,message:r})}},Pu=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}showErrorMessage(t,...r){let n={type:$.MessageType.Error,message:t,actions:r};return this._connection.sendRequest($.ShowMessageRequest.type,n).then(bu)}showWarningMessage(t,...r){let n={type:$.MessageType.Warning,message:t,actions:r};return this._connection.sendRequest($.ShowMessageRequest.type,n).then(bu)}showInformationMessage(t,...r){let n={type:$.MessageType.Info,message:t,actions:r};return this._connection.sendRequest($.ShowMessageRequest.type,n).then(bu)}},Ad=ae.ProgressFeature(Pu),$S;(function(e){function t(){return new es}e.create=t})($S=Ie.BulkRegistration||(Ie.BulkRegistration={}));var es=class{constructor(){this._registrations=[],this._registered=new Set}add(t,r){let n=Xe.string(t)?t:t.method;if(this._registered.has(n))throw new Error(`${n} is already added to this registration`);let i=Iu.generateUuid();this._registrations.push({id:i,method:n,registerOptions:r||{}}),this._registered.add(n)}asRegistrationParams(){return{registrations:this._registrations}}},VS;(function(e){function t(){return new Vn(void 0,[])}e.create=t})(VS=Ie.BulkUnregistration||(Ie.BulkUnregistration={}));var Vn=class{constructor(t,r){this._connection=t,this._unregistrations=new Map,r.forEach(n=>{this._unregistrations.set(n.method,n)})}get isAttached(){return!!this._connection}attach(t){this._connection=t}add(t){this._unregistrations.set(t.method,t)}dispose(){let t=[];for(let n of this._unregistrations.values())t.push(n);let r={unregisterations:t};this._connection.sendRequest($.UnregistrationRequest.type,r).then(void 0,n=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(t){let r=Xe.string(t)?t:t.method,n=this._unregistrations.get(r);if(!n)return!1;let i={unregisterations:[n]};return this._connection.sendRequest($.UnregistrationRequest.type,i).then(()=>{this._unregistrations.delete(r)},s=>{this._connection.console.info(`Unregistering request handler for ${n.id} failed.`)}),!0}},ts=class{attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}register(t,r,n){return t instanceof es?this.registerMany(t):t instanceof Vn?this.registerSingle1(t,r,n):this.registerSingle2(t,r)}registerSingle1(t,r,n){let i=Xe.string(r)?r:r.method,s=Iu.generateUuid(),o={registrations:[{id:s,method:i,registerOptions:n||{}}]};return t.isAttached||t.attach(this._connection),this._connection.sendRequest($.RegistrationRequest.type,o).then(a=>(t.add({id:s,method:i}),t),a=>(this.connection.console.info(`Registering request handler for ${i} failed.`),Promise.reject(a)))}registerSingle2(t,r){let n=Xe.string(t)?t:t.method,i=Iu.generateUuid(),s={registrations:[{id:i,method:n,registerOptions:r||{}}]};return this._connection.sendRequest($.RegistrationRequest.type,s).then(o=>$.Disposable.create(()=>{this.unregisterSingle(i,n)}),o=>(this.connection.console.info(`Registering request handler for ${n} failed.`),Promise.reject(o)))}unregisterSingle(t,r){let n={unregisterations:[{id:t,method:r}]};return this._connection.sendRequest($.UnregistrationRequest.type,n).then(void 0,i=>{this.connection.console.info(`Unregistering request handler for ${t} failed.`)})}registerMany(t){let r=t.asRegistrationParams();return this._connection.sendRequest($.RegistrationRequest.type,r).then(()=>new Vn(this._connection,r.registrations.map(n=>({id:n.id,method:n.method}))),n=>(this.connection.console.info("Bulk registration failed."),Promise.reject(n)))}},Du=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}applyEdit(t){function r(i){return i&&!!i.edit}let n=r(t)?t:{edit:t};return this._connection.sendRequest($.ApplyWorkspaceEditRequest.type,n)}},bd=WS.WorkspaceFoldersFeature(jS.ConfigurationFeature(Du)),rs=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}logEvent(t){this._connection.sendNotification($.TelemetryEventNotification.type,t)}},ns=class{constructor(){this._trace=$.Trace.Off}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}set trace(t){this._trace=t}log(t,r){this._trace!==$.Trace.Off&&this._connection.sendNotification($.LogTraceNotification.type,{message:t,verbose:this._trace===$.Trace.Verbose?r:void 0})}},Qn=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}attachWorkDoneProgress(t){return ae.attachWorkDone(this.connection,t)}attachPartialResultProgress(t,r){return ae.attachPartialResult(this.connection,r)}};Ie.LanguagesImpl=Qn;function Ld(e,t){return function(r){return t(e(r))}}Ie.combineConsoleFeatures=Ld;function Pd(e,t){return function(r){return t(e(r))}}Ie.combineTelemetryFeatures=Pd;function Dd(e,t){return function(r){return t(e(r))}}Ie.combineTracerFeatures=Dd;function Md(e,t){return function(r){return t(e(r))}}Ie.combineClientFeatures=Md;function kd(e,t){return function(r){return t(e(r))}}Ie.combineWindowFeatures=kd;function xd(e,t){return function(r){return t(e(r))}}Ie.combineWorkspaceFeatures=xd;function qd(e,t){return function(r){return t(e(r))}}Ie.combineLanguagesFeatures=qd;function QS(e,t){function r(i,s,o){return i&&s?o(i,s):i||s}return{__brand:"features",console:r(e.console,t.console,Ld),tracer:r(e.tracer,t.tracer,Dd),telemetry:r(e.telemetry,t.telemetry,Pd),client:r(e.client,t.client,Md),window:r(e.window,t.window,kd),workspace:r(e.workspace,t.workspace,xd)}}Ie.combineFeatures=QS;function YS(e,t,r,n){let i,s,o,a;return e!==void 0&&e.__brand==="features"&&(i=e,e=t,t=r,r=n),$.ConnectionStrategy.is(e)?a=e:(s=e,o=t,a=r),zS(s,o,a,i)}Ie.createConnection=YS;function zS(e,t,r,n){if(!e&&!t&&process.argv.length>2){let N,y,I=process.argv.slice(2);for(let z=0;z<I.length;z++){let U=I[z];if(U==="--node-ipc"){e=new $.IPCMessageReader(process),t=new $.IPCMessageWriter(process);break}else if(U==="--stdio"){e=process.stdin,t=process.stdout;break}else if(U==="--socket"){N=parseInt(I[z+1]);break}else if(U==="--pipe"){y=I[z+1];break}else{var i=U.split("=");if(i[0]==="--socket"){N=parseInt(i[1]);break}else if(i[0]==="--pipe"){y=i[1];break}}}if(N){let z=$.createServerSocketTransport(N);e=z[0],t=z[1]}else if(y){let z=$.createServerPipeTransport(y);e=z[0],t=z[1]}}var s="Use arguments of createConnection or set command line parameters: '--node-ipc', '--stdio' or '--socket={number}'";if(!e)throw new Error("Connection input stream is not set. "+s);if(!t)throw new Error("Connection output stream is not set. "+s);if(Xe.func(e.read)&&Xe.func(e.on)){let N=e;N.on("end",()=>{process.exit(Zr?0:1)}),N.on("close",()=>{process.exit(Zr?0:1)})}let o=n&&n.console?new(n.console(Zi)):new Zi,a=$.createProtocolConnection(e,t,o,r);o.rawAttach(a);let u=n&&n.tracer?new(n.tracer(ns)):new ns,c=n&&n.telemetry?new(n.telemetry(rs)):new rs,d=n&&n.client?new(n.client(ts)):new ts,E=n&&n.window?new(n.window(Ad)):new Ad,g=n&&n.workspace?new(n.workspace(bd)):new bd,R=n&&n.languages?new(n.languages(Qn)):new Qn,b=[o,u,c,d,E,g,R];function x(N){return N instanceof Promise?N:Xe.thenable(N)?new Promise((y,I)=>{N.then(z=>y(z),z=>I(z))}):Promise.resolve(N)}let G,B,ee,V={listen:()=>a.listen(),sendRequest:(N,...y)=>a.sendRequest(Xe.string(N)?N:N.method,...y),onRequest:(N,y)=>a.onRequest(N,y),sendNotification:(N,y)=>{let I=Xe.string(N)?N:N.method;arguments.length===1?a.sendNotification(I):a.sendNotification(I,y)},onNotification:(N,y)=>a.onNotification(N,y),onProgress:a.onProgress,sendProgress:a.sendProgress,onInitialize:N=>B=N,onInitialized:N=>a.onNotification($.InitializedNotification.type,N),onShutdown:N=>G=N,onExit:N=>ee=N,get console(){return o},get telemetry(){return c},get tracer(){return u},get client(){return d},get window(){return E},get workspace(){return g},get languages(){return R},onDidChangeConfiguration:N=>a.onNotification($.DidChangeConfigurationNotification.type,N),onDidChangeWatchedFiles:N=>a.onNotification($.DidChangeWatchedFilesNotification.type,N),__textDocumentSync:void 0,onDidOpenTextDocument:N=>a.onNotification($.DidOpenTextDocumentNotification.type,N),onDidChangeTextDocument:N=>a.onNotification($.DidChangeTextDocumentNotification.type,N),onDidCloseTextDocument:N=>a.onNotification($.DidCloseTextDocumentNotification.type,N),onWillSaveTextDocument:N=>a.onNotification($.WillSaveTextDocumentNotification.type,N),onWillSaveTextDocumentWaitUntil:N=>a.onRequest($.WillSaveTextDocumentWaitUntilRequest.type,N),onDidSaveTextDocument:N=>a.onNotification($.DidSaveTextDocumentNotification.type,N),sendDiagnostics:N=>a.sendNotification($.PublishDiagnosticsNotification.type,N),onHover:N=>a.onRequest($.HoverRequest.type,(y,I)=>N(y,I,ae.attachWorkDone(a,y),void 0)),onCompletion:N=>a.onRequest($.CompletionRequest.type,(y,I)=>N(y,I,ae.attachWorkDone(a,y),ae.attachPartialResult(a,y))),onCompletionResolve:N=>a.onRequest($.CompletionResolveRequest.type,N),onSignatureHelp:N=>a.onRequest($.SignatureHelpRequest.type,(y,I)=>N(y,I,ae.attachWorkDone(a,y),void 0)),onDeclaration:N=>a.onRequest($.DeclarationRequest.type,(y,I)=>N(y,I,ae.attachWorkDone(a,y),ae.attachPartialResult(a,y))),onDefinition:N=>a.onRequest($.DefinitionRequest.type,(y,I)=>N(y,I,ae.attachWorkDone(a,y),ae.attachPartialResult(a,y))),onTypeDefinition:N=>a.onRequest($.TypeDefinitionRequest.type,(y,I)=>N(y,I,ae.attachWorkDone(a,y),ae.attachPartialResult(a,y))),onImplementation:N=>a.onRequest($.ImplementationRequest.type,(y,I)=>N(y,I,ae.attachWorkDone(a,y),ae.attachPartialResult(a,y))),onReferences:N=>a.onRequest($.ReferencesRequest.type,(y,I)=>N(y,I,ae.attachWorkDone(a,y),ae.attachPartialResult(a,y))),onDocumentHighlight:N=>a.onRequest($.DocumentHighlightRequest.type,(y,I)=>N(y,I,ae.attachWorkDone(a,y),ae.attachPartialResult(a,y))),onDocumentSymbol:N=>a.onRequest($.DocumentSymbolRequest.type,(y,I)=>N(y,I,ae.attachWorkDone(a,y),ae.attachPartialResult(a,y))),onWorkspaceSymbol:N=>a.onRequest($.WorkspaceSymbolRequest.type,(y,I)=>N(y,I,ae.attachWorkDone(a,y),ae.attachPartialResult(a,y))),onCodeAction:N=>a.onRequest($.CodeActionRequest.type,(y,I)=>N(y,I,ae.attachWorkDone(a,y),ae.attachPartialResult(a,y))),onCodeLens:N=>a.onRequest($.CodeLensRequest.type,(y,I)=>N(y,I,ae.attachWorkDone(a,y),ae.attachPartialResult(a,y))),onCodeLensResolve:N=>a.onRequest($.CodeLensResolveRequest.type,(y,I)=>N(y,I)),onDocumentFormatting:N=>a.onRequest($.DocumentFormattingRequest.type,(y,I)=>N(y,I,ae.attachWorkDone(a,y),void 0)),onDocumentRangeFormatting:N=>a.onRequest($.DocumentRangeFormattingRequest.type,(y,I)=>N(y,I,ae.attachWorkDone(a,y),void 0)),onDocumentOnTypeFormatting:N=>a.onRequest($.DocumentOnTypeFormattingRequest.type,(y,I)=>N(y,I)),onRenameRequest:N=>a.onRequest($.RenameRequest.type,(y,I)=>N(y,I,ae.attachWorkDone(a,y),void 0)),onPrepareRename:N=>a.onRequest($.PrepareRenameRequest.type,(y,I)=>N(y,I)),onDocumentLinks:N=>a.onRequest($.DocumentLinkRequest.type,(y,I)=>N(y,I,ae.attachWorkDone(a,y),ae.attachPartialResult(a,y))),onDocumentLinkResolve:N=>a.onRequest($.DocumentLinkResolveRequest.type,(y,I)=>N(y,I)),onDocumentColor:N=>a.onRequest($.DocumentColorRequest.type,(y,I)=>N(y,I,ae.attachWorkDone(a,y),ae.attachPartialResult(a,y))),onColorPresentation:N=>a.onRequest($.ColorPresentationRequest.type,(y,I)=>N(y,I,ae.attachWorkDone(a,y),ae.attachPartialResult(a,y))),onFoldingRanges:N=>a.onRequest($.FoldingRangeRequest.type,(y,I)=>N(y,I,ae.attachWorkDone(a,y),ae.attachPartialResult(a,y))),onSelectionRanges:N=>a.onRequest($.SelectionRangeRequest.type,(y,I)=>N(y,I,ae.attachWorkDone(a,y),ae.attachPartialResult(a,y))),onExecuteCommand:N=>a.onRequest($.ExecuteCommandRequest.type,(y,I)=>N(y,I,ae.attachWorkDone(a,y),void 0)),dispose:()=>a.dispose()};for(let N of b)N.attach(V);return a.onRequest($.InitializeRequest.type,N=>{let y=N.processId;Xe.number(y)&&wd===void 0&&setInterval(()=>{try{process.kill(y,0)}catch(I){process.exit(Zr?0:1)}},3e3),Xe.string(N.trace)&&(u.trace=$.Trace.fromString(N.trace));for(let I of b)I.initialize(N.capabilities);if(B){let I=B(N,new $.CancellationTokenSource().token,ae.attachWorkDone(a,N),void 0);return x(I).then(z=>{if(z instanceof $.ResponseError)return z;let U=z;U||(U={capabilities:{}});let Q=U.capabilities;Q||(Q={},U.capabilities=Q),Q.textDocumentSync===void 0||Q.textDocumentSync===null?Q.textDocumentSync=Xe.number(V.__textDocumentSync)?V.__textDocumentSync:$.TextDocumentSyncKind.None:!Xe.number(Q.textDocumentSync)&&!Xe.number(Q.textDocumentSync.change)&&(Q.textDocumentSync.change=Xe.number(V.__textDocumentSync)?V.__textDocumentSync:$.TextDocumentSyncKind.None);for(let ie of b)ie.fillServerCapabilities(Q);return U})}else{let I={capabilities:{textDocumentSync:$.TextDocumentSyncKind.None}};for(let z of b)z.fillServerCapabilities(I.capabilities);return I}}),a.onRequest($.ShutdownRequest.type,()=>{if(Zr=!0,G)return G(new $.CancellationTokenSource().token)}),a.onNotification($.ExitNotification.type,()=>{try{ee&&ee()}finally{Zr?process.exit(0):process.exit(1)}}),a.onNotification($.SetTraceNotification.type,N=>{u.trace=$.Trace.fromString(N.value)}),V}var XS=Od(),Id=Cd(),KS;(function(e){e.all={__brand:"features",languages:qd(XS.CallHierarchyFeature,Id.SemanticTokensFeature)},e.SemanticTokensBuilder=Id.SemanticTokensBuilder})(KS=Ie.ProposedFeatures||(Ie.ProposedFeatures={}))});var Mu=_(Yn=>{"use strict";Object.defineProperty(Yn,"__esModule",{value:!0});Yn.NotifyResponseError=void 0;var JS=Fd(),is=class extends JS.ResponseError{constructor(t,r,n){super(t,r,n)}};Yn.NotifyResponseError=is;Yn.default=is});var ku=_(en=>{"use strict";Object.defineProperty(en,"__esModule",{value:!0});en.MissingModuleNotification=en.ElectronNotSupportedNotification=void 0;en.ElectronNotSupportedNotification="Core/electronNotSupported";en.MissingModuleNotification="Core/missingModule"});var Ud=_(Tr=>{"use strict";var ZS=Tr&&Tr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Tr,"__esModule",{value:!0});Tr.ElectronNotSupportedError=void 0;var eN=ZS(Mu()),tN=ku(),ss=class extends eN.default{constructor(t="Electron is not supported. You should enable 'sqltools.useNodeRuntime' and have NodeJS installed to continue."){super(1001,t,{notification:tN.ElectronNotSupportedNotification,dontNotify:!0})}};Tr.ElectronNotSupportedError=ss;Tr.default=ss});var Bd=_(_r=>{"use strict";var rN=_r&&_r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_r,"__esModule",{value:!0});_r.MissingModuleError=void 0;var nN=rN(Mu()),iN=ku(),os=class extends nN.default{constructor(t,r,n=!1){super(1e3,`Missing module "${t.map((i,s)=>`${i.name}@${i.version||"latest"}${s===t.length-2?" and ":s===t.length-1?"":", "}`).join("")}". Need to ${n?"upgrade":"install"}.`,{notification:iN.MissingModuleNotification,dontNotify:!0,args:{conn:r,action:n?"upgrade":"install",deps:t}})}};_r.MissingModuleError=os;_r.default=os});var Hd=_((WP,qu)=>{"use strict";var Pe=require("path"),jd=require("os"),lr=jd.homedir(),xu=jd.tmpdir(),{env:tn}=process,sN=e=>{let t=Pe.join(lr,"Library");return{data:Pe.join(t,"Application Support",e),config:Pe.join(t,"Preferences",e),cache:Pe.join(t,"Caches",e),log:Pe.join(t,"Logs",e),temp:Pe.join(xu,e)}},oN=e=>{let t=tn.APPDATA||Pe.join(lr,"AppData","Roaming"),r=tn.LOCALAPPDATA||Pe.join(lr,"AppData","Local");return{data:Pe.join(r,e,"Data"),config:Pe.join(t,e,"Config"),cache:Pe.join(r,e,"Cache"),log:Pe.join(r,e,"Log"),temp:Pe.join(xu,e)}},aN=e=>{let t=Pe.basename(lr);return{data:Pe.join(tn.XDG_DATA_HOME||Pe.join(lr,".local","share"),e),config:Pe.join(tn.XDG_CONFIG_HOME||Pe.join(lr,".config"),e),cache:Pe.join(tn.XDG_CACHE_HOME||Pe.join(lr,".cache"),e),log:Pe.join(tn.XDG_STATE_HOME||Pe.join(lr,".local","state"),e),temp:Pe.join(xu,t,e)}},Wd=(e,t)=>{if(typeof e!="string")throw new TypeError(`Expected string, got ${typeof e}`);return t=Object.assign({suffix:"nodejs"},t),t.suffix&&(e+=`-${t.suffix}`),process.platform==="darwin"?sN(e):process.platform==="win32"?oN(e):aN(e)};qu.exports=Wd;qu.exports.default=Wd});var Fu=_((HP,Gd)=>{Gd.exports=function(){var e=Error.prepareStackTrace;Error.prepareStackTrace=function(r,n){return n};var t=new Error().stack;return Error.prepareStackTrace=e,t[2].getFileName()}});var $d=_((GP,zn)=>{"use strict";var uN=process.platform==="win32",cN=/^(((?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?[\\\/]?)(?:[^\\\/]*[\\\/])*)((\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))[\\\/]*$/,Uu={};function lN(e){return cN.exec(e).slice(1)}Uu.parse=function(e){if(typeof e!="string")throw new TypeError("Parameter 'pathString' must be a string, not "+typeof e);var t=lN(e);if(!t||t.length!==5)throw new TypeError("Invalid path '"+e+"'");return{root:t[1],dir:t[0]===t[1]?t[0]:t[0].slice(0,-1),base:t[2],ext:t[4],name:t[3]}};var fN=/^((\/?)(?:[^\/]*\/)*)((\.{1,2}|[^\/]+?|)(\.[^.\/]*|))[\/]*$/,Bu={};function hN(e){return fN.exec(e).slice(1)}Bu.parse=function(e){if(typeof e!="string")throw new TypeError("Parameter 'pathString' must be a string, not "+typeof e);var t=hN(e);if(!t||t.length!==5)throw new TypeError("Invalid path '"+e+"'");return{root:t[1],dir:t[0].slice(0,-1),base:t[2],ext:t[4],name:t[3]}};uN?zn.exports=Uu.parse:zn.exports=Bu.parse;zn.exports.posix=Bu.parse;zn.exports.win32=Uu.parse});var ju=_(($P,zd)=>{var Yd=require("path"),Vd=Yd.parse||$d(),Qd=function(t,r){var n="/";/^([A-Za-z]:)/.test(t)?n="":/^\\\\/.test(t)&&(n="\\\\");for(var i=[t],s=Vd(t);s.dir!==i[i.length-1];)i.push(s.dir),s=Vd(s.dir);return i.reduce(function(o,a){return o.concat(r.map(function(u){return Yd.resolve(n,a,u)}))},[])};zd.exports=function(t,r,n){var i=r&&r.moduleDirectory?[].concat(r.moduleDirectory):["node_modules"];if(r&&typeof r.paths=="function")return r.paths(n,t,function(){return Qd(t,i)},r);var s=Qd(t,i);return r&&r.paths?s.concat(r.paths):s}});var Wu=_((VP,Xd)=>{Xd.exports=function(e,t){return t||{}}});var Kd=_((QP,dN)=>{dN.exports={assert:!0,async_hooks:">= 8",buffer_ieee754:"< 0.9.7",buffer:!0,child_process:!0,cluster:!0,console:!0,constants:!0,crypto:!0,_debug_agent:">= 1 && < 8",_debugger:"< 8",dgram:!0,dns:!0,domain:!0,events:!0,freelist:"< 6",fs:!0,"fs/promises":[">= 10 && < 10.1",">= 14"],_http_agent:">= 0.11.1",_http_client:">= 0.11.1",_http_common:">= 0.11.1",_http_incoming:">= 0.11.1",_http_outgoing:">= 0.11.1",_http_server:">= 0.11.1",http:!0,http2:">= 8.8",https:!0,inspector:">= 8.0.0",_linklist:"< 8",module:!0,net:!0,"node-inspect/lib/_inspect":">= 7.6.0 && < 12","node-inspect/lib/internal/inspect_client":">= 7.6.0 && < 12","node-inspect/lib/internal/inspect_repl":">= 7.6.0 && < 12",os:!0,path:!0,perf_hooks:">= 8.5",process:">= 1",punycode:!0,querystring:!0,readline:!0,repl:!0,smalloc:">= 0.11.5 && < 3",_stream_duplex:">= 0.9.4",_stream_transform:">= 0.9.4",_stream_wrap:">= 1.4.1",_stream_passthrough:">= 0.9.4",_stream_readable:">= 0.9.4",_stream_writable:">= 0.9.4",stream:!0,string_decoder:!0,sys:!0,timers:!0,_tls_common:">= 0.11.13",_tls_legacy:">= 0.11.3 && < 10",_tls_wrap:">= 0.11.3",tls:!0,trace_events:">= 10",tty:!0,url:!0,util:!0,"v8/tools/arguments":">= 10 && < 12","v8/tools/codemap":[">= 4.4.0 && < 5",">= 5.2.0 && < 12"],"v8/tools/consarray":[">= 4.4.0 && < 5",">= 5.2.0 && < 12"],"v8/tools/csvparser":[">= 4.4.0 && < 5",">= 5.2.0 && < 12"],"v8/tools/logreader":[">= 4.4.0 && < 5",">= 5.2.0 && < 12"],"v8/tools/profile_view":[">= 4.4.0 && < 5",">= 5.2.0 && < 12"],"v8/tools/splaytree":[">= 4.4.0 && < 5",">= 5.2.0 && < 12"],v8:">= 1",vm:!0,wasi:">= 13.4 && < 13.5",worker_threads:">= 11.7",zlib:!0}});var Gu=_((YP,ep)=>{var pN=process.versions&&process.versions.node&&process.versions.node.split(".")||[];function EN(e){for(var t=e.split(" "),r=t.length>1?t[0]:"=",n=(t.length>1?t[1]:t[0]).split("."),i=0;i<3;++i){var s=Number(pN[i]||0),o=Number(n[i]||0);if(s!==o)return r==="<"?s<o:r===">="?s>=o:!1}return r===">="}function Jd(e){var t=e.split(/ ?&& ?/);if(t.length===0)return!1;for(var r=0;r<t.length;++r)if(!EN(t[r]))return!1;return!0}function mN(e){if(typeof e=="boolean")return e;if(e&&typeof e=="object"){for(var t=0;t<e.length;++t)if(Jd(e[t]))return!0;return!1}return Jd(e)}var Hu=Kd(),Zd={};for(as in Hu)Object.prototype.hasOwnProperty.call(Hu,as)&&(Zd[as]=mN(Hu[as]));var as;ep.exports=Zd});var us=_((zP,tp)=>{var gN=Gu();tp.exports=function(t){return Object.prototype.hasOwnProperty.call(gN,t)}});var np=_((XP,rp)=>{var Rr=require("fs"),We=require("path"),vN=Fu(),yN=ju(),TN=Wu(),_N=us(),RN=Rr.realpath&&typeof Rr.realpath.native=="function"?Rr.realpath.native:Rr.realpath,SN=function(t,r){Rr.stat(t,function(n,i){return n?n.code==="ENOENT"||n.code==="ENOTDIR"?r(null,!1):r(n):r(null,i.isFile()||i.isFIFO())})},NN=function(t,r){Rr.stat(t,function(n,i){return n?n.code==="ENOENT"||n.code==="ENOTDIR"?r(null,!1):r(n):r(null,i.isDirectory())})},ON=function(t,r){RN(t,function(n,i){n&&n.code!=="ENOENT"?r(n):r(null,n?t:i)})},Xn=function(t,r,n,i){n&&n.preserveSymlinks===!1?t(r,i):i(null,r)},CN=function(t,r,n){for(var i=yN(r,n,t),s=0;s<i.length;s++)i[s]=We.join(i[s],t);return i};rp.exports=function(t,r,n){var i=n,s=r;if(typeof r=="function"&&(i=s,s={}),typeof t!="string"){var o=new TypeError("Path must be a string.");return process.nextTick(function(){i(o)})}s=TN(t,s);var a=s.isFile||SN,u=s.isDirectory||NN,c=s.readFile||Rr.readFile,d=s.realpath||ON,E=s.packageIterator,g=s.extensions||[".js"],R=s.basedir||We.dirname(vN()),b=s.filename||R;s.paths=s.paths||[];var x=We.resolve(R);Xn(d,x,s,function(U,Q){U?i(U):B(Q)});var G;function B(U){if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(t))G=We.resolve(U,t),(t==="."||t===".."||t.slice(-1)==="/")&&(G+="/"),/\/$/.test(t)&&G===U?y(G,s.package,ee):V(G,s.package,ee);else{if(_N(t))return i(null,t);z(t,U,function(Q,ie,C){if(Q)i(Q);else{if(ie)return Xn(d,ie,s,function(F,W){F?i(F):i(null,W,C)});var w=new Error("Cannot find module '"+t+"' from '"+b+"'");w.code="MODULE_NOT_FOUND",i(w)}})}}function ee(U,Q,ie){U?i(U):Q?i(null,Q,ie):y(G,function(C,w,F){if(C)i(C);else if(w)Xn(d,w,s,function(Z,J){Z?i(Z):i(null,J,F)});else{var W=new Error("Cannot find module '"+t+"' from '"+b+"'");W.code="MODULE_NOT_FOUND",i(W)}})}function V(U,Q,ie){var C=Q,w=ie;typeof C=="function"&&(w=C,C=void 0);var F=[""].concat(g);W(F,U,C);function W(Z,J,re){if(Z.length===0)return w(null,void 0,re);var Se=J+Z[0],me=re;me?de(null,me):N(We.dirname(Se),de);function de(_e,Be,qe){if(me=Be,_e)return w(_e);if(qe&&me&&s.pathFilter){var Je=We.relative(qe,Se),lt=Je.slice(0,Je.length-Z[0].length),Ye=s.pathFilter(me,J,lt);if(Ye)return W([""].concat(g.slice()),We.resolve(qe,Ye),me)}a(Se,xe)}function xe(_e,Be){if(_e)return w(_e);if(Be)return w(null,Se,me);W(Z.slice(1),J,me)}}}function N(U,Q){if(U===""||U==="/"||process.platform==="win32"&&/^\w:[/\\]*$/.test(U)||/[/\\]node_modules[/\\]*$/.test(U))return Q(null);Xn(d,U,s,function(ie,C){if(ie)return N(We.dirname(U),Q);var w=We.join(C,"package.json");a(w,function(F,W){if(!W)return N(We.dirname(U),Q);c(w,function(Z,J){Z&&Q(Z);try{var re=JSON.parse(J)}catch(Se){}re&&s.packageFilter&&(re=s.packageFilter(re,w)),Q(null,re,U)})})})}function y(U,Q,ie){var C=ie,w=Q;typeof w=="function"&&(C=w,w=s.package),Xn(d,U,s,function(F,W){if(F)return C(F);var Z=We.join(W,"package.json");a(Z,function(J,re){if(J)return C(J);if(!re)return V(We.join(U,"index"),w,C);c(Z,function(Se,me){if(Se)return C(Se);try{var de=JSON.parse(me)}catch(_e){}if(de&&s.packageFilter&&(de=s.packageFilter(de,Z)),de&&de.main){if(typeof de.main!="string"){var xe=new TypeError("package \u201C"+de.name+"\u201D `main` must be a string");return xe.code="INVALID_PACKAGE_MAIN",C(xe)}(de.main==="."||de.main==="./")&&(de.main="index"),V(We.resolve(U,de.main),de,function(_e,Be,qe){if(_e)return C(_e);if(Be)return C(null,Be,qe);if(!qe)return V(We.join(U,"index"),qe,C);var Je=We.resolve(U,qe.main);y(Je,qe,function(lt,Ye,Ze){if(lt)return C(lt);if(Ye)return C(null,Ye,Ze);V(We.join(U,"index"),Ze,C)})});return}V(We.join(U,"/index"),de,C)})})})}function I(U,Q){if(Q.length===0)return U(null,void 0);var ie=Q[0];u(We.dirname(ie),C);function C(W,Z){if(W)return U(W);if(!Z)return I(U,Q.slice(1));V(ie,s.package,w)}function w(W,Z,J){if(W)return U(W);if(Z)return U(null,Z,J);y(ie,s.package,F)}function F(W,Z,J){if(W)return U(W);if(Z)return U(null,Z,J);I(U,Q.slice(1))}}function z(U,Q,ie){var C=function(){return CN(U,Q,s)};I(ie,E?E(U,Q,C,s):C())}}});var sp=_((KP,ip)=>{var AN=us(),Sr=require("fs"),it=require("path"),bN=Fu(),IN=ju(),wN=Wu(),LN=Sr.realpathSync&&typeof Sr.realpathSync.native=="function"?Sr.realpathSync.native:Sr.realpathSync,PN=function(t){try{var r=Sr.statSync(t)}catch(n){if(n&&(n.code==="ENOENT"||n.code==="ENOTDIR"))return!1;throw n}return r.isFile()||r.isFIFO()},DN=function(t){try{var r=Sr.statSync(t)}catch(n){if(n&&(n.code==="ENOENT"||n.code==="ENOTDIR"))return!1;throw n}return r.isDirectory()},MN=function(t){try{return LN(t)}catch(r){if(r.code!=="ENOENT")throw r}return t},Kn=function(t,r,n){return n&&n.preserveSymlinks===!1?t(r):r},kN=function(t,r,n){for(var i=IN(r,n,t),s=0;s<i.length;s++)i[s]=it.join(i[s],t);return i};ip.exports=function(t,r){if(typeof t!="string")throw new TypeError("Path must be a string.");var n=wN(t,r),i=n.isFile||PN,s=n.readFileSync||Sr.readFileSync,o=n.isDirectory||DN,a=n.realpathSync||MN,u=n.packageIterator,c=n.extensions||[".js"],d=n.basedir||it.dirname(bN()),E=n.filename||d;n.paths=n.paths||[];var g=Kn(a,it.resolve(d),n);if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(t)){var R=it.resolve(g,t);(t==="."||t===".."||t.slice(-1)==="/")&&(R+="/");var b=B(R)||V(R);if(b)return Kn(a,b,n)}else{if(AN(t))return t;var x=N(t,g);if(x)return Kn(a,x,n)}var G=new Error("Cannot find module '"+t+"' from '"+E+"'");throw G.code="MODULE_NOT_FOUND",G;function B(y){var I=ee(it.dirname(y));if(I&&I.dir&&I.pkg&&n.pathFilter){var z=it.relative(I.dir,y),U=n.pathFilter(I.pkg,y,z);U&&(y=it.resolve(I.dir,U))}if(i(y))return y;for(var Q=0;Q<c.length;Q++){var ie=y+c[Q];if(i(ie))return ie}}function ee(y){if(!(y===""||y==="/")&&!(process.platform==="win32"&&/^\w:[/\\]*$/.test(y))&&!/[/\\]node_modules[/\\]*$/.test(y)){var I=it.join(Kn(a,y,n),"package.json");if(!i(I))return ee(it.dirname(y));var z=s(I);try{var U=JSON.parse(z)}catch(Q){}return U&&n.packageFilter&&(U=n.packageFilter(U,y)),{pkg:U,dir:y}}}function V(y){var I=it.join(Kn(a,y,n),"/package.json");if(i(I)){try{var z=s(I,"UTF8"),U=JSON.parse(z)}catch(w){}if(U&&n.packageFilter&&(U=n.packageFilter(U,y)),U&&U.main){if(typeof U.main!="string"){var Q=new TypeError("package \u201C"+U.name+"\u201D `main` must be a string");throw Q.code="INVALID_PACKAGE_MAIN",Q}(U.main==="."||U.main==="./")&&(U.main="index");try{var ie=B(it.resolve(y,U.main));if(ie)return ie;var C=V(it.resolve(y,U.main));if(C)return C}catch(w){}}}return B(it.join(y,"/index"))}function N(y,I){for(var z=function(){return kN(y,I,n)},U=u?u(y,I,z,n):z(),Q=0;Q<U.length;Q++){var ie=U[Q];if(o(it.dirname(ie))){var C=B(ie);if(C)return C;var w=V(ie);if(w)return w}}}}});var ap=_((JP,op)=>{var cs=np();cs.core=Gu();cs.isCore=us();cs.sync=sp();op.exports=cs});var dp=_((oe,hp)=>{oe=hp.exports=fe;var Te;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?Te=function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:Te=function(){};oe.SEMVER_SPEC_VERSION="2.0.0";var Vu=256,ls=Number.MAX_SAFE_INTEGER||9007199254740991,$u=16,ve=oe.re=[],q=oe.src=[],L=oe.tokens={},lp=0;function he(e){L[e]=lp++}he("NUMERICIDENTIFIER");q[L.NUMERICIDENTIFIER]="0|[1-9]\\d*";he("NUMERICIDENTIFIERLOOSE");q[L.NUMERICIDENTIFIERLOOSE]="[0-9]+";he("NONNUMERICIDENTIFIER");q[L.NONNUMERICIDENTIFIER]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";he("MAINVERSION");q[L.MAINVERSION]="("+q[L.NUMERICIDENTIFIER]+")\\.("+q[L.NUMERICIDENTIFIER]+")\\.("+q[L.NUMERICIDENTIFIER]+")";he("MAINVERSIONLOOSE");q[L.MAINVERSIONLOOSE]="("+q[L.NUMERICIDENTIFIERLOOSE]+")\\.("+q[L.NUMERICIDENTIFIERLOOSE]+")\\.("+q[L.NUMERICIDENTIFIERLOOSE]+")";he("PRERELEASEIDENTIFIER");q[L.PRERELEASEIDENTIFIER]="(?:"+q[L.NUMERICIDENTIFIER]+"|"+q[L.NONNUMERICIDENTIFIER]+")";he("PRERELEASEIDENTIFIERLOOSE");q[L.PRERELEASEIDENTIFIERLOOSE]="(?:"+q[L.NUMERICIDENTIFIERLOOSE]+"|"+q[L.NONNUMERICIDENTIFIER]+")";he("PRERELEASE");q[L.PRERELEASE]="(?:-("+q[L.PRERELEASEIDENTIFIER]+"(?:\\."+q[L.PRERELEASEIDENTIFIER]+")*))";he("PRERELEASELOOSE");q[L.PRERELEASELOOSE]="(?:-?("+q[L.PRERELEASEIDENTIFIERLOOSE]+"(?:\\."+q[L.PRERELEASEIDENTIFIERLOOSE]+")*))";he("BUILDIDENTIFIER");q[L.BUILDIDENTIFIER]="[0-9A-Za-z-]+";he("BUILD");q[L.BUILD]="(?:\\+("+q[L.BUILDIDENTIFIER]+"(?:\\."+q[L.BUILDIDENTIFIER]+")*))";he("FULL");he("FULLPLAIN");q[L.FULLPLAIN]="v?"+q[L.MAINVERSION]+q[L.PRERELEASE]+"?"+q[L.BUILD]+"?";q[L.FULL]="^"+q[L.FULLPLAIN]+"$";he("LOOSEPLAIN");q[L.LOOSEPLAIN]="[v=\\s]*"+q[L.MAINVERSIONLOOSE]+q[L.PRERELEASELOOSE]+"?"+q[L.BUILD]+"?";he("LOOSE");q[L.LOOSE]="^"+q[L.LOOSEPLAIN]+"$";he("GTLT");q[L.GTLT]="((?:<|>)?=?)";he("XRANGEIDENTIFIERLOOSE");q[L.XRANGEIDENTIFIERLOOSE]=q[L.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*";he("XRANGEIDENTIFIER");q[L.XRANGEIDENTIFIER]=q[L.NUMERICIDENTIFIER]+"|x|X|\\*";he("XRANGEPLAIN");q[L.XRANGEPLAIN]="[v=\\s]*("+q[L.XRANGEIDENTIFIER]+")(?:\\.("+q[L.XRANGEIDENTIFIER]+")(?:\\.("+q[L.XRANGEIDENTIFIER]+")(?:"+q[L.PRERELEASE]+")?"+q[L.BUILD]+"?)?)?";he("XRANGEPLAINLOOSE");q[L.XRANGEPLAINLOOSE]="[v=\\s]*("+q[L.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+q[L.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+q[L.XRANGEIDENTIFIERLOOSE]+")(?:"+q[L.PRERELEASELOOSE]+")?"+q[L.BUILD]+"?)?)?";he("XRANGE");q[L.XRANGE]="^"+q[L.GTLT]+"\\s*"+q[L.XRANGEPLAIN]+"$";he("XRANGELOOSE");q[L.XRANGELOOSE]="^"+q[L.GTLT]+"\\s*"+q[L.XRANGEPLAINLOOSE]+"$";he("COERCE");q[L.COERCE]="(^|[^\\d])(\\d{1,"+$u+"})(?:\\.(\\d{1,"+$u+"}))?(?:\\.(\\d{1,"+$u+"}))?(?:$|[^\\d])";he("COERCERTL");ve[L.COERCERTL]=new RegExp(q[L.COERCE],"g");he("LONETILDE");q[L.LONETILDE]="(?:~>?)";he("TILDETRIM");q[L.TILDETRIM]="(\\s*)"+q[L.LONETILDE]+"\\s+";ve[L.TILDETRIM]=new RegExp(q[L.TILDETRIM],"g");var xN="$1~";he("TILDE");q[L.TILDE]="^"+q[L.LONETILDE]+q[L.XRANGEPLAIN]+"$";he("TILDELOOSE");q[L.TILDELOOSE]="^"+q[L.LONETILDE]+q[L.XRANGEPLAINLOOSE]+"$";he("LONECARET");q[L.LONECARET]="(?:\\^)";he("CARETTRIM");q[L.CARETTRIM]="(\\s*)"+q[L.LONECARET]+"\\s+";ve[L.CARETTRIM]=new RegExp(q[L.CARETTRIM],"g");var qN="$1^";he("CARET");q[L.CARET]="^"+q[L.LONECARET]+q[L.XRANGEPLAIN]+"$";he("CARETLOOSE");q[L.CARETLOOSE]="^"+q[L.LONECARET]+q[L.XRANGEPLAINLOOSE]+"$";he("COMPARATORLOOSE");q[L.COMPARATORLOOSE]="^"+q[L.GTLT]+"\\s*("+q[L.LOOSEPLAIN]+")$|^$";he("COMPARATOR");q[L.COMPARATOR]="^"+q[L.GTLT]+"\\s*("+q[L.FULLPLAIN]+")$|^$";he("COMPARATORTRIM");q[L.COMPARATORTRIM]="(\\s*)"+q[L.GTLT]+"\\s*("+q[L.LOOSEPLAIN]+"|"+q[L.XRANGEPLAIN]+")";ve[L.COMPARATORTRIM]=new RegExp(q[L.COMPARATORTRIM],"g");var FN="$1$2$3";he("HYPHENRANGE");q[L.HYPHENRANGE]="^\\s*("+q[L.XRANGEPLAIN]+")\\s+-\\s+("+q[L.XRANGEPLAIN]+")\\s*$";he("HYPHENRANGELOOSE");q[L.HYPHENRANGELOOSE]="^\\s*("+q[L.XRANGEPLAINLOOSE]+")\\s+-\\s+("+q[L.XRANGEPLAINLOOSE]+")\\s*$";he("STAR");q[L.STAR]="(<|>)?=?\\s*\\*";for(fr=0;fr<lp;fr++)Te(fr,q[fr]),ve[fr]||(ve[fr]=new RegExp(q[fr]));var fr;oe.parse=Or;function Or(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof fe)return e;if(typeof e!="string"||e.length>Vu)return null;var r=t.loose?ve[L.LOOSE]:ve[L.FULL];if(!r.test(e))return null;try{return new fe(e,t)}catch(n){return null}}oe.valid=UN;function UN(e,t){var r=Or(e,t);return r?r.version:null}oe.clean=BN;function BN(e,t){var r=Or(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}oe.SemVer=fe;function fe(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof fe){if(e.loose===t.loose)return e;e=e.version}else if(typeof e!="string")throw new TypeError("Invalid Version: "+e);if(e.length>Vu)throw new TypeError("version is longer than "+Vu+" characters");if(!(this instanceof fe))return new fe(e,t);Te("SemVer",e,t),this.options=t,this.loose=!!t.loose;var r=e.trim().match(t.loose?ve[L.LOOSE]:ve[L.FULL]);if(!r)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>ls||this.major<0)throw new TypeError("Invalid major version");if(this.minor>ls||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>ls||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(function(n){if(/^[0-9]+$/.test(n)){var i=+n;if(i>=0&&i<ls)return i}return n}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}fe.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version};fe.prototype.toString=function(){return this.version};fe.prototype.compare=function(e){return Te("SemVer.compare",this.version,this.options,e),e instanceof fe||(e=new fe(e,this.options)),this.compareMain(e)||this.comparePre(e)};fe.prototype.compareMain=function(e){return e instanceof fe||(e=new fe(e,this.options)),Nr(this.major,e.major)||Nr(this.minor,e.minor)||Nr(this.patch,e.patch)};fe.prototype.comparePre=function(e){if(e instanceof fe||(e=new fe(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var r=this.prerelease[t],n=e.prerelease[t];if(Te("prerelease compare",t,r,n),r===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(r===void 0)return-1;if(r===n)continue;return Nr(r,n)}while(++t)};fe.prototype.compareBuild=function(e){e instanceof fe||(e=new fe(e,this.options));var t=0;do{var r=this.build[t],n=e.build[t];if(Te("prerelease compare",t,r,n),r===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(r===void 0)return-1;if(r===n)continue;return Nr(r,n)}while(++t)};fe.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t),this.inc("pre",t);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)typeof this.prerelease[r]=="number"&&(this.prerelease[r]++,r=-2);r===-1&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this};oe.inc=jN;function jN(e,t,r,n){typeof r=="string"&&(n=r,r=void 0);try{return new fe(e,r).inc(t,n).version}catch(i){return null}}oe.diff=WN;function WN(e,t){if(Qu(e,t))return null;var r=Or(e),n=Or(t),i="";if(r.prerelease.length||n.prerelease.length){i="pre";var s="prerelease"}for(var o in r)if((o==="major"||o==="minor"||o==="patch")&&r[o]!==n[o])return i+o;return s}oe.compareIdentifiers=Nr;var up=/^[0-9]+$/;function Nr(e,t){var r=up.test(e),n=up.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1}oe.rcompareIdentifiers=HN;function HN(e,t){return Nr(t,e)}oe.major=GN;function GN(e,t){return new fe(e,t).major}oe.minor=$N;function $N(e,t){return new fe(e,t).minor}oe.patch=VN;function VN(e,t){return new fe(e,t).patch}oe.compare=Qt;function Qt(e,t,r){return new fe(e,r).compare(new fe(t,r))}oe.compareLoose=QN;function QN(e,t){return Qt(e,t,!0)}oe.compareBuild=YN;function YN(e,t,r){var n=new fe(e,r),i=new fe(t,r);return n.compare(i)||n.compareBuild(i)}oe.rcompare=zN;function zN(e,t,r){return Qt(t,e,r)}oe.sort=XN;function XN(e,t){return e.sort(function(r,n){return oe.compareBuild(r,n,t)})}oe.rsort=KN;function KN(e,t){return e.sort(function(r,n){return oe.compareBuild(n,r,t)})}oe.gt=Jn;function Jn(e,t,r){return Qt(e,t,r)>0}oe.lt=fs;function fs(e,t,r){return Qt(e,t,r)<0}oe.eq=Qu;function Qu(e,t,r){return Qt(e,t,r)===0}oe.neq=fp;function fp(e,t,r){return Qt(e,t,r)!==0}oe.gte=Yu;function Yu(e,t,r){return Qt(e,t,r)>=0}oe.lte=zu;function zu(e,t,r){return Qt(e,t,r)<=0}oe.cmp=hs;function hs(e,t,r,n){switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return Qu(e,r,n);case"!=":return fp(e,r,n);case">":return Jn(e,r,n);case">=":return Yu(e,r,n);case"<":return fs(e,r,n);case"<=":return zu(e,r,n);default:throw new TypeError("Invalid operator: "+t)}}oe.Comparator=gt;function gt(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof gt){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof gt))return new gt(e,t);Te("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===rn?this.value="":this.value=this.operator+this.semver.version,Te("comp",this)}var rn={};gt.prototype.parse=function(e){var t=this.options.loose?ve[L.COMPARATORLOOSE]:ve[L.COMPARATOR],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=r[1]!==void 0?r[1]:"",this.operator==="="&&(this.operator=""),r[2]?this.semver=new fe(r[2],this.options.loose):this.semver=rn};gt.prototype.toString=function(){return this.value};gt.prototype.test=function(e){if(Te("Comparator.test",e,this.options.loose),this.semver===rn||e===rn)return!0;if(typeof e=="string")try{e=new fe(e,this.options)}catch(t){return!1}return hs(e,this.operator,this.semver,this.options)};gt.prototype.intersects=function(e,t){if(!(e instanceof gt))throw new TypeError("a Comparator is required");(!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1});var r;if(this.operator==="")return this.value===""?!0:(r=new De(e.value,t),ds(this.value,r,t));if(e.operator==="")return e.value===""?!0:(r=new De(this.value,t),ds(e.semver,r,t));var n=(this.operator===">="||this.operator===">")&&(e.operator===">="||e.operator===">"),i=(this.operator==="<="||this.operator==="<")&&(e.operator==="<="||e.operator==="<"),s=this.semver.version===e.semver.version,o=(this.operator===">="||this.operator==="<=")&&(e.operator===">="||e.operator==="<="),a=hs(this.semver,"<",e.semver,t)&&(this.operator===">="||this.operator===">")&&(e.operator==="<="||e.operator==="<"),u=hs(this.semver,">",e.semver,t)&&(this.operator==="<="||this.operator==="<")&&(e.operator===">="||e.operator===">");return n||i||s&&o||a||u};oe.Range=De;function De(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof De)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new De(e.raw,t);if(e instanceof gt)return new De(e.value,t);if(!(this instanceof De))return new De(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(function(r){return this.parseRange(r.trim())},this).filter(function(r){return r.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}De.prototype.format=function(){return this.range=this.set.map(function(e){return e.join(" ").trim()}).join("||").trim(),this.range};De.prototype.toString=function(){return this.range};De.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var r=t?ve[L.HYPHENRANGELOOSE]:ve[L.HYPHENRANGE];e=e.replace(r,aO),Te("hyphen replace",e),e=e.replace(ve[L.COMPARATORTRIM],FN),Te("comparator trim",e,ve[L.COMPARATORTRIM]),e=e.replace(ve[L.TILDETRIM],xN),e=e.replace(ve[L.CARETTRIM],qN),e=e.split(/\s+/).join(" ");var n=t?ve[L.COMPARATORLOOSE]:ve[L.COMPARATOR],i=e.split(" ").map(function(s){return ZN(s,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(i=i.filter(function(s){return!!s.match(n)})),i=i.map(function(s){return new gt(s,this.options)},this),i};De.prototype.intersects=function(e,t){if(!(e instanceof De))throw new TypeError("a Range is required");return this.set.some(function(r){return cp(r,t)&&e.set.some(function(n){return cp(n,t)&&r.every(function(i){return n.every(function(s){return i.intersects(s,t)})})})})};function cp(e,t){for(var r=!0,n=e.slice(),i=n.pop();r&&n.length;)r=n.every(function(s){return i.intersects(s,t)}),i=n.pop();return r}oe.toComparators=JN;function JN(e,t){return new De(e,t).set.map(function(r){return r.map(function(n){return n.value}).join(" ").trim().split(" ")})}function ZN(e,t){return Te("comp",e,t),e=rO(e,t),Te("caret",e),e=eO(e,t),Te("tildes",e),e=iO(e,t),Te("xrange",e),e=oO(e,t),Te("stars",e),e}function Ke(e){return!e||e.toLowerCase()==="x"||e==="*"}function eO(e,t){return e.trim().split(/\s+/).map(function(r){return tO(r,t)}).join(" ")}function tO(e,t){var r=t.loose?ve[L.TILDELOOSE]:ve[L.TILDE];return e.replace(r,function(n,i,s,o,a){Te("tilde",e,n,i,s,o,a);var u;return Ke(i)?u="":Ke(s)?u=">="+i+".0.0 <"+(+i+1)+".0.0":Ke(o)?u=">="+i+"."+s+".0 <"+i+"."+(+s+1)+".0":a?(Te("replaceTilde pr",a),u=">="+i+"."+s+"."+o+"-"+a+" <"+i+"."+(+s+1)+".0"):u=">="+i+"."+s+"."+o+" <"+i+"."+(+s+1)+".0",Te("tilde return",u),u})}function rO(e,t){return e.trim().split(/\s+/).map(function(r){return nO(r,t)}).join(" ")}function nO(e,t){Te("caret",e,t);var r=t.loose?ve[L.CARETLOOSE]:ve[L.CARET];return e.replace(r,function(n,i,s,o,a){Te("caret",e,n,i,s,o,a);var u;return Ke(i)?u="":Ke(s)?u=">="+i+".0.0 <"+(+i+1)+".0.0":Ke(o)?i==="0"?u=">="+i+"."+s+".0 <"+i+"."+(+s+1)+".0":u=">="+i+"."+s+".0 <"+(+i+1)+".0.0":a?(Te("replaceCaret pr",a),i==="0"?s==="0"?u=">="+i+"."+s+"."+o+"-"+a+" <"+i+"."+s+"."+(+o+1):u=">="+i+"."+s+"."+o+"-"+a+" <"+i+"."+(+s+1)+".0":u=">="+i+"."+s+"."+o+"-"+a+" <"+(+i+1)+".0.0"):(Te("no pr"),i==="0"?s==="0"?u=">="+i+"."+s+"."+o+" <"+i+"."+s+"."+(+o+1):u=">="+i+"."+s+"."+o+" <"+i+"."+(+s+1)+".0":u=">="+i+"."+s+"."+o+" <"+(+i+1)+".0.0"),Te("caret return",u),u})}function iO(e,t){return Te("replaceXRanges",e,t),e.split(/\s+/).map(function(r){return sO(r,t)}).join(" ")}function sO(e,t){e=e.trim();var r=t.loose?ve[L.XRANGELOOSE]:ve[L.XRANGE];return e.replace(r,function(n,i,s,o,a,u){Te("xRange",e,n,i,s,o,a,u);var c=Ke(s),d=c||Ke(o),E=d||Ke(a),g=E;return i==="="&&g&&(i=""),u=t.includePrerelease?"-0":"",c?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&g?(d&&(o=0),a=0,i===">"?(i=">=",d?(s=+s+1,o=0,a=0):(o=+o+1,a=0)):i==="<="&&(i="<",d?s=+s+1:o=+o+1),n=i+s+"."+o+"."+a+u):d?n=">="+s+".0.0"+u+" <"+(+s+1)+".0.0"+u:E&&(n=">="+s+"."+o+".0"+u+" <"+s+"."+(+o+1)+".0"+u),Te("xRange return",n),n})}function oO(e,t){return Te("replaceStars",e,t),e.trim().replace(ve[L.STAR],"")}function aO(e,t,r,n,i,s,o,a,u,c,d,E,g){return Ke(r)?t="":Ke(n)?t=">="+r+".0.0":Ke(i)?t=">="+r+"."+n+".0":t=">="+t,Ke(u)?a="":Ke(c)?a="<"+(+u+1)+".0.0":Ke(d)?a="<"+u+"."+(+c+1)+".0":E?a="<="+u+"."+c+"."+d+"-"+E:a="<="+a,(t+" "+a).trim()}De.prototype.test=function(e){if(!e)return!1;if(typeof e=="string")try{e=new fe(e,this.options)}catch(r){return!1}for(var t=0;t<this.set.length;t++)if(uO(this.set[t],e,this.options))return!0;return!1};function uO(e,t,r){for(var n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(n=0;n<e.length;n++)if(Te(e[n].semver),e[n].semver!==rn&&e[n].semver.prerelease.length>0){var i=e[n].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}oe.satisfies=ds;function ds(e,t,r){try{t=new De(t,r)}catch(n){return!1}return t.test(e)}oe.maxSatisfying=cO;function cO(e,t,r){var n=null,i=null;try{var s=new De(t,r)}catch(o){return null}return e.forEach(function(o){s.test(o)&&(!n||i.compare(o)===-1)&&(n=o,i=new fe(n,r))}),n}oe.minSatisfying=lO;function lO(e,t,r){var n=null,i=null;try{var s=new De(t,r)}catch(o){return null}return e.forEach(function(o){s.test(o)&&(!n||i.compare(o)===1)&&(n=o,i=new fe(n,r))}),n}oe.minVersion=fO;function fO(e,t){e=new De(e,t);var r=new fe("0.0.0");if(e.test(r)||(r=new fe("0.0.0-0"),e.test(r)))return r;r=null;for(var n=0;n<e.set.length;++n){var i=e.set[n];i.forEach(function(s){var o=new fe(s.semver.version);switch(s.operator){case">":o.prerelease.length===0?o.patch++:o.prerelease.push(0),o.raw=o.format();case"":case">=":(!r||Jn(r,o))&&(r=o);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+s.operator)}})}return r&&e.test(r)?r:null}oe.validRange=hO;function hO(e,t){try{return new De(e,t).range||"*"}catch(r){return null}}oe.ltr=dO;function dO(e,t,r){return Xu(e,t,"<",r)}oe.gtr=pO;function pO(e,t,r){return Xu(e,t,">",r)}oe.outside=Xu;function Xu(e,t,r,n){e=new fe(e,n),t=new De(t,n);var i,s,o,a,u;switch(r){case">":i=Jn,s=zu,o=fs,a=">",u=">=";break;case"<":i=fs,s=Yu,o=Jn,a="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ds(e,t,n))return!1;for(var c=0;c<t.set.length;++c){var d=t.set[c],E=null,g=null;if(d.forEach(function(R){R.semver===rn&&(R=new gt(">=0.0.0")),E=E||R,g=g||R,i(R.semver,E.semver,n)?E=R:o(R.semver,g.semver,n)&&(g=R)}),E.operator===a||E.operator===u||(!g.operator||g.operator===a)&&s(e,g.semver))return!1;if(g.operator===u&&o(e,g.semver))return!1}return!0}oe.prerelease=EO;function EO(e,t){var r=Or(e,t);return r&&r.prerelease.length?r.prerelease:null}oe.intersects=mO;function mO(e,t,r){return e=new De(e,r),t=new De(t,r),e.intersects(t)}oe.coerce=gO;function gO(e,t){if(e instanceof fe)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};var r=null;if(!t.rtl)r=e.match(ve[L.COERCE]);else{for(var n;(n=ve[L.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),ve[L.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;ve[L.COERCERTL].lastIndex=-1}return r===null?null:Or(r[2]+"."+(r[3]||"0")+"."+(r[4]||"0"),t)}});var yp=_((Ku,Ju)=>{"use strict";var ps=require("fs"),Yt=require("path"),{promisify:pp}=require("util"),vO=dp(),Ep=vO.satisfies(process.version,">=10.12.0"),mp=e=>{if(process.platform==="win32"&&/[<>:"|?*]/.test(e.replace(Yt.parse(e).root,""))){let r=new Error(`Path contains invalid characters: ${e}`);throw r.code="EINVAL",r}},gp=e=>ot(ot({},{mode:511,fs:ps}),e),vp=e=>{let t=new Error(`operation not permitted, mkdir '${e}'`);return t.code="EPERM",t.errno=-4048,t.path=e,t.syscall="mkdir",t},yO=(e,t)=>ht(Ku,null,function*(){mp(e),t=gp(t);let r=pp(t.fs.mkdir),n=pp(t.fs.stat);if(Ep&&t.fs.mkdir===ps.mkdir){let s=Yt.resolve(e);return yield r(s,{mode:t.mode,recursive:!0}),s}let i=s=>ht(Ku,null,function*(){try{return yield r(s,t.mode),s}catch(o){if(o.code==="EPERM")throw o;if(o.code==="ENOENT"){if(Yt.dirname(s)===s)throw vp(s);if(o.message.includes("null bytes"))throw o;return yield i(Yt.dirname(s)),i(s)}try{if(!(yield n(s)).isDirectory())throw new Error("The path is not a directory")}catch(a){throw o}return s}});return i(Yt.resolve(e))});Ju.exports=yO;Ju.exports.sync=(e,t)=>{if(mp(e),t=gp(t),Ep&&t.fs.mkdirSync===ps.mkdirSync){let n=Yt.resolve(e);return ps.mkdirSync(n,{mode:t.mode,recursive:!0}),n}let r=n=>{try{t.fs.mkdirSync(n,t.mode)}catch(i){if(i.code==="EPERM")throw i;if(i.code==="ENOENT"){if(Yt.dirname(n)===n)throw vp(n);if(i.message.includes("null bytes"))throw i;return r(Yt.dirname(n)),r(n)}try{if(!t.fs.statSync(n).isDirectory())throw new Error("The path is not a directory")}catch(s){throw i}}return n};return r(Yt.resolve(e))}});var Rp=_(st=>{"use strict";var TO=st&&st.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),_O=st&&st.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),RO=st&&st.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&TO(t,e,r);return _O(t,e),t},tc=st&&st.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(st,"__esModule",{value:!0});st.sqltoolsResolve=void 0;var SO=tc(Hd()),NO=tc(require("path")),Tp=tc(require("fs")),OO=ap(),_p=RO(yp()),Zu=SO.default(`vscode-${process.env.EXT_NAMESPACE||"sqltools"}`,{suffix:null});Tp.default.existsSync(Zu.data)||_p.sync(Zu.data);Tp.default.existsSync(ec("node_modules"))||_p.sync(ec("node_modules"));function ec(...e){return NO.default.resolve(Zu.data,...e)}st.sqltoolsResolve=e=>OO.sync(e,{basedir:ec()});var CO=e=>require(st.sqltoolsResolve(e));st.default=CO});var Cp=_((eD,Op)=>{"use strict";Op.exports=Np;var rc=Symbol("circular-ref-tag"),nc=Symbol("pino-raw-err-ref"),Sp=Object.create({},{type:{enumerable:!0,writable:!0,value:void 0},message:{enumerable:!0,writable:!0,value:void 0},stack:{enumerable:!0,writable:!0,value:void 0},raw:{enumerable:!1,get:function(){return this[nc]},set:function(e){this[nc]=e}}});Object.defineProperty(Sp,nc,{writable:!0,value:{}});function Np(e){if(!(e instanceof Error))return e;e[rc]=void 0;let t=Object.create(Sp);t.type=e.constructor.name,t.message=e.message,t.stack=e.stack;for(let r in e)if(t[r]===void 0){let n=e[r];n instanceof Error?n.hasOwnProperty(rc)||(t[r]=Np(n)):t[r]=n}return delete e[rc],t.raw=e,t}});var wp=_((tD,Ip)=>{"use strict";Ip.exports={mapHttpRequest:AO,reqSerializer:bp};var ic=Symbol("pino-raw-req-ref"),Ap=Object.create({},{id:{enumerable:!0,writable:!0,value:""},method:{enumerable:!0,writable:!0,value:""},url:{enumerable:!0,writable:!0,value:""},headers:{enumerable:!0,writable:!0,value:{}},remoteAddress:{enumerable:!0,writable:!0,value:""},remotePort:{enumerable:!0,writable:!0,value:""},raw:{enumerable:!1,get:function(){return this[ic]},set:function(e){this[ic]=e}}});Object.defineProperty(Ap,ic,{writable:!0,value:{}});function bp(e){var t=e.info||e.connection;let r=Object.create(Ap);return r.id=typeof e.id=="function"?e.id():e.id||(e.info?e.info.id:void 0),r.method=e.method,e.originalUrl?r.url=e.originalUrl:r.url=e.path||(e.url?e.url.path||e.url:void 0),r.headers=e.headers,r.remoteAddress=t&&t.remoteAddress,r.remotePort=t&&t.remotePort,r.raw=e.raw||e,r}function AO(e){return{req:bp(e)}}});var Mp=_((rD,Dp)=>{"use strict";Dp.exports={mapHttpResponse:bO,resSerializer:Pp};var sc=Symbol("pino-raw-res-ref"),Lp=Object.create({},{statusCode:{enumerable:!0,writable:!0,value:0},headers:{enumerable:!0,writable:!0,value:""},raw:{enumerable:!1,get:function(){return this[sc]},set:function(e){this[sc]=e}}});Object.defineProperty(Lp,sc,{writable:!0,value:{}});function Pp(e){let t=Object.create(Lp);return t.statusCode=e.statusCode,t.headers=e.getHeaders?e.getHeaders():e._headers,t.raw=e,t}function bO(e){return{res:Pp(e)}}});var ac=_((nD,kp)=>{"use strict";var oc=Cp(),Es=wp(),ms=Mp();kp.exports={err:oc,mapHttpRequest:Es.mapHttpRequest,mapHttpResponse:ms.mapHttpResponse,req:Es.reqSerializer,res:ms.resSerializer,wrapErrorSerializer:function(t){return t===oc?t:function(n){return t(oc(n))}},wrapRequestSerializer:function(t){return t===Es.reqSerializer?t:function(n){return t(Es.reqSerializer(n))}},wrapResponseSerializer:function(t){return t===ms.resSerializer?t:function(n){return t(ms.resSerializer(n))}}}});var qp=_((iD,xp)=>{"use strict";var{createContext:IO,runInContext:wO}=require("vm");xp.exports=LO;function LO(e={}){let{ERR_PATHS_MUST_BE_STRINGS:t=()=>"fast-redact - Paths must be strings",ERR_INVALID_PATH:r=n=>`fast-redact \u2013 Invalid path (${n})`}=e;return function({paths:i}){i.forEach(s=>{if(typeof s!="string")throw Error(t());try{if(//.test(s))throw Error();let o=new Proxy({},{get:()=>o,set:()=>{throw Error()}}),a=(s[0]==="["?"":".")+s.replace(/^\*/,"\u3007").replace(/\.\*/g,".\u3007").replace(/\[\*\]/g,"[\u3007]");if(/\n|\r|;/.test(a)||/\/\*/.test(a))throw Error();wO(`
          (function () {
            'use strict'
            o${a}
            if ([o${a}].length !== 1) throw Error()
          })()
        `,IO({o,"\u3007":null}),{codeGeneration:{strings:!1,wasm:!1}})}catch(o){throw Error(r(s))}})}}});var gs=_((sD,Fp)=>{"use strict";Fp.exports=/[^.[\]]+|\[((?:.)*?)\]/g});var Bp=_((oD,Up)=>{"use strict";var PO=gs();Up.exports=DO;function DO({paths:e}){let t=[];var r=0;let n=e.reduce(function(i,s,o){var a=s.match(PO).map(d=>d.replace(/'|"|`/g,""));let u=s[0]==="[";a=a.map(d=>d[0]==="["?d.substr(1,d.length-2):d);let c=a.indexOf("*");if(c>-1){let d=a.slice(0,c),E=d.join("."),g=a.slice(c+1,a.length);if(g.indexOf("*")>-1)throw Error("fast-redact \u2013 Only one wildcard per path is supported");let R=g.length>0;r++,t.push({before:d,beforeStr:E,after:g,nested:R})}else i[s]={path:a,val:void 0,precensored:!1,circle:"",escPath:JSON.stringify(s),leadingBracket:u};return i},{});return{wildcards:t,wcLen:r,secret:n}}});var Wp=_((aD,jp)=>{"use strict";var MO=gs();jp.exports=kO;function kO({secret:e,serialize:t,wcLen:r,strict:n,isCensorFct:i},s){let o=Function("o",`
    if (typeof o !== 'object' || o == null) {
      ${UO(n,t)}
    }
    const { censor, secret } = this
    ${xO(e,i)}
    this.compileRestore()
    ${qO(r>0,i)}
    ${FO(t)}
  `).bind(s);return t===!1&&(o.restore=a=>s.restore(a)),o}function xO(e,t){return Object.keys(e).map(r=>{let{escPath:n,leadingBracket:i}=e[r],s=i?1:0,o=i?"":".",a=[];for(var u;(u=MO.exec(r))!==null;){let[,E]=u,{index:g,input:R}=u;g>s&&a.push(R.substring(0,g-(E?0:1)))}var c=a.map(E=>`o${o}${E}`).join(" && ");c.length===0?c+=`o${o}${r} != null`:c+=` && o${o}${r} != null`;let d=`
      switch (true) {
        ${a.reverse().map(E=>`
          case o${o}${E} === censor:
            secret[${n}].circle = ${JSON.stringify(E)}
            break
        `).join(`
`)}
      }
    `;return`
      if (${c}) {
        const val = o${o}${r}
        if (val === censor) {
          secret[${n}].precensored = true
        } else {
          secret[${n}].val = val
          o${o}${r} = ${t?"censor(val)":"censor"}
          ${d}
        }
      }
    `}).join(`
`)}function qO(e,t){return e===!0?`
    {
      const { wildcards, wcLen, groupRedact, nestedRedact } = this
      for (var i = 0; i < wcLen; i++) {
        const { before, beforeStr, after, nested } = wildcards[i]
        if (nested === true) {
          secret[beforeStr] = secret[beforeStr] || []
          nestedRedact(secret[beforeStr], o, before, after, censor, ${t})
        } else secret[beforeStr] = groupRedact(o, before, censor, ${t})
      }
    }
  `:""}function FO(e){return e===!1?"return o":`
    var s = this.serialize(o)
    this.restore(o)
    return s
  `}function UO(e,t){return e===!0?"throw Error('fast-redact: primitives cannot be redacted')":t===!1?"return o":"return this.serialize(o)"}});var uc=_((uD,Gp)=>{"use strict";Gp.exports={groupRedact:jO,groupRestore:BO,nestedRedact:HO,nestedRestore:WO};function BO({keys:e,values:t,target:r}){if(r==null)return;let n=e.length;for(var i=0;i<n;i++){let s=e[i];r[s]=t[i]}}function jO(e,t,r,n){let i=Hp(e,t);if(i==null)return{keys:null,values:null,target:null,flat:!0};let s=Object.keys(i),o=s.length,a=new Array(o);for(var u=0;u<o;u++){let c=s[u];a[u]=i[c],i[c]=n?r(i[c]):r}return{keys:s,values:a,target:i,flat:!0}}function WO(e){let t=e.length;for(var r=0;r<t;r++){let{key:n,target:i,value:s}=e[r];i[n]=s}}function HO(e,t,r,n,i,s){let o=Hp(t,r);if(o==null)return;let a=Object.keys(o),u=a.length;for(var c=0;c<u;c++){let d=a[c],{value:E,parent:g,exists:R}=$O(o,d,n,i,s);R===!0&&g!==null&&e.push({key:n[n.length-1],target:g,value:E})}return e}function GO(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function $O(e,t,r,n,i){var s=-1,o=r.length,a=o-1,u,c,d,E=null,g=!0;if(d=u=e[t],typeof u!="object")return{value:null,parent:null,exists:g};for(;u!=null&&++s<o;){if(t=r[s],E=d,!(t in u)){g=!1;break}if(d=u[t],c=i?n(d):n,c=s!==a?d:c,u[t]=GO(u,t)&&c===d||c===void 0&&n!==void 0?u[t]:c,u=u[t],typeof u!="object")break}return{value:d,parent:E,exists:g}}function Hp(e,t){for(var r=-1,n=t.length,i=e;i!=null&&++r<n;)i=i[t[r]];return i}});var Vp=_((cD,$p)=>{"use strict";var{groupRestore:VO,nestedRestore:QO}=uc();$p.exports=YO;function YO({secret:e,wcLen:t}){return function(){if(this.restore)return;let n=Object.keys(e).filter(a=>e[a].precensored===!1),i=zO(e,n),s=t>0,o=s?{secret:e,groupRestore:VO,nestedRestore:QO}:{secret:e};this.restore=Function("o",XO(i,n,s)).bind(o)}}function zO(e,t){return t.map(r=>{let{circle:n,escPath:i,leadingBracket:s}=e[r],a=n?`o.${n} = secret[${i}].val`:`o${s?"":"."}${r} = secret[${i}].val`,u=`secret[${i}].val = undefined`;return`
      if (secret[${i}].val !== undefined) {
        try { ${a} } catch (e) {}
        ${u}
      }
    `}).join("")}function XO(e,t,r){let n=r===!0?`
    const keys = Object.keys(secret)
    const len = keys.length
    for (var i = ${t.length}; i < len; i++) {
      const k = keys[i]
      const o = secret[k]
      if (o.flat === true) this.groupRestore(o)
      else this.nestedRestore(o)
      secret[k] = null
    }
  `:"";return`
    const secret = this.secret
    ${e}
    ${n}
    return o
  `}});var Yp=_((lD,Qp)=>{"use strict";Qp.exports=KO;function KO(e){let{secret:t,censor:r,isCensorFct:n,compileRestore:i,serialize:s,groupRedact:o,nestedRedact:a,wildcards:u,wcLen:c}=e,d=[{secret:t,censor:r,isCensorFct:n,compileRestore:i}];return d.push({secret:t}),s!==!1&&d.push({serialize:s}),c>0&&d.push({groupRedact:o,nestedRedact:a,wildcards:u,wcLen:c}),Object.assign(...d)}});var Kp=_((fD,Xp)=>{"use strict";var zp=qp(),JO=Bp(),ZO=Wp(),eC=Vp(),{groupRedact:tC,nestedRedact:rC}=uc(),nC=Yp(),iC=gs(),sC=zp(),cc=e=>e;cc.restore=cc;var oC="[REDACTED]";lc.rx=iC;lc.validator=zp;Xp.exports=lc;function lc(e={}){let t=Array.from(new Set(e.paths||[])),r="serialize"in e&&(e.serialize===!1||typeof e.serialize=="function")?e.serialize:JSON.stringify,n=e.remove;if(n===!0&&r!==JSON.stringify)throw Error("fast-redact \u2013 remove option may only be set when serializer is JSON.stringify");let i=n===!0?void 0:"censor"in e?e.censor:oC,s=typeof i=="function";if(t.length===0)return r||cc;sC({paths:t,serialize:r,censor:i});let{wildcards:o,wcLen:a,secret:u}=JO({paths:t,censor:i}),c=eC({secret:u,wcLen:a}),d="strict"in e?e.strict:!0;return ZO({secret:u,wcLen:a,serialize:r,strict:d,isCensorFct:s},nC({secret:u,censor:i,compileRestore:c,serialize:r,groupRedact:tC,nestedRedact:rC,wildcards:o,wcLen:a}))}});var nn=_((hD,Jp)=>{"use strict";var aC=Symbol("pino.setLevel"),uC=Symbol("pino.getLevel"),cC=Symbol("pino.levelVal"),lC=Symbol("pino.useLevelLabels"),fC=Symbol("pino.useOnlyCustomLevels"),hC=Symbol("pino.mixin"),dC=Symbol("pino.lsCache"),pC=Symbol("pino.chindings"),EC=Symbol("pino.parsedChindings"),mC=Symbol("pino.asJson"),gC=Symbol("pino.write"),vC=Symbol("pino.redactFmt"),yC=Symbol("pino.time"),TC=Symbol("pino.timeSliceIndex"),_C=Symbol("pino.stream"),RC=Symbol("pino.stringify"),SC=Symbol("pino.stringifiers"),NC=Symbol("pino.end"),OC=Symbol("pino.formatOpts"),CC=Symbol("pino.messageKey"),AC=Symbol("pino.nestedKey"),bC=Symbol("pino.wildcardFirst"),IC=Symbol.for("pino.serializers"),wC=Symbol.for("pino.formatters"),LC=Symbol.for("pino.hooks"),PC=Symbol.for("pino.metadata");Jp.exports={setLevelSym:aC,getLevelSym:uC,levelValSym:cC,useLevelLabelsSym:lC,mixinSym:hC,lsCacheSym:dC,chindingsSym:pC,parsedChindingsSym:EC,asJsonSym:mC,writeSym:gC,serializersSym:IC,redactFmtSym:vC,timeSym:yC,timeSliceIndexSym:TC,streamSym:_C,stringifySym:RC,stringifiersSym:SC,endSym:NC,formatOptsSym:OC,messageKeySym:CC,nestedKeySym:AC,wildcardFirstSym:bC,needsMetadataGsym:PC,useOnlyCustomLevelsSym:fC,formattersSym:wC,hooksSym:LC}});var nE=_((dD,rE)=>{"use strict";var hc=Kp(),{redactFmtSym:DC,wildcardFirstSym:vs}=nn(),{rx:fc,validator:MC}=hc,Zp=MC({ERR_PATHS_MUST_BE_STRINGS:()=>"pino \u2013 redacted paths must be strings",ERR_INVALID_PATH:e=>`pino \u2013 redact paths array contains an invalid path (${e})`}),eE="[Redacted]",tE=!1;function kC(e,t){let{paths:r,censor:n}=xC(e),i=r.reduce((a,u)=>{fc.lastIndex=0;let c=fc.exec(u),d=fc.exec(u),E=c[1]!==void 0?c[1].replace(/^(?:"|'|`)(.*)(?:"|'|`)$/,"$1"):c[0];if(E==="*"&&(E=vs),d===null)return a[E]=null,a;if(a[E]===null)return a;let{index:g}=d,R=`${u.substr(g,u.length-1)}`;return a[E]=a[E]||[],E!==vs&&a[E].length===0&&a[E].push(...a[vs]||[]),E===vs&&Object.keys(a).forEach(function(b){a[b]&&a[b].push(R)}),a[E].push(R),a},{}),s={[DC]:hc({paths:r,censor:n,serialize:t,strict:tE})},o=(...a)=>t(typeof n=="function"?n(...a):n);return[...Object.keys(i),...Object.getOwnPropertySymbols(i)].reduce((a,u)=>(i[u]===null?a[u]=o:a[u]=hc({paths:i[u],censor:n,serialize:t,strict:tE}),a),s)}function xC(e){if(Array.isArray(e))return e={paths:e,censor:eE},Zp(e),e;var{paths:t,censor:r=eE,remove:n}=e;if(Array.isArray(t)===!1)throw Error("pino \u2013 redact must contain an array of strings");return n===!0&&(r=void 0),Zp({paths:t,censor:r}),{paths:t,censor:r}}rE.exports=kC});var sE=_((pD,iE)=>{"use strict";var qC=()=>"",FC=()=>`,"time":${Date.now()}`,UC=()=>`,"time":${Math.round(Date.now()/1e3)}`,BC=()=>`,"time":"${new Date(Date.now()).toISOString()}"`;iE.exports={nullTime:qC,epochTime:FC,unixTime:UC,isoTime:BC}});var ys=_((ED,oE)=>{"use strict";function jC(e){return e|0,e}oE.exports=jC});var aE=_((mD,dc)=>{"use strict";if(typeof SharedArrayBuffer!="undefined"&&typeof Atomics!="undefined"){let t=function(r){if((r>0&&r<1/0)===!1)throw typeof r!="number"&&typeof r!="bigint"?TypeError("sleep: ms must be a number"):RangeError("sleep: ms must be a number that is greater than 0 but less than Infinity");Atomics.wait(e,0,0,Number(r))},e=new Int32Array(new SharedArrayBuffer(4));dc.exports=t}else{let e=function(t){if((t>0&&t<1/0)===!1)throw typeof t!="number"&&typeof t!="bigint"?TypeError("sleep: ms must be a number"):RangeError("sleep: ms must be a number that is greater than 0 but less than Infinity");let n=Date.now()+Number(t);for(;n>Date.now(););};dc.exports=e}});var Ec=_((gD,lE)=>{"use strict";var Mt=require("fs"),WC=require("events"),HC=ys(),GC=require("util").inherits,uE=100,$C=aE(),pc=16*1024*1024;function cE(e,t){t._opening=!0,t._writing=!0,t._asyncDrainScheduled=!1,t.file=e;function r(n,i){if(n){t.emit("error",n);return}if(t.fd=i,t._reopening=!1,t._opening=!1,t._writing=!1,t.emit("ready"),!t._reopening){var s=t._buf.length;s>0&&s>t.minLength&&!t.destroyed&&sn(t)}}if(t.sync){let n=Mt.openSync(e,"a");r(null,n),process.nextTick(()=>t.emit("ready"))}else Mt.open(e,"a",r)}function kt(e){if(!(this instanceof kt))return new kt(e);var{fd:t,dest:r,minLength:n,sync:i}=e||{};if(t=t||r,this._buf="",this.fd=-1,this._writing=!1,this._writingBuf="",this._ending=!1,this._reopening=!1,this._asyncDrainScheduled=!1,this.file=null,this.destroyed=!1,this.sync=i||!1,this.minLength=n||0,typeof t=="number")this.fd=t,process.nextTick(()=>this.emit("ready"));else if(typeof t=="string")cE(t,this);else throw new Error("SonicBoom supports only file descriptors and files");this.release=(s,o)=>{if(s){if(s.code==="EAGAIN")if(this.sync)try{$C(uE),this.release(void 0,0)}catch(u){this.release(u)}else setTimeout(()=>{Mt.write(this.fd,this._writingBuf,"utf8",this.release)},uE);else this.emit("error",s);return}if(this._writingBuf.length!==o)if(this._writingBuf=this._writingBuf.slice(o),this.sync)try{do o=Mt.writeSync(this.fd,this._writingBuf,"utf8"),this._writingBuf=this._writingBuf.slice(o);while(this._writingBuf.length!==0)}catch(u){this.release(u);return}else{Mt.write(this.fd,this._writingBuf,"utf8",this.release);return}if(this._writingBuf="",!this.destroyed){var a=this._buf.length;this._reopening?(this._writing=!1,this._reopening=!1,this.reopen()):a>0&&a>this.minLength?sn(this):this._ending?a>0?sn(this):(this._writing=!1,Ts(this)):(this._writing=!1,this.sync?this._asyncDrainScheduled||(this._asyncDrainScheduled=!0,process.nextTick(VC,this)):this.emit("drain"))}},this.on("newListener",function(s){s==="drain"&&(this._asyncDrainScheduled=!1)})}function VC(e){e.listenerCount("drain")>0&&(e._asyncDrainScheduled=!1,e.emit("drain"))}GC(kt,WC);kt.prototype.write=function(e){if(this.destroyed)throw new Error("SonicBoom destroyed");this._buf+=e;var t=this._buf.length;return!this._writing&&t>this.minLength&&sn(this),t<16384};kt.prototype.flush=function(){if(this.destroyed)throw new Error("SonicBoom destroyed");this._writing||this.minLength<=0||sn(this)};kt.prototype.reopen=function(e){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this._opening){this.once("ready",()=>{this.reopen(e)});return}if(!this._ending){if(!this.file)throw new Error("Unable to reopen a file descriptor, you must pass a file to SonicBoom");this._reopening=!0,!this._writing&&(Mt.close(this.fd,t=>{if(t)return this.emit("error",t)}),cE(e||this.file,this))}};kt.prototype.end=function(){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this._opening){this.once("ready",()=>{this.end()});return}if(!this._ending){if(this._ending=!0,!this._writing&&this._buf.length>0&&this.fd>=0){sn(this);return}this._writing||Ts(this)}};kt.prototype.flushSync=function(){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this.fd<0)throw new Error("sonic boom is not ready yet");this._buf.length>0&&(Mt.writeSync(this.fd,this._buf,"utf8"),this._buf="")};kt.prototype.destroy=function(){this.destroyed||Ts(this)};function sn(e){e._writing=!0;var t=e._buf,r=e.release;if(t.length>pc?(t=t.slice(0,pc),e._buf=e._buf.slice(pc)):e._buf="",HC(t),e._writingBuf=t,e.sync)try{var n=Mt.writeSync(e.fd,t,"utf8");r(null,n)}catch(i){r(i)}else Mt.write(e.fd,t,"utf8",r)}function Ts(e){if(e.fd===-1){e.once("ready",Ts.bind(null,e));return}Mt.close(e.fd,t=>{if(t){e.emit("error",t);return}e._ending&&!e._writing&&e.emit("finish"),e.emit("close")}),e.destroyed=!0,e._buf=""}lE.exports=kt});var hE=_((vD,fE)=>{"use strict";function QC(e){try{return JSON.stringify(e)}catch(t){return'"[Circular]"'}}fE.exports=YC;function YC(e,t,r){var n=r&&r.stringify||QC,i=1;if(typeof e=="object"&&e!==null){var s=t.length+i;if(s===1)return e;var o=new Array(s);o[0]=n(e);for(var a=1;a<s;a++)o[a]=n(t[a]);return o.join(" ")}if(typeof e!="string")return e;var u=t.length;if(u===0)return e;for(var c="",d="",E=1-i,g=-1,R=e&&e.length||0,b=0;b<R;){if(e.charCodeAt(b)===37&&b+1<R){switch(g=g>-1?g:0,e.charCodeAt(b+1)){case 100:if(E>=u||(g<b&&(d+=e.slice(g,b)),t[E]==null))break;d+=Number(t[E]),g=b=b+2;break;case 79:case 111:case 106:if(E>=u||(g<b&&(d+=e.slice(g,b)),t[E]===void 0))break;var x=typeof t[E];if(x==="string"){d+="'"+t[E]+"'",g=b+2,b++;break}if(x==="function"){d+=t[E].name||"<anonymous>",g=b+2,b++;break}d+=n(t[E]),g=b+2,b++;break;case 115:if(E>=u)break;g<b&&(d+=e.slice(g,b)),d+=String(t[E]),g=b+2,b++;break;case 37:g<b&&(d+=e.slice(g,b)),d+="%",g=b+2,b++;break}++E}++b}return g===-1?e:(g<R&&(d+=e.slice(g)),d)}});var vc=_((yD,EE)=>{EE.exports=Zn;Zn.default=Zn;Zn.stable=dE;Zn.stableStringify=dE;var zt=[],hr=[];function Zn(e,t,r){mc(e,"",[],void 0);var n;for(hr.length===0?n=JSON.stringify(e,t,r):n=JSON.stringify(e,pE(t),r);zt.length!==0;){var i=zt.pop();i.length===4?Object.defineProperty(i[0],i[1],i[3]):i[0][i[1]]=i[2]}return n}function mc(e,t,r,n){var i;if(typeof e=="object"&&e!==null){for(i=0;i<r.length;i++)if(r[i]===e){var s=Object.getOwnPropertyDescriptor(n,t);s.get!==void 0?s.configurable?(Object.defineProperty(n,t,{value:"[Circular]"}),zt.push([n,t,e,s])):hr.push([e,t]):(n[t]="[Circular]",zt.push([n,t,e]));return}if(r.push(e),Array.isArray(e))for(i=0;i<e.length;i++)mc(e[i],i,r,e);else{var o=Object.keys(e);for(i=0;i<o.length;i++){var a=o[i];mc(e[a],a,r,e)}}r.pop()}}function zC(e,t){return e<t?-1:e>t?1:0}function dE(e,t,r){var n=gc(e,"",[],void 0)||e,i;for(hr.length===0?i=JSON.stringify(n,t,r):i=JSON.stringify(n,pE(t),r);zt.length!==0;){var s=zt.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}return i}function gc(e,t,r,n){var i;if(typeof e=="object"&&e!==null){for(i=0;i<r.length;i++)if(r[i]===e){var s=Object.getOwnPropertyDescriptor(n,t);s.get!==void 0?s.configurable?(Object.defineProperty(n,t,{value:"[Circular]"}),zt.push([n,t,e,s])):hr.push([e,t]):(n[t]="[Circular]",zt.push([n,t,e]));return}if(typeof e.toJSON=="function")return;if(r.push(e),Array.isArray(e))for(i=0;i<e.length;i++)gc(e[i],i,r,e);else{var o={},a=Object.keys(e).sort(zC);for(i=0;i<a.length;i++){var u=a[i];gc(e[u],u,r,e),o[u]=e[u]}if(n!==void 0)zt.push([n,t,e]),n[t]=o;else return o}r.pop()}}function pE(e){return e=e!==void 0?e:function(t,r){return r},function(t,r){if(hr.length>0)for(var n=0;n<hr.length;n++){var i=hr[n];if(i[1]===t&&i[0]===r){r="[Circular]",hr.splice(n,1);break}}return e.call(this,t,r)}}});var gE=_((TD,mE)=>{"use strict";mE.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var yc=_((_D,yE)=>{var ei=gE(),vE={};for(let e of Object.keys(ei))vE[ei[e]]=e;var K={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};yE.exports=K;for(let e of Object.keys(K)){if(!("channels"in K[e]))throw new Error("missing channels property: "+e);if(!("labels"in K[e]))throw new Error("missing channel labels property: "+e);if(K[e].labels.length!==K[e].channels)throw new Error("channel and label counts mismatch: "+e);let{channels:t,labels:r}=K[e];delete K[e].channels,delete K[e].labels,Object.defineProperty(K[e],"channels",{value:t}),Object.defineProperty(K[e],"labels",{value:r})}K.rgb.hsl=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(t,r,n),s=Math.max(t,r,n),o=s-i,a,u;s===i?a=0:t===s?a=(r-n)/o:r===s?a=2+(n-t)/o:n===s&&(a=4+(t-r)/o),a=Math.min(a*60,360),a<0&&(a+=360);let c=(i+s)/2;return s===i?u=0:c<=.5?u=o/(s+i):u=o/(2-s-i),[a,u*100,c*100]};K.rgb.hsv=function(e){let t,r,n,i,s,o=e[0]/255,a=e[1]/255,u=e[2]/255,c=Math.max(o,a,u),d=c-Math.min(o,a,u),E=function(g){return(c-g)/6/d+1/2};return d===0?(i=0,s=0):(s=d/c,t=E(o),r=E(a),n=E(u),o===c?i=n-r:a===c?i=1/3+t-n:u===c&&(i=2/3+r-t),i<0?i+=1:i>1&&(i-=1)),[i*360,s*100,c*100]};K.rgb.hwb=function(e){let t=e[0],r=e[1],n=e[2],i=K.rgb.hsl(e)[0],s=1/255*Math.min(t,Math.min(r,n));return n=1-1/255*Math.max(t,Math.max(r,n)),[i,s*100,n*100]};K.rgb.cmyk=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(1-t,1-r,1-n),s=(1-t-i)/(1-i)||0,o=(1-r-i)/(1-i)||0,a=(1-n-i)/(1-i)||0;return[s*100,o*100,a*100,i*100]};function XC(e,t){return Fe(e[0]-t[0],2)+Fe(e[1]-t[1],2)+Fe(e[2]-t[2],2)}K.rgb.keyword=function(e){let t=vE[e];if(t)return t;let r=1/0,n;for(let i of Object.keys(ei)){let s=ei[i],o=XC(e,s);o<r&&(r=o,n=i)}return n};K.keyword.rgb=function(e){return ei[e]};K.rgb.xyz=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255;t=t>.04045?Fe((t+.055)/1.055,2.4):t/12.92,r=r>.04045?Fe((r+.055)/1.055,2.4):r/12.92,n=n>.04045?Fe((n+.055)/1.055,2.4):n/12.92;let i=t*.4124+r*.3576+n*.1805,s=t*.2126+r*.7152+n*.0722,o=t*.0193+r*.1192+n*.9505;return[i*100,s*100,o*100]};K.rgb.lab=function(e){let t=K.rgb.xyz(e),r=t[0],n=t[1],i=t[2];r/=95.047,n/=100,i/=108.883,r=r>.008856?Fe(r,1/3):7.787*r+16/116,n=n>.008856?Fe(n,1/3):7.787*n+16/116,i=i>.008856?Fe(i,1/3):7.787*i+16/116;let s=116*n-16,o=500*(r-n),a=200*(n-i);return[s,o,a]};K.hsl.rgb=function(e){let t=e[0]/360,r=e[1]/100,n=e[2]/100,i,s,o;if(r===0)return o=n*255,[o,o,o];n<.5?i=n*(1+r):i=n+r-n*r;let a=2*n-i,u=[0,0,0];for(let c=0;c<3;c++)s=t+1/3*-(c-1),s<0&&s++,s>1&&s--,6*s<1?o=a+(i-a)*6*s:2*s<1?o=i:3*s<2?o=a+(i-a)*(2/3-s)*6:o=a,u[c]=o*255;return u};K.hsl.hsv=function(e){let t=e[0],r=e[1]/100,n=e[2]/100,i=r,s=Math.max(n,.01);n*=2,r*=n<=1?n:2-n,i*=s<=1?s:2-s;let o=(n+r)/2,a=n===0?2*i/(s+i):2*r/(n+r);return[t,a*100,o*100]};K.hsv.rgb=function(e){let t=e[0]/60,r=e[1]/100,n=e[2]/100,i=Math.floor(t)%6,s=t-Math.floor(t),o=255*n*(1-r),a=255*n*(1-r*s),u=255*n*(1-r*(1-s));switch(n*=255,i){case 0:return[n,u,o];case 1:return[a,n,o];case 2:return[o,n,u];case 3:return[o,a,n];case 4:return[u,o,n];case 5:return[n,o,a]}};K.hsv.hsl=function(e){let t=e[0],r=e[1]/100,n=e[2]/100,i=Math.max(n,.01),s,o;o=(2-r)*n;let a=(2-r)*i;return s=r*i,s/=a<=1?a:2-a,s=s||0,o/=2,[t,s*100,o*100]};K.hwb.rgb=function(e){let t=e[0]/360,r=e[1]/100,n=e[2]/100,i=r+n,s;i>1&&(r/=i,n/=i);let o=Math.floor(6*t),a=1-n;s=6*t-o,(o&1)!==0&&(s=1-s);let u=r+s*(a-r),c,d,E;switch(o){default:case 6:case 0:c=a,d=u,E=r;break;case 1:c=u,d=a,E=r;break;case 2:c=r,d=a,E=u;break;case 3:c=r,d=u,E=a;break;case 4:c=u,d=r,E=a;break;case 5:c=a,d=r,E=u;break}return[c*255,d*255,E*255]};K.cmyk.rgb=function(e){let t=e[0]/100,r=e[1]/100,n=e[2]/100,i=e[3]/100,s=1-Math.min(1,t*(1-i)+i),o=1-Math.min(1,r*(1-i)+i),a=1-Math.min(1,n*(1-i)+i);return[s*255,o*255,a*255]};K.xyz.rgb=function(e){let t=e[0]/100,r=e[1]/100,n=e[2]/100,i,s,o;return i=t*3.2406+r*-1.5372+n*-.4986,s=t*-.9689+r*1.8758+n*.0415,o=t*.0557+r*-.204+n*1.057,i=i>.0031308?1.055*Fe(i,1/2.4)-.055:i*12.92,s=s>.0031308?1.055*Fe(s,1/2.4)-.055:s*12.92,o=o>.0031308?1.055*Fe(o,1/2.4)-.055:o*12.92,i=Math.min(Math.max(0,i),1),s=Math.min(Math.max(0,s),1),o=Math.min(Math.max(0,o),1),[i*255,s*255,o*255]};K.xyz.lab=function(e){let t=e[0],r=e[1],n=e[2];t/=95.047,r/=100,n/=108.883,t=t>.008856?Fe(t,1/3):7.787*t+16/116,r=r>.008856?Fe(r,1/3):7.787*r+16/116,n=n>.008856?Fe(n,1/3):7.787*n+16/116;let i=116*r-16,s=500*(t-r),o=200*(r-n);return[i,s,o]};K.lab.xyz=function(e){let t=e[0],r=e[1],n=e[2],i,s,o;s=(t+16)/116,i=r/500+s,o=s-n/200;let a=Fe(s,3),u=Fe(i,3),c=Fe(o,3);return s=a>.008856?a:(s-16/116)/7.787,i=u>.008856?u:(i-16/116)/7.787,o=c>.008856?c:(o-16/116)/7.787,i*=95.047,s*=100,o*=108.883,[i,s,o]};K.lab.lch=function(e){let t=e[0],r=e[1],n=e[2],i;i=Math.atan2(n,r)*360/2/Math.PI,i<0&&(i+=360);let o=Math.sqrt(r*r+n*n);return[t,o,i]};K.lch.lab=function(e){let t=e[0],r=e[1],i=e[2]/360*2*Math.PI,s=r*Math.cos(i),o=r*Math.sin(i);return[t,s,o]};K.rgb.ansi16=function(e,t=null){let[r,n,i]=e,s=t===null?K.rgb.hsv(e)[2]:t;if(s=Math.round(s/50),s===0)return 30;let o=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(r/255));return s===2&&(o+=60),o};K.hsv.ansi16=function(e){return K.rgb.ansi16(K.hsv.rgb(e),e[2])};K.rgb.ansi256=function(e){let t=e[0],r=e[1],n=e[2];return t===r&&r===n?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)};K.ansi16.rgb=function(e){let t=e%10;if(t===0||t===7)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];let r=(~~(e>50)+1)*.5,n=(t&1)*r*255,i=(t>>1&1)*r*255,s=(t>>2&1)*r*255;return[n,i,s]};K.ansi256.rgb=function(e){if(e>=232){let s=(e-232)*10+8;return[s,s,s]}e-=16;let t,r=Math.floor(e/36)/5*255,n=Math.floor((t=e%36)/6)/5*255,i=t%6/5*255;return[r,n,i]};K.rgb.hex=function(e){let r=(((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255)).toString(16).toUpperCase();return"000000".substring(r.length)+r};K.hex.rgb=function(e){let t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let r=t[0];t[0].length===3&&(r=r.split("").map(a=>a+a).join(""));let n=parseInt(r,16),i=n>>16&255,s=n>>8&255,o=n&255;return[i,s,o]};K.rgb.hcg=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.max(Math.max(t,r),n),s=Math.min(Math.min(t,r),n),o=i-s,a,u;return o<1?a=s/(1-o):a=0,o<=0?u=0:i===t?u=(r-n)/o%6:i===r?u=2+(n-t)/o:u=4+(t-r)/o,u/=6,u%=1,[u*360,o*100,a*100]};K.hsl.hcg=function(e){let t=e[1]/100,r=e[2]/100,n=r<.5?2*t*r:2*t*(1-r),i=0;return n<1&&(i=(r-.5*n)/(1-n)),[e[0],n*100,i*100]};K.hsv.hcg=function(e){let t=e[1]/100,r=e[2]/100,n=t*r,i=0;return n<1&&(i=(r-n)/(1-n)),[e[0],n*100,i*100]};K.hcg.rgb=function(e){let t=e[0]/360,r=e[1]/100,n=e[2]/100;if(r===0)return[n*255,n*255,n*255];let i=[0,0,0],s=t%1*6,o=s%1,a=1-o,u=0;switch(Math.floor(s)){case 0:i[0]=1,i[1]=o,i[2]=0;break;case 1:i[0]=a,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=o;break;case 3:i[0]=0,i[1]=a,i[2]=1;break;case 4:i[0]=o,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=a}return u=(1-r)*n,[(r*i[0]+u)*255,(r*i[1]+u)*255,(r*i[2]+u)*255]};K.hcg.hsv=function(e){let t=e[1]/100,r=e[2]/100,n=t+r*(1-t),i=0;return n>0&&(i=t/n),[e[0],i*100,n*100]};K.hcg.hsl=function(e){let t=e[1]/100,n=e[2]/100*(1-t)+.5*t,i=0;return n>0&&n<.5?i=t/(2*n):n>=.5&&n<1&&(i=t/(2*(1-n))),[e[0],i*100,n*100]};K.hcg.hwb=function(e){let t=e[1]/100,r=e[2]/100,n=t+r*(1-t);return[e[0],(n-t)*100,(1-n)*100]};K.hwb.hcg=function(e){let t=e[1]/100,r=e[2]/100,n=1-r,i=n-t,s=0;return i<1&&(s=(n-i)/(1-i)),[e[0],i*100,s*100]};K.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};K.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};K.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};K.gray.hsl=function(e){return[0,0,e[0]]};K.gray.hsv=K.gray.hsl;K.gray.hwb=function(e){return[0,100,e[0]]};K.gray.cmyk=function(e){return[0,0,0,e[0]]};K.gray.lab=function(e){return[e[0],0,0]};K.gray.hex=function(e){let t=Math.round(e[0]/100*255)&255,n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n};K.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}});var _E=_((RD,TE)=>{var _s=yc();function KC(){let e={},t=Object.keys(_s);for(let r=t.length,n=0;n<r;n++)e[t[n]]={distance:-1,parent:null};return e}function JC(e){let t=KC(),r=[e];for(t[e].distance=0;r.length;){let n=r.pop(),i=Object.keys(_s[n]);for(let s=i.length,o=0;o<s;o++){let a=i[o],u=t[a];u.distance===-1&&(u.distance=t[n].distance+1,u.parent=n,r.unshift(a))}}return t}function ZC(e,t){return function(r){return t(e(r))}}function eA(e,t){let r=[t[e].parent,e],n=_s[t[e].parent][e],i=t[e].parent;for(;t[i].parent;)r.unshift(t[i].parent),n=ZC(_s[t[i].parent][i],n),i=t[i].parent;return n.conversion=r,n}TE.exports=function(e){let t=JC(e),r={},n=Object.keys(t);for(let i=n.length,s=0;s<i;s++){let o=n[s];t[o].parent!==null&&(r[o]=eA(o,t))}return r}});var SE=_((SD,RE)=>{var Tc=yc(),tA=_E(),on={},rA=Object.keys(Tc);function nA(e){let t=function(...r){let n=r[0];return n==null?n:(n.length>1&&(r=n),e(r))};return"conversion"in e&&(t.conversion=e.conversion),t}function iA(e){let t=function(...r){let n=r[0];if(n==null)return n;n.length>1&&(r=n);let i=e(r);if(typeof i=="object")for(let s=i.length,o=0;o<s;o++)i[o]=Math.round(i[o]);return i};return"conversion"in e&&(t.conversion=e.conversion),t}rA.forEach(e=>{on[e]={},Object.defineProperty(on[e],"channels",{value:Tc[e].channels}),Object.defineProperty(on[e],"labels",{value:Tc[e].labels});let t=tA(e);Object.keys(t).forEach(n=>{let i=t[n];on[e][n]=iA(i),on[e][n].raw=nA(i)})});RE.exports=on});var IE=_((ND,bE)=>{"use strict";var NE=(e,t)=>(...r)=>`\x1B[${e(...r)+t}m`,OE=(e,t)=>(...r)=>{let n=e(...r);return`\x1B[${38+t};5;${n}m`},CE=(e,t)=>(...r)=>{let n=e(...r);return`\x1B[${38+t};2;${n[0]};${n[1]};${n[2]}m`},Rs=e=>e,AE=(e,t,r)=>[e,t,r],an=(e,t,r)=>{Object.defineProperty(e,t,{get:()=>{let n=r();return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0}),n},enumerable:!0,configurable:!0})},_c,un=(e,t,r,n)=>{_c===void 0&&(_c=SE());let i=n?10:0,s={};for(let[o,a]of Object.entries(_c)){let u=o==="ansi16"?"ansi":o;o===t?s[u]=e(r,i):typeof a=="object"&&(s[u]=e(a[t],i))}return s};function sA(){let e=new Map,t={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};t.color.gray=t.color.blackBright,t.bgColor.bgGray=t.bgColor.bgBlackBright,t.color.grey=t.color.blackBright,t.bgColor.bgGrey=t.bgColor.bgBlackBright;for(let[r,n]of Object.entries(t)){for(let[i,s]of Object.entries(n))t[i]={open:`\x1B[${s[0]}m`,close:`\x1B[${s[1]}m`},n[i]=t[i],e.set(s[0],s[1]);Object.defineProperty(t,r,{value:n,enumerable:!1})}return Object.defineProperty(t,"codes",{value:e,enumerable:!1}),t.color.close="\x1B[39m",t.bgColor.close="\x1B[49m",an(t.color,"ansi",()=>un(NE,"ansi16",Rs,!1)),an(t.color,"ansi256",()=>un(OE,"ansi256",Rs,!1)),an(t.color,"ansi16m",()=>un(CE,"rgb",AE,!1)),an(t.bgColor,"ansi",()=>un(NE,"ansi16",Rs,!0)),an(t.bgColor,"ansi256",()=>un(OE,"ansi256",Rs,!0)),an(t.bgColor,"ansi16m",()=>un(CE,"rgb",AE,!0)),t}Object.defineProperty(bE,"exports",{enumerable:!0,get:sA})});var LE=_((OD,wE)=>{"use strict";wE.exports=(e,t=process.argv)=>{let r=e.startsWith("-")?"":e.length===1?"-":"--",n=t.indexOf(r+e),i=t.indexOf("--");return n!==-1&&(i===-1||n<i)}});var ME=_((CD,DE)=>{"use strict";var oA=require("os"),PE=require("tty"),vt=LE(),{env:Ue}=process,dr;vt("no-color")||vt("no-colors")||vt("color=false")||vt("color=never")?dr=0:(vt("color")||vt("colors")||vt("color=true")||vt("color=always"))&&(dr=1);"FORCE_COLOR"in Ue&&(Ue.FORCE_COLOR==="true"?dr=1:Ue.FORCE_COLOR==="false"?dr=0:dr=Ue.FORCE_COLOR.length===0?1:Math.min(parseInt(Ue.FORCE_COLOR,10),3));function Rc(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function Sc(e,t){if(dr===0)return 0;if(vt("color=16m")||vt("color=full")||vt("color=truecolor"))return 3;if(vt("color=256"))return 2;if(e&&!t&&dr===void 0)return 0;let r=dr||0;if(Ue.TERM==="dumb")return r;if(process.platform==="win32"){let n=oA.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in Ue)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(n=>n in Ue)||Ue.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in Ue)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Ue.TEAMCITY_VERSION)?1:0;if("GITHUB_ACTIONS"in Ue)return 1;if(Ue.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Ue){let n=parseInt((Ue.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Ue.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Ue.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Ue.TERM)||"COLORTERM"in Ue?1:r}function aA(e){let t=Sc(e,e&&e.isTTY);return Rc(t)}DE.exports={supportsColor:aA,stdout:Rc(Sc(!0,PE.isatty(1))),stderr:Rc(Sc(!0,PE.isatty(2)))}});var xE=_((AD,kE)=>{"use strict";var uA=(e,t,r)=>{let n=e.indexOf(t);if(n===-1)return e;let i=t.length,s=0,o="";do o+=e.substr(s,n-s)+t+r,s=n+i,n=e.indexOf(t,s);while(n!==-1);return o+=e.substr(s),o},cA=(e,t,r,n)=>{let i=0,s="";do{let o=e[n-1]==="\r";s+=e.substr(i,(o?n-1:n)-i)+t+(o?`\r
`:`
`)+r,i=n+1,n=e.indexOf(`
`,i)}while(n!==-1);return s+=e.substr(i),s};kE.exports={stringReplaceAll:uA,stringEncaseCRLFWithFirstIndex:cA}});var jE=_((bD,BE)=>{"use strict";var lA=/(?:\\(u(?:[a-f\d]{4}|\{[a-f\d]{1,6}\})|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,qE=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,fA=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,hA=/\\(u(?:[a-f\d]{4}|{[a-f\d]{1,6}})|x[a-f\d]{2}|.)|([^\\])/gi,dA=new Map([["n",`
`],["r","\r"],["t","	"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e","\x1B"],["a","\x07"]]);function UE(e){let t=e[0]==="u",r=e[1]==="{";return t&&!r&&e.length===5||e[0]==="x"&&e.length===3?String.fromCharCode(parseInt(e.slice(1),16)):t&&r?String.fromCodePoint(parseInt(e.slice(2,-1),16)):dA.get(e)||e}function pA(e,t){let r=[],n=t.trim().split(/\s*,\s*/g),i;for(let s of n){let o=Number(s);if(!Number.isNaN(o))r.push(o);else if(i=s.match(fA))r.push(i[2].replace(hA,(a,u,c)=>u?UE(u):c));else throw new Error(`Invalid Chalk template style argument: ${s} (in style '${e}')`)}return r}function EA(e){qE.lastIndex=0;let t=[],r;for(;(r=qE.exec(e))!==null;){let n=r[1];if(r[2]){let i=pA(n,r[2]);t.push([n].concat(i))}else t.push([n])}return t}function FE(e,t){let r={};for(let i of t)for(let s of i.styles)r[s[0]]=i.inverse?null:s.slice(1);let n=e;for(let[i,s]of Object.entries(r))if(!!Array.isArray(s)){if(!(i in n))throw new Error(`Unknown Chalk style: ${i}`);n=s.length>0?n[i](...s):n[i]}return n}BE.exports=(e,t)=>{let r=[],n=[],i=[];if(t.replace(lA,(s,o,a,u,c,d)=>{if(o)i.push(UE(o));else if(u){let E=i.join("");i=[],n.push(r.length===0?E:FE(e,r)(E)),r.push({inverse:a,styles:EA(u)})}else if(c){if(r.length===0)throw new Error("Found extraneous } in Chalk template literal");n.push(FE(e,r)(i.join(""))),i=[],r.pop()}else i.push(d)}),n.push(i.join("")),r.length>0){let s=`Chalk template literal is missing ${r.length} closing bracket${r.length===1?"":"s"} (\`}\`)`;throw new Error(s)}return n.join("")}});var Ic=_((ID,QE)=>{"use strict";var ti=IE(),{stdout:Oc,stderr:Cc}=ME(),{stringReplaceAll:mA,stringEncaseCRLFWithFirstIndex:gA}=xE(),{isArray:Ss}=Array,HE=["ansi","ansi","ansi256","ansi16m"],cn=Object.create(null),vA=(e,t={})=>{if(t.level&&!(Number.isInteger(t.level)&&t.level>=0&&t.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");let r=Oc?Oc.level:0;e.level=t.level===void 0?r:t.level},Ac=class{constructor(t){return GE(t)}},GE=e=>{let t={};return vA(t,e),t.template=(...r)=>VE(t.template,...r),Object.setPrototypeOf(t,Ns.prototype),Object.setPrototypeOf(t.template,t),t.template.constructor=()=>{throw new Error("`chalk.constructor()` is deprecated. Use `new chalk.Instance()` instead.")},t.template.Instance=Ac,t.template};function Ns(e){return GE(e)}for(let[e,t]of Object.entries(ti))cn[e]={get(){let r=Os(this,bc(t.open,t.close,this._styler),this._isEmpty);return Object.defineProperty(this,e,{value:r}),r}};cn.visible={get(){let e=Os(this,this._styler,!0);return Object.defineProperty(this,"visible",{value:e}),e}};var $E=["rgb","hex","keyword","hsl","hsv","hwb","ansi","ansi256"];for(let e of $E)cn[e]={get(){let{level:t}=this;return function(...r){let n=bc(ti.color[HE[t]][e](...r),ti.color.close,this._styler);return Os(this,n,this._isEmpty)}}};for(let e of $E){let t="bg"+e[0].toUpperCase()+e.slice(1);cn[t]={get(){let{level:r}=this;return function(...n){let i=bc(ti.bgColor[HE[r]][e](...n),ti.bgColor.close,this._styler);return Os(this,i,this._isEmpty)}}}}var yA=Object.defineProperties(()=>{},mn(ot({},cn),{level:{enumerable:!0,get(){return this._generator.level},set(e){this._generator.level=e}}})),bc=(e,t,r)=>{let n,i;return r===void 0?(n=e,i=t):(n=r.openAll+e,i=t+r.closeAll),{open:e,close:t,openAll:n,closeAll:i,parent:r}},Os=(e,t,r)=>{let n=(...i)=>Ss(i[0])&&Ss(i[0].raw)?WE(n,VE(n,...i)):WE(n,i.length===1?""+i[0]:i.join(" "));return Object.setPrototypeOf(n,yA),n._generator=e,n._styler=t,n._isEmpty=r,n},WE=(e,t)=>{if(e.level<=0||!t)return e._isEmpty?"":t;let r=e._styler;if(r===void 0)return t;let{openAll:n,closeAll:i}=r;if(t.indexOf("\x1B")!==-1)for(;r!==void 0;)t=mA(t,r.close,r.open),r=r.parent;let s=t.indexOf(`
`);return s!==-1&&(t=gA(t,i,n,s)),n+t+i},Nc,VE=(e,...t)=>{let[r]=t;if(!Ss(r)||!Ss(r.raw))return t.join(" ");let n=t.slice(1),i=[r.raw[0]];for(let s=1;s<r.length;s++)i.push(String(n[s-1]).replace(/[{}\\]/g,"\\$&"),String(r.raw[s]));return Nc===void 0&&(Nc=jE()),Nc(e,i.join(""))};Object.defineProperties(Ns.prototype,cn);var Cs=Ns();Cs.supportsColor=Oc;Cs.stderr=Ns({level:Cc?Cc.level:0});Cs.stderr.supportsColor=Cc;QE.exports=Cs});var YE=_(As=>{(function(e){"use strict";function t(l){return l!==null?Object.prototype.toString.call(l)==="[object Array]":!1}function r(l){return l!==null?Object.prototype.toString.call(l)==="[object Object]":!1}function n(l,m){if(l===m)return!0;var v=Object.prototype.toString.call(l);if(v!==Object.prototype.toString.call(m))return!1;if(t(l)===!0){if(l.length!==m.length)return!1;for(var T=0;T<l.length;T++)if(n(l[T],m[T])===!1)return!1;return!0}if(r(l)===!0){var O={};for(var H in l)if(hasOwnProperty.call(l,H)){if(n(l[H],m[H])===!1)return!1;O[H]=!0}for(var Y in m)if(hasOwnProperty.call(m,Y)&&O[Y]!==!0)return!1;return!0}return!1}function i(l){if(l===""||l===!1||l===null)return!0;if(t(l)&&l.length===0)return!0;if(r(l)){for(var m in l)if(l.hasOwnProperty(m))return!1;return!0}else return!1}function s(l){for(var m=Object.keys(l),v=[],T=0;T<m.length;T++)v.push(l[m[T]]);return v}function o(l,m){var v={};for(var T in l)v[T]=l[T];for(var O in m)v[O]=m[O];return v}var a;typeof String.prototype.trimLeft=="function"?a=function(l){return l.trimLeft()}:a=function(l){return l.match(/^\s*(.*)/)[1]};var u=0,c=1,d=2,E=3,g=4,R=5,b=6,x=7,G=8,B=9,ee="EOF",V="UnquotedIdentifier",N="QuotedIdentifier",y="Rbracket",I="Rparen",z="Comma",U="Colon",Q="Rbrace",ie="Number",C="Current",w="Expref",F="Pipe",W="Or",Z="And",J="EQ",re="GT",Se="LT",me="GTE",de="LTE",xe="NE",_e="Flatten",Be="Star",qe="Filter",Je="Dot",lt="Not",Ye="Lbrace",Ze="Lbracket",Ft="Lparen",bt="Literal",Lr={".":Je,"*":Be,",":z,":":U,"{":Ye,"}":Q,"]":y,"(":Ft,")":I,"@":C},hn={"<":!0,">":!0,"=":!0,"!":!0},dn={" ":!0,"	":!0,"\n":!0};function It(l){return l>="a"&&l<="z"||l>="A"&&l<="Z"||l==="_"}function wt(l){return l>="0"&&l<="9"||l==="-"}function pn(l){return l>="a"&&l<="z"||l>="A"&&l<="Z"||l>="0"&&l<="9"||l==="_"}function M(){}M.prototype={tokenize:function(l){var m=[];this._current=0;for(var v,T,O;this._current<l.length;)if(It(l[this._current]))v=this._current,T=this._consumeUnquotedIdentifier(l),m.push({type:V,value:T,start:v});else if(Lr[l[this._current]]!==void 0)m.push({type:Lr[l[this._current]],value:l[this._current],start:this._current}),this._current++;else if(wt(l[this._current]))O=this._consumeNumber(l),m.push(O);else if(l[this._current]==="[")O=this._consumeLBracket(l),m.push(O);else if(l[this._current]==='"')v=this._current,T=this._consumeQuotedIdentifier(l),m.push({type:N,value:T,start:v});else if(l[this._current]==="'")v=this._current,T=this._consumeRawStringLiteral(l),m.push({type:bt,value:T,start:v});else if(l[this._current]==="`"){v=this._current;var H=this._consumeLiteral(l);m.push({type:bt,value:H,start:v})}else if(hn[l[this._current]]!==void 0)m.push(this._consumeOperator(l));else if(dn[l[this._current]]!==void 0)this._current++;else if(l[this._current]==="&")v=this._current,this._current++,l[this._current]==="&"?(this._current++,m.push({type:Z,value:"&&",start:v})):m.push({type:w,value:"&",start:v});else if(l[this._current]==="|")v=this._current,this._current++,l[this._current]==="|"?(this._current++,m.push({type:W,value:"||",start:v})):m.push({type:F,value:"|",start:v});else{var Y=new Error("Unknown character:"+l[this._current]);throw Y.name="LexerError",Y}return m},_consumeUnquotedIdentifier:function(l){var m=this._current;for(this._current++;this._current<l.length&&pn(l[this._current]);)this._current++;return l.slice(m,this._current)},_consumeQuotedIdentifier:function(l){var m=this._current;this._current++;for(var v=l.length;l[this._current]!=='"'&&this._current<v;){var T=this._current;l[T]==="\\"&&(l[T+1]==="\\"||l[T+1]==='"')?T+=2:T++,this._current=T}return this._current++,JSON.parse(l.slice(m,this._current))},_consumeRawStringLiteral:function(l){var m=this._current;this._current++;for(var v=l.length;l[this._current]!=="'"&&this._current<v;){var T=this._current;l[T]==="\\"&&(l[T+1]==="\\"||l[T+1]==="'")?T+=2:T++,this._current=T}this._current++;var O=l.slice(m+1,this._current-1);return O.replace("\\'","'")},_consumeNumber:function(l){var m=this._current;this._current++;for(var v=l.length;wt(l[this._current])&&this._current<v;)this._current++;var T=parseInt(l.slice(m,this._current));return{type:ie,value:T,start:m}},_consumeLBracket:function(l){var m=this._current;return this._current++,l[this._current]==="?"?(this._current++,{type:qe,value:"[?",start:m}):l[this._current]==="]"?(this._current++,{type:_e,value:"[]",start:m}):{type:Ze,value:"[",start:m}},_consumeOperator:function(l){var m=this._current,v=l[m];if(this._current++,v==="!")return l[this._current]==="="?(this._current++,{type:xe,value:"!=",start:m}):{type:lt,value:"!",start:m};if(v==="<")return l[this._current]==="="?(this._current++,{type:de,value:"<=",start:m}):{type:Se,value:"<",start:m};if(v===">")return l[this._current]==="="?(this._current++,{type:me,value:">=",start:m}):{type:re,value:">",start:m};if(v==="="&&l[this._current]==="=")return this._current++,{type:J,value:"==",start:m}},_consumeLiteral:function(l){this._current++;for(var m=this._current,v=l.length,T;l[this._current]!=="`"&&this._current<v;){var O=this._current;l[O]==="\\"&&(l[O+1]==="\\"||l[O+1]==="`")?O+=2:O++,this._current=O}var H=a(l.slice(m,this._current));return H=H.replace("\\`","`"),this._looksLikeJSON(H)?T=JSON.parse(H):T=JSON.parse('"'+H+'"'),this._current++,T},_looksLikeJSON:function(l){var m='[{"',v=["true","false","null"],T="-0123456789";if(l==="")return!1;if(m.indexOf(l[0])>=0)return!0;if(v.indexOf(l)>=0)return!0;if(T.indexOf(l[0])>=0)try{return JSON.parse(l),!0}catch(O){return!1}else return!1}};var p={};p[ee]=0,p[V]=0,p[N]=0,p[y]=0,p[I]=0,p[z]=0,p[Q]=0,p[ie]=0,p[C]=0,p[w]=0,p[F]=1,p[W]=2,p[Z]=3,p[J]=5,p[re]=5,p[Se]=5,p[me]=5,p[de]=5,p[xe]=5,p[_e]=9,p[Be]=20,p[qe]=21,p[Je]=40,p[lt]=45,p[Ye]=50,p[Ze]=55,p[Ft]=60;function A(){}A.prototype={parse:function(l){this._loadTokens(l),this.index=0;var m=this.expression(0);if(this._lookahead(0)!==ee){var v=this._lookaheadToken(0),T=new Error("Unexpected token type: "+v.type+", value: "+v.value);throw T.name="ParserError",T}return m},_loadTokens:function(l){var m=new M,v=m.tokenize(l);v.push({type:ee,value:"",start:l.length}),this.tokens=v},expression:function(l){var m=this._lookaheadToken(0);this._advance();for(var v=this.nud(m),T=this._lookahead(0);l<p[T];)this._advance(),v=this.led(T,v),T=this._lookahead(0);return v},_lookahead:function(l){return this.tokens[this.index+l].type},_lookaheadToken:function(l){return this.tokens[this.index+l]},_advance:function(){this.index++},nud:function(l){var m,v,T;switch(l.type){case bt:return{type:"Literal",value:l.value};case V:return{type:"Field",name:l.value};case N:var O={type:"Field",name:l.value};if(this._lookahead(0)===Ft)throw new Error("Quoted identifier not allowed for function names.");return O;case lt:return v=this.expression(p.Not),{type:"NotExpression",children:[v]};case Be:return m={type:"Identity"},v=null,this._lookahead(0)===y?v={type:"Identity"}:v=this._parseProjectionRHS(p.Star),{type:"ValueProjection",children:[m,v]};case qe:return this.led(l.type,{type:"Identity"});case Ye:return this._parseMultiselectHash();case _e:return m={type:_e,children:[{type:"Identity"}]},v=this._parseProjectionRHS(p.Flatten),{type:"Projection",children:[m,v]};case Ze:return this._lookahead(0)===ie||this._lookahead(0)===U?(v=this._parseIndexExpression(),this._projectIfSlice({type:"Identity"},v)):this._lookahead(0)===Be&&this._lookahead(1)===y?(this._advance(),this._advance(),v=this._parseProjectionRHS(p.Star),{type:"Projection",children:[{type:"Identity"},v]}):this._parseMultiselectList();case C:return{type:C};case w:return T=this.expression(p.Expref),{type:"ExpressionReference",children:[T]};case Ft:for(var H=[];this._lookahead(0)!==I;)this._lookahead(0)===C?(T={type:C},this._advance()):T=this.expression(0),H.push(T);return this._match(I),H[0];default:this._errorToken(l)}},led:function(l,m){var v;switch(l){case Je:var T=p.Dot;return this._lookahead(0)!==Be?(v=this._parseDotRHS(T),{type:"Subexpression",children:[m,v]}):(this._advance(),v=this._parseProjectionRHS(T),{type:"ValueProjection",children:[m,v]});case F:return v=this.expression(p.Pipe),{type:F,children:[m,v]};case W:return v=this.expression(p.Or),{type:"OrExpression",children:[m,v]};case Z:return v=this.expression(p.And),{type:"AndExpression",children:[m,v]};case Ft:for(var O=m.name,H=[],Y,te;this._lookahead(0)!==I;)this._lookahead(0)===C?(Y={type:C},this._advance()):Y=this.expression(0),this._lookahead(0)===z&&this._match(z),H.push(Y);return this._match(I),te={type:"Function",name:O,children:H},te;case qe:var Ce=this.expression(0);return this._match(y),this._lookahead(0)===_e?v={type:"Identity"}:v=this._parseProjectionRHS(p.Filter),{type:"FilterProjection",children:[m,v,Ce]};case _e:var Lt={type:_e,children:[m]},He=this._parseProjectionRHS(p.Flatten);return{type:"Projection",children:[Lt,He]};case J:case xe:case re:case me:case Se:case de:return this._parseComparator(m,l);case Ze:var se=this._lookaheadToken(0);return se.type===ie||se.type===U?(v=this._parseIndexExpression(),this._projectIfSlice(m,v)):(this._match(Be),this._match(y),v=this._parseProjectionRHS(p.Star),{type:"Projection",children:[m,v]});default:this._errorToken(this._lookaheadToken(0))}},_match:function(l){if(this._lookahead(0)===l)this._advance();else{var m=this._lookaheadToken(0),v=new Error("Expected "+l+", got: "+m.type);throw v.name="ParserError",v}},_errorToken:function(l){var m=new Error("Invalid token ("+l.type+'): "'+l.value+'"');throw m.name="ParserError",m},_parseIndexExpression:function(){if(this._lookahead(0)===U||this._lookahead(1)===U)return this._parseSliceExpression();var l={type:"Index",value:this._lookaheadToken(0).value};return this._advance(),this._match(y),l},_projectIfSlice:function(l,m){var v={type:"IndexExpression",children:[l,m]};return m.type==="Slice"?{type:"Projection",children:[v,this._parseProjectionRHS(p.Star)]}:v},_parseSliceExpression:function(){for(var l=[null,null,null],m=0,v=this._lookahead(0);v!==y&&m<3;){if(v===U)m++,this._advance();else if(v===ie)l[m]=this._lookaheadToken(0).value,this._advance();else{var T=this._lookahead(0),O=new Error("Syntax error, unexpected token: "+T.value+"("+T.type+")");throw O.name="Parsererror",O}v=this._lookahead(0)}return this._match(y),{type:"Slice",children:l}},_parseComparator:function(l,m){var v=this.expression(p[m]);return{type:"Comparator",name:m,children:[l,v]}},_parseDotRHS:function(l){var m=this._lookahead(0),v=[V,N,Be];if(v.indexOf(m)>=0)return this.expression(l);if(m===Ze)return this._match(Ze),this._parseMultiselectList();if(m===Ye)return this._match(Ye),this._parseMultiselectHash()},_parseProjectionRHS:function(l){var m;if(p[this._lookahead(0)]<10)m={type:"Identity"};else if(this._lookahead(0)===Ze)m=this.expression(l);else if(this._lookahead(0)===qe)m=this.expression(l);else if(this._lookahead(0)===Je)this._match(Je),m=this._parseDotRHS(l);else{var v=this._lookaheadToken(0),T=new Error("Sytanx error, unexpected token: "+v.value+"("+v.type+")");throw T.name="ParserError",T}return m},_parseMultiselectList:function(){for(var l=[];this._lookahead(0)!==y;){var m=this.expression(0);if(l.push(m),this._lookahead(0)===z&&(this._match(z),this._lookahead(0)===y))throw new Error("Unexpected token Rbracket")}return this._match(y),{type:"MultiSelectList",children:l}},_parseMultiselectHash:function(){for(var l=[],m=[V,N],v,T,O,H;;){if(v=this._lookaheadToken(0),m.indexOf(v.type)<0)throw new Error("Expecting an identifier token, got: "+v.type);if(T=v.value,this._advance(),this._match(U),O=this.expression(0),H={type:"KeyValuePair",name:T,value:O},l.push(H),this._lookahead(0)===z)this._match(z);else if(this._lookahead(0)===Q){this._match(Q);break}}return{type:"MultiSelectHash",children:l}}};function P(l){this.runtime=l}P.prototype={search:function(l,m){return this.visit(l,m)},visit:function(l,m){var v,T,O,H,Y,te,Ce,Lt,He,se;switch(l.type){case"Field":return m===null?null:r(m)?(te=m[l.name],te===void 0?null:te):null;case"Subexpression":for(O=this.visit(l.children[0],m),se=1;se<l.children.length;se++)if(O=this.visit(l.children[1],O),O===null)return null;return O;case"IndexExpression":return Ce=this.visit(l.children[0],m),Lt=this.visit(l.children[1],Ce),Lt;case"Index":if(!t(m))return null;var Ut=l.value;return Ut<0&&(Ut=m.length+Ut),O=m[Ut],O===void 0&&(O=null),O;case"Slice":if(!t(m))return null;var _v=l.children.slice(0),Ys=this.computeSliceParams(m.length,_v),hl=Ys[0],dl=Ys[1],zs=Ys[2];if(O=[],zs>0)for(se=hl;se<dl;se+=zs)O.push(m[se]);else for(se=hl;se>dl;se+=zs)O.push(m[se]);return O;case"Projection":var Tt=this.visit(l.children[0],m);if(!t(Tt))return null;for(He=[],se=0;se<Tt.length;se++)T=this.visit(l.children[1],Tt[se]),T!==null&&He.push(T);return He;case"ValueProjection":if(Tt=this.visit(l.children[0],m),!r(Tt))return null;He=[];var pl=s(Tt);for(se=0;se<pl.length;se++)T=this.visit(l.children[1],pl[se]),T!==null&&He.push(T);return He;case"FilterProjection":if(Tt=this.visit(l.children[0],m),!t(Tt))return null;var Xs=[],El=[];for(se=0;se<Tt.length;se++)v=this.visit(l.children[2],Tt[se]),i(v)||Xs.push(Tt[se]);for(var Ks=0;Ks<Xs.length;Ks++)T=this.visit(l.children[1],Xs[Ks]),T!==null&&El.push(T);return El;case"Comparator":switch(H=this.visit(l.children[0],m),Y=this.visit(l.children[1],m),l.name){case J:O=n(H,Y);break;case xe:O=!n(H,Y);break;case re:O=H>Y;break;case me:O=H>=Y;break;case Se:O=H<Y;break;case de:O=H<=Y;break;default:throw new Error("Unknown comparator: "+l.name)}return O;case _e:var Js=this.visit(l.children[0],m);if(!t(Js))return null;var fi=[];for(se=0;se<Js.length;se++)T=Js[se],t(T)?fi.push.apply(fi,T):fi.push(T);return fi;case"Identity":return m;case"MultiSelectList":if(m===null)return null;for(He=[],se=0;se<l.children.length;se++)He.push(this.visit(l.children[se],m));return He;case"MultiSelectHash":if(m===null)return null;He={};var Zs;for(se=0;se<l.children.length;se++)Zs=l.children[se],He[Zs.name]=this.visit(Zs.value,m);return He;case"OrExpression":return v=this.visit(l.children[0],m),i(v)&&(v=this.visit(l.children[1],m)),v;case"AndExpression":return H=this.visit(l.children[0],m),i(H)===!0?H:this.visit(l.children[1],m);case"NotExpression":return H=this.visit(l.children[0],m),i(H);case"Literal":return l.value;case F:return Ce=this.visit(l.children[0],m),this.visit(l.children[1],Ce);case C:return m;case"Function":var ml=[];for(se=0;se<l.children.length;se++)ml.push(this.visit(l.children[se],m));return this.runtime.callFunction(l.name,ml);case"ExpressionReference":var gl=l.children[0];return gl.jmespathType=w,gl;default:throw new Error("Unknown node type: "+l.type)}},computeSliceParams:function(l,m){var v=m[0],T=m[1],O=m[2],H=[null,null,null];if(O===null)O=1;else if(O===0){var Y=new Error("Invalid slice, step cannot be 0");throw Y.name="RuntimeError",Y}var te=O<0;return v===null?v=te?l-1:0:v=this.capSliceRange(l,v,O),T===null?T=te?-1:l:T=this.capSliceRange(l,T,O),H[0]=v,H[1]=T,H[2]=O,H},capSliceRange:function(l,m,v){return m<0?(m+=l,m<0&&(m=v<0?-1:0)):m>=l&&(m=v<0?l-1:l),m}};function h(l){this._interpreter=l,this.functionTable={abs:{_func:this._functionAbs,_signature:[{types:[u]}]},avg:{_func:this._functionAvg,_signature:[{types:[G]}]},ceil:{_func:this._functionCeil,_signature:[{types:[u]}]},contains:{_func:this._functionContains,_signature:[{types:[d,E]},{types:[c]}]},ends_with:{_func:this._functionEndsWith,_signature:[{types:[d]},{types:[d]}]},floor:{_func:this._functionFloor,_signature:[{types:[u]}]},length:{_func:this._functionLength,_signature:[{types:[d,E,g]}]},map:{_func:this._functionMap,_signature:[{types:[b]},{types:[E]}]},max:{_func:this._functionMax,_signature:[{types:[G,B]}]},merge:{_func:this._functionMerge,_signature:[{types:[g],variadic:!0}]},max_by:{_func:this._functionMaxBy,_signature:[{types:[E]},{types:[b]}]},sum:{_func:this._functionSum,_signature:[{types:[G]}]},starts_with:{_func:this._functionStartsWith,_signature:[{types:[d]},{types:[d]}]},min:{_func:this._functionMin,_signature:[{types:[G,B]}]},min_by:{_func:this._functionMinBy,_signature:[{types:[E]},{types:[b]}]},type:{_func:this._functionType,_signature:[{types:[c]}]},keys:{_func:this._functionKeys,_signature:[{types:[g]}]},values:{_func:this._functionValues,_signature:[{types:[g]}]},sort:{_func:this._functionSort,_signature:[{types:[B,G]}]},sort_by:{_func:this._functionSortBy,_signature:[{types:[E]},{types:[b]}]},join:{_func:this._functionJoin,_signature:[{types:[d]},{types:[B]}]},reverse:{_func:this._functionReverse,_signature:[{types:[d,E]}]},to_array:{_func:this._functionToArray,_signature:[{types:[c]}]},to_string:{_func:this._functionToString,_signature:[{types:[c]}]},to_number:{_func:this._functionToNumber,_signature:[{types:[c]}]},not_null:{_func:this._functionNotNull,_signature:[{types:[c],variadic:!0}]}}}h.prototype={callFunction:function(l,m){var v=this.functionTable[l];if(v===void 0)throw new Error("Unknown function: "+l+"()");return this._validateArgs(l,m,v._signature),v._func.call(this,m)},_validateArgs:function(l,m,v){var T;if(v[v.length-1].variadic){if(m.length<v.length)throw T=v.length===1?" argument":" arguments",new Error("ArgumentError: "+l+"() takes at least"+v.length+T+" but received "+m.length)}else if(m.length!==v.length)throw T=v.length===1?" argument":" arguments",new Error("ArgumentError: "+l+"() takes "+v.length+T+" but received "+m.length);for(var O,H,Y,te=0;te<v.length;te++){Y=!1,O=v[te].types,H=this._getTypeName(m[te]);for(var Ce=0;Ce<O.length;Ce++)if(this._typeMatches(H,O[Ce],m[te])){Y=!0;break}if(!Y)throw new Error("TypeError: "+l+"() expected argument "+(te+1)+" to be type "+O+" but received type "+H+" instead.")}},_typeMatches:function(l,m,v){if(m===c)return!0;if(m===B||m===G||m===E){if(m===E)return l===E;if(l===E){var T;m===G?T=u:m===B&&(T=d);for(var O=0;O<v.length;O++)if(!this._typeMatches(this._getTypeName(v[O]),T,v[O]))return!1;return!0}}else return l===m},_getTypeName:function(l){switch(Object.prototype.toString.call(l)){case"[object String]":return d;case"[object Number]":return u;case"[object Array]":return E;case"[object Boolean]":return R;case"[object Null]":return x;case"[object Object]":return l.jmespathType===w?b:g}},_functionStartsWith:function(l){return l[0].lastIndexOf(l[1])===0},_functionEndsWith:function(l){var m=l[0],v=l[1];return m.indexOf(v,m.length-v.length)!==-1},_functionReverse:function(l){var m=this._getTypeName(l[0]);if(m===d){for(var v=l[0],T="",O=v.length-1;O>=0;O--)T+=v[O];return T}else{var H=l[0].slice(0);return H.reverse(),H}},_functionAbs:function(l){return Math.abs(l[0])},_functionCeil:function(l){return Math.ceil(l[0])},_functionAvg:function(l){for(var m=0,v=l[0],T=0;T<v.length;T++)m+=v[T];return m/v.length},_functionContains:function(l){return l[0].indexOf(l[1])>=0},_functionFloor:function(l){return Math.floor(l[0])},_functionLength:function(l){return r(l[0])?Object.keys(l[0]).length:l[0].length},_functionMap:function(l){for(var m=[],v=this._interpreter,T=l[0],O=l[1],H=0;H<O.length;H++)m.push(v.visit(T,O[H]));return m},_functionMerge:function(l){for(var m={},v=0;v<l.length;v++){var T=l[v];for(var O in T)m[O]=T[O]}return m},_functionMax:function(l){if(l[0].length>0){var m=this._getTypeName(l[0][0]);if(m===u)return Math.max.apply(Math,l[0]);for(var v=l[0],T=v[0],O=1;O<v.length;O++)T.localeCompare(v[O])<0&&(T=v[O]);return T}else return null},_functionMin:function(l){if(l[0].length>0){var m=this._getTypeName(l[0][0]);if(m===u)return Math.min.apply(Math,l[0]);for(var v=l[0],T=v[0],O=1;O<v.length;O++)v[O].localeCompare(T)<0&&(T=v[O]);return T}else return null},_functionSum:function(l){for(var m=0,v=l[0],T=0;T<v.length;T++)m+=v[T];return m},_functionType:function(l){switch(this._getTypeName(l[0])){case u:return"number";case d:return"string";case E:return"array";case g:return"object";case R:return"boolean";case b:return"expref";case x:return"null"}},_functionKeys:function(l){return Object.keys(l[0])},_functionValues:function(l){for(var m=l[0],v=Object.keys(m),T=[],O=0;O<v.length;O++)T.push(m[v[O]]);return T},_functionJoin:function(l){var m=l[0],v=l[1];return v.join(m)},_functionToArray:function(l){return this._getTypeName(l[0])===E?l[0]:[l[0]]},_functionToString:function(l){return this._getTypeName(l[0])===d?l[0]:JSON.stringify(l[0])},_functionToNumber:function(l){var m=this._getTypeName(l[0]),v;return m===u?l[0]:m===d&&(v=+l[0],!isNaN(v))?v:null},_functionNotNull:function(l){for(var m=0;m<l.length;m++)if(this._getTypeName(l[m])!==x)return l[m];return null},_functionSort:function(l){var m=l[0].slice(0);return m.sort(),m},_functionSortBy:function(l){var m=l[0].slice(0);if(m.length===0)return m;var v=this._interpreter,T=l[1],O=this._getTypeName(v.visit(T,m[0]));if([u,d].indexOf(O)<0)throw new Error("TypeError");for(var H=this,Y=[],te=0;te<m.length;te++)Y.push([te,m[te]]);Y.sort(function(Lt,He){var se=v.visit(T,Lt[1]),Ut=v.visit(T,He[1]);if(H._getTypeName(se)!==O)throw new Error("TypeError: expected "+O+", received "+H._getTypeName(se));if(H._getTypeName(Ut)!==O)throw new Error("TypeError: expected "+O+", received "+H._getTypeName(Ut));return se>Ut?1:se<Ut?-1:Lt[0]-He[0]});for(var Ce=0;Ce<Y.length;Ce++)m[Ce]=Y[Ce][1];return m},_functionMaxBy:function(l){for(var m=l[1],v=l[0],T=this.createKeyFunction(m,[u,d]),O=-1/0,H,Y,te=0;te<v.length;te++)Y=T(v[te]),Y>O&&(O=Y,H=v[te]);return H},_functionMinBy:function(l){for(var m=l[1],v=l[0],T=this.createKeyFunction(m,[u,d]),O=1/0,H,Y,te=0;te<v.length;te++)Y=T(v[te]),Y<O&&(O=Y,H=v[te]);return H},createKeyFunction:function(l,m){var v=this,T=this._interpreter,O=function(H){var Y=T.visit(l,H);if(m.indexOf(v._getTypeName(Y))<0){var te="TypeError: expected one of "+m+", received "+v._getTypeName(Y);throw new Error(te)}return Y};return O}};function f(l){var m=new A,v=m.parse(l);return v}function S(l){var m=new M;return m.tokenize(l)}function D(l,m){var v=new A,T=new h,O=new P(T);T._interpreter=O;var H=v.parse(m);return O.search(H,l)}e.tokenize=S,e.compile=f,e.search=D,e.strictDeepEqual=n})(typeof As=="undefined"?As.jmespath={}:As)});var bs=_((LD,zE)=>{"use strict";zE.exports={DATE_FORMAT:"yyyy-mm-dd HH:MM:ss.l o",ERROR_LIKE_KEYS:["err","error"],MESSAGE_KEY:"msg",LEVEL_KEY:"level",TIMESTAMP_KEY:"time",LEVELS:{default:"USERLVL",60:"FATAL",50:"ERROR",40:"WARN ",30:"INFO ",20:"DEBUG",10:"TRACE"},LEVEL_NAMES:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},LOGGER_KEYS:["pid","hostname","name","level","time","timestamp","v","caller"]}});var wc=_((PD,tm)=>{"use strict";var{LEVELS:Is,LEVEL_NAMES:TA}=bs(),pr=e=>e,XE={default:pr,60:pr,50:pr,40:pr,30:pr,20:pr,10:pr,message:pr},_A=Ic(),Er=new _A.Instance({level:3}),KE={default:Er.white,60:Er.bgRed,50:Er.red,40:Er.yellow,30:Er.green,20:Er.blue,10:Er.grey,message:Er.cyan};function JE(e,t){if(Number.isInteger(+e))return Object.prototype.hasOwnProperty.call(Is,e)?t[e](Is[e]):t.default(Is.default);let r=TA[e.toLowerCase()]||"default";return t[r](Is[r])}function ZE(e){return JE(e,XE)}ZE.message=XE.message;function em(e){return JE(e,KE)}em.message=KE.message;tm.exports=function(t=!1){return t?em:ZE}});var nm=_((Lc,rm)=>{(function(e){"use strict";var t=function(){var o=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|"[^"]*"|'[^']*'/g,a=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,u=/[^-+\dA-Z]/g;return function(c,d,E,g){if(arguments.length===1&&s(c)==="string"&&!/\d/.test(c)&&(d=c,c=void 0),c=c||new Date,c instanceof Date||(c=new Date(c)),isNaN(c))throw TypeError("Invalid date");d=String(t.masks[d]||d||t.masks.default);var R=d.slice(0,4);(R==="UTC:"||R==="GMT:")&&(d=d.slice(4),E=!0,R==="GMT:"&&(g=!0));var b=E?"getUTC":"get",x=c[b+"Date"](),G=c[b+"Day"](),B=c[b+"Month"](),ee=c[b+"FullYear"](),V=c[b+"Hours"](),N=c[b+"Minutes"](),y=c[b+"Seconds"](),I=c[b+"Milliseconds"](),z=E?0:c.getTimezoneOffset(),U=n(c),Q=i(c),ie={d:x,dd:r(x),ddd:t.i18n.dayNames[G],dddd:t.i18n.dayNames[G+7],m:B+1,mm:r(B+1),mmm:t.i18n.monthNames[B],mmmm:t.i18n.monthNames[B+12],yy:String(ee).slice(2),yyyy:ee,h:V%12||12,hh:r(V%12||12),H:V,HH:r(V),M:N,MM:r(N),s:y,ss:r(y),l:r(I,3),L:r(Math.round(I/10)),t:V<12?t.i18n.timeNames[0]:t.i18n.timeNames[1],tt:V<12?t.i18n.timeNames[2]:t.i18n.timeNames[3],T:V<12?t.i18n.timeNames[4]:t.i18n.timeNames[5],TT:V<12?t.i18n.timeNames[6]:t.i18n.timeNames[7],Z:g?"GMT":E?"UTC":(String(c).match(a)||[""]).pop().replace(u,""),o:(z>0?"-":"+")+r(Math.floor(Math.abs(z)/60)*100+Math.abs(z)%60,4),S:["th","st","nd","rd"][x%10>3?0:(x%100-x%10!=10)*x%10],W:U,N:Q};return d.replace(o,function(C){return C in ie?ie[C]:C.slice(1,C.length-1)})}}();t.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},t.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]};function r(o,a){for(o=String(o),a=a||2;o.length<a;)o="0"+o;return o}function n(o){var a=new Date(o.getFullYear(),o.getMonth(),o.getDate());a.setDate(a.getDate()-(a.getDay()+6)%7+3);var u=new Date(a.getFullYear(),0,4);u.setDate(u.getDate()-(u.getDay()+6)%7+3);var c=a.getTimezoneOffset()-u.getTimezoneOffset();a.setHours(a.getHours()-c);var d=(a-u)/(864e5*7);return 1+Math.floor(d)}function i(o){var a=o.getDay();return a===0&&(a=7),a}function s(o){return o===null?"null":o===void 0?"undefined":typeof o!="object"?typeof o:Array.isArray(o)?"array":{}.toString.call(o).slice(8,-1).toLowerCase()}typeof define=="function"&&define.amd?define(function(){return t}):typeof Lc=="object"?rm.exports=t:e.dateFormat=t})(Lc)});var hm=_((DD,Dc)=>{"use strict";var ri=nm(),RA=vc(),sm=wc()(),{DATE_FORMAT:im,ERROR_LIKE_KEYS:om,MESSAGE_KEY:am,LEVEL_KEY:SA,TIMESTAMP_KEY:NA,LOGGER_KEYS:um}=bs();Dc.exports={isObject:lm,prettifyErrorLog:OA,prettifyLevel:CA,prettifyMessage:AA,prettifyMetadata:bA,prettifyObject:fm,prettifyTime:IA};Dc.exports.internals={formatTime:cm,joinLinesWithIndentation:Pc};function cm(e,t=!1){if(t===!1)return e;let r=new Date(e);if(t===!0)return ri(r,"UTC:"+im);let n=t.toUpperCase();if(n==="SYS:STANDARD")return ri(r,im);let i=n.substr(0,4);return i==="SYS:"||i==="UTC:"?i==="UTC:"?ri(r,t):ri(r,t.slice(4)):ri(r,`UTC:${t}`)}function lm(e){return Object.prototype.toString.apply(e)==="[object Object]"}function Pc({input:e,ident:t="    ",eol:r=`
`}){let n=e.split(/\r?\n/);for(var i=1;i<n.length;i+=1)n[i]=t+n[i];return n.join(r)}function OA({log:e,messageKey:t=am,ident:r="    ",eol:n=`
`,errorLikeKeys:i=om,errorProperties:s=[]}){let o=e.stack,a=Pc({input:o,ident:r,eol:n}),u=`${r}${a}${n}`;if(s.length>0){let d=um.concat(t,"type","stack"),E;s[0]==="*"?E=Object.keys(e).filter(g=>d.includes(g)===!1):E=s.filter(g=>d.includes(g)===!1);for(var c=0;c<E.length;c+=1){let g=E[c];if(g in e){if(lm(e[g])){let R=fm({input:e[g],errorLikeKeys:i,excludeLoggerKeys:!1,eol:n,ident:r});u=`${u}${g}: {${n}${R}}${n}`;continue}u=`${u}${g}: ${e[g]}${n}`}}}return u}function CA({log:e,colorizer:t=sm,levelKey:r=SA}){if(r in e)return t(e[r])}function AA({log:e,messageFormat:t,messageKey:r=am,colorizer:n=sm}){if(t){let i=String(t).replace(/{([^{}]+)}/g,function(s,o){return o&&e[o]?e[o]:""});return n.message(i)}if(r in e&&typeof e[r]=="string")return n.message(e[r])}function bA({log:e}){let t="";if((e.name||e.pid||e.hostname)&&(t+="(",e.name&&(t+=e.name),e.name&&e.pid?t+="/"+e.pid:e.pid&&(t+=e.pid),e.hostname&&(t+=`${t==="("?"on":" on"} ${e.hostname}`),t+=")"),e.caller&&(t+=`${t===""?"":" "}<${e.caller}>`),t!=="")return t}function fm({input:e,ident:t="    ",eol:r=`
`,skipKeys:n=[],customPrettifiers:i={},errorLikeKeys:s=om,excludeLoggerKeys:o=!0}){let a=Object.keys(e),u=[].concat(n);o===!0&&Array.prototype.push.apply(u,um);let c="",d=a.filter(R=>u.includes(R)===!1);for(var E=0;E<a.length;E+=1){let R=d[E],b=e[R];if(b===void 0)continue;let x;if(typeof i[R]=="function"?x=i[R](b,R,e):x=RA(b,null,2),x===void 0)continue;let G=Pc({input:x,ident:t,eol:r});if(s.includes(R)===!0){let B=`${t}${R}: ${G}${r}`.split(r);for(var g=0;g<B.length;g+=1){g!==0&&(c+=r);let ee=B[g];if(/^\s*"stack"/.test(ee)){let V=/^(\s*"stack":)\s*(".*"),?$/.exec(ee);if(V&&V.length===3){let N=/^\s*/.exec(ee)[0].length+4,y=" ".repeat(N),I=V[2];c+=V[1]+r+y+JSON.parse(I).replace(/\n/g,r+y)}}else c+=ee}}else c+=`${t}${R}: ${G}${r}`}return c}function IA({log:e,timestampKey:t=NA,translateFormat:r=void 0}){let n=null;if(t in e?n=e[t]:"timestamp"in e&&(n=e.timestamp),n!==null)return r?"["+cm(n,r)+"]":`[${n}]`}});var dm=_(ln=>{"use strict";var wA={suspectRx:/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*\:/};ln.parse=function(e,...t){let r=typeof t[0]=="object"&&t[0],n=t.length>1||!r?t[0]:void 0,i=t.length>1&&t[1]||r||{},s=JSON.parse(e,n);return i.protoAction==="ignore"||!s||typeof s!="object"||!e.match(wA.suspectRx)||ln.scan(s,i),s};ln.scan=function(e,t={}){let r=[e];for(;r.length;){let n=r;r=[];for(let i of n){if(Object.prototype.hasOwnProperty.call(i,"__proto__")){if(t.protoAction!=="remove")throw new SyntaxError("Object contains forbidden prototype property");delete i.__proto__}for(let s in i){let o=i[s];o&&typeof o=="object"&&r.push(i[s])}}}};ln.safeParse=function(e,t){try{return ln.parse(e,t)}catch(r){return null}}});var mm=_((kD,Em)=>{"use strict";var LA=Ic(),PA=YE(),DA=wc(),{ERROR_LIKE_KEYS:MA,MESSAGE_KEY:kA,TIMESTAMP_KEY:xA}=bs(),{isObject:pm,prettifyErrorLog:qA,prettifyLevel:FA,prettifyMessage:UA,prettifyMetadata:BA,prettifyObject:jA,prettifyTime:WA}=hm(),HA=dm(),GA=e=>{try{return{value:HA.parse(e,{protoAction:"remove"})}}catch(t){return{err:t}}},$A={colorize:LA.supportsColor,crlf:!1,errorLikeObjectKeys:MA,errorProps:"",levelFirst:!1,messageKey:kA,messageFormat:!1,timestampKey:xA,translateTime:!1,useMetadata:!1,outputStream:process.stdout,customPrettifiers:{}};Em.exports=function(t){let r=Object.assign({},$A,t),n=r.crlf?`\r
`:`
`,i="    ",s=r.messageKey,o=r.levelKey,a=r.messageFormat,u=r.timestampKey,c=r.errorLikeObjectKeys,d=r.errorProps.split(","),E=r.customPrettifiers,g=r.ignore?new Set(r.ignore.split(",")):void 0,R=DA(r.colorize),b=r.search;return x;function x(G){let B;if(pm(G))B=G;else{let z=GA(G);if(z.err||!pm(z.value))return G+n;B=z.value}if(b&&!PA.search(B,b))return;let ee=UA({log:B,messageKey:s,colorizer:R,messageFormat:a});g&&(B=Object.keys(B).filter(z=>!g.has(z)).reduce((z,U)=>(z[U]=B[U],z),{}));let V=FA({log:B,colorizer:R,levelKey:o}),N=BA({log:B}),y=WA({log:B,translateFormat:r.translateTime,timestampKey:u}),I="";if(r.levelFirst&&V&&(I=`${V}`),y&&I===""?I=`${y}`:y&&(I=`${I} ${y}`),!r.levelFirst&&V&&(I.length>0?I=`${I} ${V}`:I=V),N&&(I=`${I} ${N}:`),I.endsWith(":")===!1&&I!==""&&(I+=":"),ee&&(I=`${I} ${ee}`),I.length>0&&(I+=n),B.type==="Error"&&B.stack)I+=qA({log:B,errorLikeKeys:c,errorProperties:d,ident:i,eol:n});else{let z=[s,o,u].filter(Q=>typeof B[Q]=="string"||typeof B[Q]=="number");I+=jA({input:B,skipKeys:z,customPrettifiers:E,errorLikeKeys:c,eol:n,ident:i})}return I}}});var Ls=_((xD,bm)=>{"use strict";var gm=hE(),{mapHttpRequest:VA,mapHttpResponse:QA}=ac(),Rm=Ec(),YA=vc(),{lsCacheSym:zA,chindingsSym:xc,parsedChindingsSym:Mc,writeSym:vm,serializersSym:qc,formatOptsSym:ym,endSym:XA,stringifiersSym:Fc,stringifySym:Sm,wildcardFirstSym:Nm,needsMetadataGsym:Om,redactFmtSym:KA,streamSym:JA,nestedKeySym:Tm,formattersSym:Uc,messageKeySym:Cm}=nn();function ni(){}function ZA(e,t){if(!t)return r;return function(...i){t.call(this,i,r)};function r(n,...i){if(typeof n=="object"){var s=n;n!==null&&(n.method&&n.headers&&n.socket?n=VA(n):typeof n.setHeader=="function"&&(n=QA(n))),this[Tm]&&(n={[this[Tm]]:n});var o;s===null&&i.length===0?o=[null]:(s=i.shift(),o=i),this[vm](n,gm(s,o,this[ym]),e)}else this[vm](null,gm(n,i,this[ym]),e)}}function eb(e){var t="",r=0,n=!1,i=255;let s=e.length;if(s>100)return JSON.stringify(e);for(var o=0;o<s&&i>=32;o++)i=e.charCodeAt(o),(i===34||i===92)&&(t+=e.slice(r,o)+"\\",r=o,n=!0);return n?t+=e.slice(r):t=e,i<32?JSON.stringify(e):'"'+t+'"'}function tb(e,t,r,n){let i=this[Sm],s=this[Fc],o=this[XA],a=this[xc],u=this[qc],c=this[Uc],d=this[Cm];var E=this[zA][r]+n;E=E+a;var g,R=e.hasOwnProperty===void 0;c.log&&(e=c.log(e)),t!==void 0&&(e[d]=t);let b=s[Nm];for(var x in e)if(g=e[x],(R||e.hasOwnProperty(x))&&g!==void 0){g=u[x]?u[x](g):g;let G=s[x]||b;switch(typeof g){case"undefined":case"function":continue;case"number":Number.isFinite(g)===!1&&(g=null);case"boolean":G&&(g=G(g));break;case"string":g=(G||eb)(g);break;default:g=(G||i)(g)}if(g===void 0)continue;E+=',"'+x+'":'+g}return E+o}function rb(e,t){var r,n,i=e[xc];let s=e[Sm],o=e[Fc],a=o[Nm],u=e[qc],c=e[Uc].bindings;t=c(t);for(r in t)if(n=t[r],(r!=="level"&&r!=="serializers"&&r!=="formatters"&&r!=="customLevels"&&t.hasOwnProperty(r)&&n!==void 0)===!0){if(n=u[r]?u[r](n):n,n=(o[r]||a||s)(n),n===void 0)continue;i+=',"'+r+'":'+n}return i}function Am(e,t,r,n){if(t&&typeof t=="function")return t=t.bind(n),kc(t(e),r,e);try{var i=mm();return i.asMetaWrapper=kc,kc(i(e),r,e)}catch(s){throw Error("Missing `pino-pretty` module: `pino-pretty` must be installed separately")}}function kc(e,t,r){r=Object.assign({suppressFlushSyncWarning:!1},r);var n=!1;return{[Om]:!0,lastLevel:0,lastMsg:null,lastObj:null,lastLogger:null,flushSync(){r.suppressFlushSyncWarning||n||(n=!0,_m(t,this),t.write(e(Object.assign({level:40,msg:"pino.final with prettyPrint does not support flushing",time:Date.now()},this.chindings()))))},chindings(){let i=this.lastLogger;var s=null;return i?(i.hasOwnProperty(Mc)?s=i[Mc]:(s=JSON.parse("{"+i[xc].substr(1)+"}"),i[Mc]=s),s):null},write(i){let s=this.lastLogger,o=this.chindings();var a=this.lastTime;a.match(/^\d+/)&&(a=parseInt(a));var u=this.lastObj,c=this.lastMsg,d=null;let E=s[Uc],g=E.log?E.log(u):u,R=s[Cm];c&&g&&!g.hasOwnProperty(R)&&(g[R]=c);let b=Object.assign({level:this.lastLevel,time:a},g,d),x=s[qc],G=Object.keys(x);for(var B,ee=0;ee<G.length;ee++)B=G[ee],b[B]!==void 0&&(b[B]=x[B](b[B]));for(B in o)b.hasOwnProperty(B)||(b[B]=o[B]);let N=s[Fc][KA],y=e(typeof N=="function"?N(b):b);y!==void 0&&(_m(t,this),t.write(y))}}}function nb(e){return e.write!==e.constructor.prototype.write}function ws(e){let t=new Rm(e);return t.on("error",r),t;function r(n){if(n.code==="EPIPE"){t.write=ni,t.end=ni,t.flushSync=ni,t.destroy=ni;return}t.removeListener("error",r),t.emit("error",n)}}function ib(e){return function(r,n={},i){if(typeof n=="string"?(i=ws({dest:n,sync:!0}),n={}):typeof i=="string"?i=ws({dest:i,sync:!0}):(n instanceof Rm||n.writable||n._writableState)&&(i=n,n=null),n=Object.assign({},e,n),"extreme"in n)throw Error("The extreme option has been removed, use pino.destination({ sync: false }) instead");if("onTerminated"in n)throw Error("The onTerminated option has been removed, use pino.final instead");"changeLevelName"in n&&(process.emitWarning("The changeLevelName option is deprecated and will be removed in v7. Use levelKey instead.",{code:"changeLevelName_deprecation"}),n.levelKey=n.changeLevelName,delete n.changeLevelName);let{enabled:s,prettyPrint:o,prettifier:a,messageKey:u}=n;if(s===!1&&(n.level="silent"),i=i||process.stdout,i===process.stdout&&i.fd>=0&&!nb(i)&&(i=ws({fd:i.fd,sync:!0})),o){let c=Object.assign({messageKey:u},o);i=Am(c,a,i,r)}return{opts:n,stream:i}}}function sb(e,t){if(typeof e=="undefined"||typeof e.child!="function")throw Error("expected a pino logger instance");let r=typeof t!="undefined";if(r&&typeof t!="function")throw Error("if supplied, the handler parameter should be a function");let n=e[JA];if(typeof n.flushSync!="function")throw Error("final requires a stream that has a flushSync method, such as pino.destination");let i=new Proxy(e,{get:(s,o)=>o in s.levels.values?(...a)=>{s[o](...a),n.flushSync()}:s[o]});return r?(s=null,...o)=>{try{n.flushSync()}catch(a){}return t(s,i,...o)}:i}function ob(e){try{return JSON.stringify(e)}catch(t){return YA(e)}}function ab(e,t,r){return{level:e,bindings:t,log:r}}function _m(e,t){e[Om]===!0&&(e.lastLevel=t.lastLevel,e.lastMsg=t.lastMsg,e.lastObj=t.lastObj,e.lastTime=t.lastTime,e.lastLogger=t.lastLogger)}bm.exports={noop:ni,buildSafeSonicBoom:ws,getPrettyStream:Am,asChindings:rb,asJson:tb,genLog:ZA,createArgsNormalizer:ib,final:sb,stringify:ob,buildFormatters:ab}});var Wc=_((qD,wm)=>{"use strict";var ub=ys(),{lsCacheSym:cb,levelValSym:Bc,useOnlyCustomLevelsSym:lb,streamSym:fb,formattersSym:hb,hooksSym:db}=nn(),{noop:pb,genLog:Cr}=Ls(),xt={trace:10,debug:20,info:30,warn:40,error:50,fatal:60},Im={fatal:e=>{let t=Cr(xt.fatal,e);return function(...r){let n=this[fb];if(t.call(this,...r),typeof n.flushSync=="function")try{n.flushSync()}catch(i){}}},error:e=>Cr(xt.error,e),warn:e=>Cr(xt.warn,e),info:e=>Cr(xt.info,e),debug:e=>Cr(xt.debug,e),trace:e=>Cr(xt.trace,e)},jc=Object.keys(xt).reduce((e,t)=>(e[xt[t]]=t,e),{}),Eb=Object.keys(jc).reduce((e,t)=>(e[t]=ub('{"level":'+Number(t)),e),{});function mb(e){let t=e[hb].level,{labels:r}=e.levels,n={};for(let i in r){let s=t(r[i],Number(i));n[i]=JSON.stringify(s).slice(0,-1)}return e[cb]=n,e}function gb(e,t){if(t)return!1;switch(e){case"fatal":case"error":case"warn":case"info":case"debug":case"trace":return!0;default:return!1}}function vb(e){let{labels:t,values:r}=this.levels;if(typeof e=="number"){if(t[e]===void 0)throw Error("unknown level value"+e);e=t[e]}if(r[e]===void 0)throw Error("unknown level "+e);let n=this[Bc],i=this[Bc]=r[e],s=this[lb],o=this[db].logMethod;for(var a in r){if(i>r[a]){this[a]=pb;continue}this[a]=gb(a,s)?Im[a](o):Cr(r[a],o)}this.emit("level-change",e,i,t[n],n)}function yb(e){let{levels:t,levelVal:r}=this;return t&&t.labels?t.labels[r]:""}function Tb(e){let{values:t}=this.levels,r=t[e];return r!==void 0&&r>=this[Bc]}function _b(e=null,t=!1){let r=e?Object.keys(e).reduce((s,o)=>(s[e[o]]=o,s),{}):null,n=Object.assign(Object.create(Object.prototype,{Infinity:{value:"silent"}}),t?null:jc,r),i=Object.assign(Object.create(Object.prototype,{silent:{value:1/0}}),t?null:xt,e);return{labels:n,values:i}}function Rb(e,t,r){if(typeof e=="number"){if(![].concat(Object.keys(t||{}).map(s=>t[s]),r?[]:Object.keys(jc).map(s=>+s),1/0).includes(e))throw Error(`default level:${e} must be included in custom levels`);return}let n=Object.assign(Object.create(Object.prototype,{silent:{value:1/0}}),r?null:xt,t);if(!(e in n))throw Error(`default level:${e} must be included in custom levels`)}function Sb(e,t){let{labels:r,values:n}=e;for(let i in t){if(i in n)throw Error("levels cannot be overridden");if(t[i]in r)throw Error("pre-existing level values cannot be used for new levels")}}wm.exports={initialLsCache:Eb,genLsCache:mb,levelMethods:Im,getLevel:yb,setLevel:vb,isLevelEnabled:Tb,mappings:_b,assertNoLevelCollisions:Sb,assertDefaultLevelFound:Rb}});var Lm=_((FD,Nb)=>{Nb.exports={name:"pino",version:"6.5.1",description:"super fast, all natural json logger",main:"pino.js",browser:"./browser.js",files:["pino.js","bin.js","browser.js","pretty.js","usage.txt","test","docs","example.js","lib"],scripts:{docs:"docsify serve","browser-test":"airtap --local 8080 test/browser*test.js",test:"standard | snazzy && tap --100 test/*test.js","cov-ui":"tap --coverage-report=html test/*test.js",bench:"node benchmarks/utils/runbench all","bench-basic":"node benchmarks/utils/runbench basic","bench-object":"node benchmarks/utils/runbench object","bench-deep-object":"node benchmarks/utils/runbench deep-object","bench-multi-arg":"node benchmarks/utils/runbench multi-arg","bench-longs-tring":"node benchmarks/utils/runbench long-string","bench-child":"node benchmarks/utils/runbench child","bench-child-child":"node benchmarks/utils/runbench child-child","bench-child-creation":"node benchmarks/utils/runbench child-creation","bench-formatters":"node benchmarks/utils/runbench formatters","update-bench-doc":"node benchmarks/utils/generate-benchmark-doc > docs/benchmarks.md"},bin:{pino:"./bin.js"},precommit:"test",repository:{type:"git",url:"git+https://github.com/pinojs/pino.git"},keywords:["fast","logger","stream","json"],author:"Matteo Collina <hello@matteocollina.com>",contributors:["David Mark Clements <huperekchuno@googlemail.com>","James Sumners <james.sumners@gmail.com>","Thomas Watson Steen <w@tson.dk> (https://twitter.com/wa7son)"],license:"MIT",bugs:{url:"https://github.com/pinojs/pino/issues"},homepage:"http://getpino.io",devDependencies:{airtap:"3.0.0",benchmark:"^2.1.4",bole:"^4.0.0",bunyan:"^1.8.14","docsify-cli":"^4.4.1",execa:"^4.0.0",fastbench:"^1.0.1","flush-write-stream":"^2.0.0","import-fresh":"^3.2.1",log:"^6.0.0",loglevel:"^1.6.7","pino-pretty":"^4.1.0","pre-commit":"^1.2.2",proxyquire:"^2.1.3",pump:"^3.0.0",semver:"^7.0.0",snazzy:"^8.0.0",split2:"^3.1.1",standard:"^14.3.3",steed:"^1.1.3","strip-ansi":"^6.0.0",tap:"^14.10.8",tape:"^5.0.0",through2:"^4.0.0",winston:"^3.3.3"},dependencies:{"fast-redact":"^2.0.0","fast-safe-stringify":"^2.0.7",flatstr:"^1.0.12","pino-std-serializers":"^2.4.2","quick-format-unescaped":"^4.0.1","sonic-boom":"^1.0.2"}}});var Hc=_((UD,Pm)=>{"use strict";var{version:Ob}=Lm();Pm.exports={version:Ob}});var jm=_((jD,Bm)=>{"use strict";var{EventEmitter:Cb}=require("events"),Ab=Ec(),bb=ys(),{lsCacheSym:Ib,levelValSym:wb,setLevelSym:$c,getLevelSym:Dm,chindingsSym:Vc,parsedChindingsSym:Lb,mixinSym:Pb,asJsonSym:xm,writeSym:Db,timeSym:Mb,timeSliceIndexSym:kb,streamSym:qm,serializersSym:Ar,formattersSym:Gc,useOnlyCustomLevelsSym:xb,needsMetadataGsym:qb}=nn(),{getLevel:Fb,setLevel:Ub,isLevelEnabled:Bb,mappings:jb,initialLsCache:Wb,genLsCache:Hb,assertNoLevelCollisions:Gb}=Wc(),{asChindings:Fm,asJson:$b,buildFormatters:Mm}=Ls(),{version:Vb}=Hc(),Qb=class{},Um={constructor:Qb,child:Yb,bindings:zb,setBindings:Xb,flush:Jb,isLevelEnabled:Bb,version:Vb,get level(){return this[Dm]()},set level(e){this[$c](e)},get levelVal(){return this[wb]},set levelVal(e){throw Error("levelVal is read-only")},[Ib]:Wb,[Db]:Kb,[xm]:$b,[Dm]:Fb,[$c]:Ub};Object.setPrototypeOf(Um,Cb.prototype);Bm.exports=function(){return Object.create(Um)};var km=e=>e;function Yb(e){if(!e)throw Error("missing bindings for child Pino");let t=this[Ar],r=this[Gc],n=Object.create(this);if(e.hasOwnProperty("serializers")===!0){n[Ar]=Object.create(null);for(var i in t)n[Ar][i]=t[i];let c=Object.getOwnPropertySymbols(t);for(var s=0;s<c.length;s++){let E=c[s];n[Ar][E]=t[E]}for(var o in e.serializers)n[Ar][o]=e.serializers[o];let d=Object.getOwnPropertySymbols(e.serializers);for(var a=0;a<d.length;a++){let E=d[a];n[Ar][E]=e.serializers[E]}}else n[Ar]=t;if(e.hasOwnProperty("formatters")){let{level:c,bindings:d,log:E}=e.formatters;n[Gc]=Mm(c||r.level,d||km,E||r.log)}else n[Gc]=Mm(r.level,km,r.log);e.hasOwnProperty("customLevels")===!0&&(Gb(this.levels,e.customLevels),n.levels=jb(e.customLevels,n[xb]),Hb(n)),n[Vc]=Fm(n,e);let u=e.level||this.level;return n[$c](u),n}function zb(){var t=`{${this[Vc].substr(1)}}`,r=JSON.parse(t);return delete r.pid,delete r.hostname,r}function Xb(e){let t=Fm(this,e);this[Vc]=t,delete this[Lb]}function Kb(e,t,r){let n=this[Mb](),i=this[Pb],s=e instanceof Error;var o;e==null?o=i?i():{}:(o=Object.assign(i?i():{},e),!t&&s&&(t=e.message),s&&(o.stack=e.stack,o.type||(o.type="Error")));let a=this[xm](o,t,r,n),u=this[qm];u[qb]===!0&&(u.lastLevel=r,u.lastObj=o,u.lastMsg=t,u.lastTime=n.slice(this[kb]),u.lastLogger=this),u instanceof Ab?u.write(a):u.write(bb(a))}function Jb(){let e=this[qm];"flush"in e&&e.flush()}});var Zm=_((WD,Jm)=>{"use strict";var Zb=require("os"),Qm=ac(),eI=nE(),Ym=sE(),tI=jm(),zm=nn(),{assertDefaultLevelFound:rI,mappings:Xm,genLsCache:nI}=Wc(),{createArgsNormalizer:iI,asChindings:sI,final:oI,stringify:Ps,buildSafeSonicBoom:Qc,buildFormatters:aI,noop:uI}=Ls(),{version:cI}=Hc(),{chindingsSym:Wm,redactFmtSym:lI,serializersSym:Hm,timeSym:fI,timeSliceIndexSym:hI,streamSym:dI,stringifySym:Gm,stringifiersSym:$m,setLevelSym:pI,endSym:EI,formatOptsSym:mI,messageKeySym:gI,nestedKeySym:vI,mixinSym:yI,useOnlyCustomLevelsSym:TI,formattersSym:Vm,hooksSym:_I}=zm,{epochTime:Km,nullTime:RI}=Ym,{pid:SI}=process,NI=Zb.hostname(),OI=Qm.err,Yc={level:"info",messageKey:"msg",nestedKey:null,enabled:!0,prettyPrint:!1,base:{pid:SI,hostname:NI},serializers:Object.assign(Object.create(null),{err:OI}),formatters:Object.assign(Object.create(null),{bindings(e){return e},level(e,t){return{level:t}}}),hooks:{logMethod:void 0},timestamp:Km,name:void 0,redact:null,customLevels:null,levelKey:void 0,useOnlyCustomLevels:!1},CI=iI(Yc),AI=Object.assign(Object.create(null),Qm);function Xt(...e){let t={},{opts:r,stream:n}=CI(t,...e),{redact:i,crlf:s,serializers:o,timestamp:a,messageKey:u,nestedKey:c,base:d,name:E,level:g,customLevels:R,useLevelLabels:b,changeLevelName:x,levelKey:G,mixin:B,useOnlyCustomLevels:ee,formatters:V,hooks:N}=r,y=aI(V.level,V.bindings,V.log);b&&!(x||G)?(process.emitWarning("useLevelLabels is deprecated, use the formatters.level option instead","Warning","PINODEP001"),y.level=bI):(x||G)&&!b?(process.emitWarning("changeLevelName and levelKey are deprecated, use the formatters.level option instead","Warning","PINODEP002"),y.level=II(x||G)):(x||G)&&b&&(process.emitWarning("useLevelLabels is deprecated, use the formatters.level option instead","Warning","PINODEP001"),process.emitWarning("changeLevelName and levelKey are deprecated, use the formatters.level option instead","Warning","PINODEP002"),y.level=wI(x||G)),o[Symbol.for("pino.*")]&&(process.emitWarning("The pino.* serializer is deprecated, use the formatters.log options instead","Warning","PINODEP003"),y.log=o[Symbol.for("pino.*")]),y.bindings||(y.bindings=Yc.formatters.bindings),y.level||(y.level=Yc.formatters.level);let I=i?eI(i,Ps):{},z=i?{stringify:I[lI]}:{stringify:Ps},U="}"+(s?`\r
`:`
`),Q=sI.bind(null,{[Wm]:"",[Hm]:o,[$m]:I,[Gm]:Ps,[Vm]:y}),ie=d===null?"":Q(E===void 0?d:Object.assign({},d,{name:E})),C=a instanceof Function?a:a?Km:RI,w=C().indexOf(":")+1;if(ee&&!R)throw Error("customLevels is required if useOnlyCustomLevels is set true");if(B&&typeof B!="function")throw Error(`Unknown mixin type "${typeof B}" - expected "function"`);rI(g,R,ee);let F=Xm(R,ee);return Object.assign(t,{levels:F,[TI]:ee,[dI]:n,[fI]:C,[hI]:w,[Gm]:Ps,[$m]:I,[EI]:U,[mI]:z,[gI]:u,[vI]:c,[Hm]:o,[yI]:B,[Wm]:ie,[Vm]:y,[_I]:N,silent:uI}),Object.setPrototypeOf(t,tI()),nI(t),t[pI](g),t}function bI(e,t){return{level:e}}function II(e){return function(t,r){return{[e]:r}}}function wI(e){return function(t,r){return{[e]:t}}}Xt.extreme=(e=process.stdout.fd)=>(process.emitWarning("The pino.extreme() option is deprecated and will be removed in v7. Use pino.destination({ sync: false }) instead.",{code:"extreme_deprecation"}),Qc({dest:e,minLength:4096,sync:!1}));Xt.destination=(e=process.stdout.fd)=>typeof e=="object"?(e.dest=e.dest||process.stdout.fd,Qc(e)):Qc({dest:e,minLength:0,sync:!0});Xt.final=oI;Xt.levels=Xm();Xt.stdSerializers=AI;Xt.stdTimeFunctions=Object.assign({},Ym);Xt.symbols=zm;Xt.version=cI;Jm.exports=Xt});var eg=_(br=>{"use strict";var zc=br&&br.__assign||function(){return zc=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},zc.apply(this,arguments)},LI=br&&br.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};br.__esModule=!0;var PI=LI(Zm());function DI(e,t){e===void 0&&(e={});var r=PI.default(zc({name:"ls",base:{},level:"info",formatters:{level:function(n){return{level:n}}},prettyPrint:!0},e),t);return r.show=function(){},r}br.default=DI});var tg=_(ii=>{"use strict";var MI=ii&&ii.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};ii.__esModule=!0;var kI=MI(eg());ii.default=kI.default()});var rg=_(Ir=>{"use strict";var Ds=Ir&&Ir.__assign||function(){return Ds=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Ds.apply(this,arguments)};Ir.__esModule=!0;Ir.createLogger=void 0;var Ms;Ms=tg().default;function xI(e,t){return t===void 0&&(t={}),e?Ms.child(Ds(Ds({},t),{ns:e})):Ms}Ir.createLogger=xI;Ir.default=Ms});var ng=_((si,Xc)=>{(function(e,t){if(typeof si=="object"&&typeof Xc=="object")Xc.exports=t();else if(typeof define=="function"&&define.amd)define([],t);else{var r=t();for(var n in r)(typeof si=="object"?si:e)[n]=r[n]}})(si,function(){return(()=>{"use strict";var e={470:r=>{function n(o){if(typeof o!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(o))}function i(o,a){for(var u,c="",d=0,E=-1,g=0,R=0;R<=o.length;++R){if(R<o.length)u=o.charCodeAt(R);else{if(u===47)break;u=47}if(u===47){if(!(E===R-1||g===1))if(E!==R-1&&g===2){if(c.length<2||d!==2||c.charCodeAt(c.length-1)!==46||c.charCodeAt(c.length-2)!==46){if(c.length>2){var b=c.lastIndexOf("/");if(b!==c.length-1){b===-1?(c="",d=0):d=(c=c.slice(0,b)).length-1-c.lastIndexOf("/"),E=R,g=0;continue}}else if(c.length===2||c.length===1){c="",d=0,E=R,g=0;continue}}a&&(c.length>0?c+="/..":c="..",d=2)}else c.length>0?c+="/"+o.slice(E+1,R):c=o.slice(E+1,R),d=R-E-1;E=R,g=0}else u===46&&g!==-1?++g:g=-1}return c}var s={resolve:function(){for(var o,a="",u=!1,c=arguments.length-1;c>=-1&&!u;c--){var d;c>=0?d=arguments[c]:(o===void 0&&(o=process.cwd()),d=o),n(d),d.length!==0&&(a=d+"/"+a,u=d.charCodeAt(0)===47)}return a=i(a,!u),u?a.length>0?"/"+a:"/":a.length>0?a:"."},normalize:function(o){if(n(o),o.length===0)return".";var a=o.charCodeAt(0)===47,u=o.charCodeAt(o.length-1)===47;return(o=i(o,!a)).length!==0||a||(o="."),o.length>0&&u&&(o+="/"),a?"/"+o:o},isAbsolute:function(o){return n(o),o.length>0&&o.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var o,a=0;a<arguments.length;++a){var u=arguments[a];n(u),u.length>0&&(o===void 0?o=u:o+="/"+u)}return o===void 0?".":s.normalize(o)},relative:function(o,a){if(n(o),n(a),o===a||(o=s.resolve(o))===(a=s.resolve(a)))return"";for(var u=1;u<o.length&&o.charCodeAt(u)===47;++u);for(var c=o.length,d=c-u,E=1;E<a.length&&a.charCodeAt(E)===47;++E);for(var g=a.length-E,R=d<g?d:g,b=-1,x=0;x<=R;++x){if(x===R){if(g>R){if(a.charCodeAt(E+x)===47)return a.slice(E+x+1);if(x===0)return a.slice(E+x)}else d>R&&(o.charCodeAt(u+x)===47?b=x:x===0&&(b=0));break}var G=o.charCodeAt(u+x);if(G!==a.charCodeAt(E+x))break;G===47&&(b=x)}var B="";for(x=u+b+1;x<=c;++x)x!==c&&o.charCodeAt(x)!==47||(B.length===0?B+="..":B+="/..");return B.length>0?B+a.slice(E+b):(E+=b,a.charCodeAt(E)===47&&++E,a.slice(E))},_makeLong:function(o){return o},dirname:function(o){if(n(o),o.length===0)return".";for(var a=o.charCodeAt(0),u=a===47,c=-1,d=!0,E=o.length-1;E>=1;--E)if((a=o.charCodeAt(E))===47){if(!d){c=E;break}}else d=!1;return c===-1?u?"/":".":u&&c===1?"//":o.slice(0,c)},basename:function(o,a){if(a!==void 0&&typeof a!="string")throw new TypeError('"ext" argument must be a string');n(o);var u,c=0,d=-1,E=!0;if(a!==void 0&&a.length>0&&a.length<=o.length){if(a.length===o.length&&a===o)return"";var g=a.length-1,R=-1;for(u=o.length-1;u>=0;--u){var b=o.charCodeAt(u);if(b===47){if(!E){c=u+1;break}}else R===-1&&(E=!1,R=u+1),g>=0&&(b===a.charCodeAt(g)?--g==-1&&(d=u):(g=-1,d=R))}return c===d?d=R:d===-1&&(d=o.length),o.slice(c,d)}for(u=o.length-1;u>=0;--u)if(o.charCodeAt(u)===47){if(!E){c=u+1;break}}else d===-1&&(E=!1,d=u+1);return d===-1?"":o.slice(c,d)},extname:function(o){n(o);for(var a=-1,u=0,c=-1,d=!0,E=0,g=o.length-1;g>=0;--g){var R=o.charCodeAt(g);if(R!==47)c===-1&&(d=!1,c=g+1),R===46?a===-1?a=g:E!==1&&(E=1):a!==-1&&(E=-1);else if(!d){u=g+1;break}}return a===-1||c===-1||E===0||E===1&&a===c-1&&a===u+1?"":o.slice(a,c)},format:function(o){if(o===null||typeof o!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof o);return function(a,u){var c=u.dir||u.root,d=u.base||(u.name||"")+(u.ext||"");return c?c===u.root?c+d:c+"/"+d:d}(0,o)},parse:function(o){n(o);var a={root:"",dir:"",base:"",ext:"",name:""};if(o.length===0)return a;var u,c=o.charCodeAt(0),d=c===47;d?(a.root="/",u=1):u=0;for(var E=-1,g=0,R=-1,b=!0,x=o.length-1,G=0;x>=u;--x)if((c=o.charCodeAt(x))!==47)R===-1&&(b=!1,R=x+1),c===46?E===-1?E=x:G!==1&&(G=1):E!==-1&&(G=-1);else if(!b){g=x+1;break}return E===-1||R===-1||G===0||G===1&&E===R-1&&E===g+1?R!==-1&&(a.base=a.name=g===0&&d?o.slice(1,R):o.slice(g,R)):(g===0&&d?(a.name=o.slice(1,E),a.base=o.slice(1,R)):(a.name=o.slice(g,E),a.base=o.slice(g,R)),a.ext=o.slice(E,R)),g>0?a.dir=o.slice(0,g-1):d&&(a.dir="/"),a},sep:"/",delimiter:":",win32:null,posix:null};s.posix=s,r.exports=s},465:(r,n,i)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Utils=n.URI=void 0;var s=i(796);Object.defineProperty(n,"URI",{enumerable:!0,get:function(){return s.URI}});var o=i(679);Object.defineProperty(n,"Utils",{enumerable:!0,get:function(){return o.Utils}})},674:(r,n)=>{if(Object.defineProperty(n,"__esModule",{value:!0}),n.isWindows=void 0,typeof process=="object")n.isWindows=process.platform==="win32";else if(typeof navigator=="object"){var i=navigator.userAgent;n.isWindows=i.indexOf("Windows")>=0}},796:function(r,n,i){var s,o,a=this&&this.__extends||(s=function(C,w){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,W){F.__proto__=W}||function(F,W){for(var Z in W)Object.prototype.hasOwnProperty.call(W,Z)&&(F[Z]=W[Z])})(C,w)},function(C,w){if(typeof w!="function"&&w!==null)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");function F(){this.constructor=C}s(C,w),C.prototype=w===null?Object.create(w):(F.prototype=w.prototype,new F)});Object.defineProperty(n,"__esModule",{value:!0}),n.uriToFsPath=n.URI=void 0;var u=i(674),c=/^\w[\w\d+.-]*$/,d=/^\//,E=/^\/\//;function g(C,w){if(!C.scheme&&w)throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'.concat(C.authority,'", path: "').concat(C.path,'", query: "').concat(C.query,'", fragment: "').concat(C.fragment,'"}'));if(C.scheme&&!c.test(C.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(C.path){if(C.authority){if(!d.test(C.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(E.test(C.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}var R="",b="/",x=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,G=function(){function C(w,F,W,Z,J,re){re===void 0&&(re=!1),typeof w=="object"?(this.scheme=w.scheme||R,this.authority=w.authority||R,this.path=w.path||R,this.query=w.query||R,this.fragment=w.fragment||R):(this.scheme=function(Se,me){return Se||me?Se:"file"}(w,re),this.authority=F||R,this.path=function(Se,me){switch(Se){case"https":case"http":case"file":me?me[0]!==b&&(me=b+me):me=b}return me}(this.scheme,W||R),this.query=Z||R,this.fragment=J||R,g(this,re))}return C.isUri=function(w){return w instanceof C||!!w&&typeof w.authority=="string"&&typeof w.fragment=="string"&&typeof w.path=="string"&&typeof w.query=="string"&&typeof w.scheme=="string"&&typeof w.fsPath=="string"&&typeof w.with=="function"&&typeof w.toString=="function"},Object.defineProperty(C.prototype,"fsPath",{get:function(){return I(this,!1)},enumerable:!1,configurable:!0}),C.prototype.with=function(w){if(!w)return this;var F=w.scheme,W=w.authority,Z=w.path,J=w.query,re=w.fragment;return F===void 0?F=this.scheme:F===null&&(F=R),W===void 0?W=this.authority:W===null&&(W=R),Z===void 0?Z=this.path:Z===null&&(Z=R),J===void 0?J=this.query:J===null&&(J=R),re===void 0?re=this.fragment:re===null&&(re=R),F===this.scheme&&W===this.authority&&Z===this.path&&J===this.query&&re===this.fragment?this:new ee(F,W,Z,J,re)},C.parse=function(w,F){F===void 0&&(F=!1);var W=x.exec(w);return W?new ee(W[2]||R,ie(W[4]||R),ie(W[5]||R),ie(W[7]||R),ie(W[9]||R),F):new ee(R,R,R,R,R)},C.file=function(w){var F=R;if(u.isWindows&&(w=w.replace(/\\/g,b)),w[0]===b&&w[1]===b){var W=w.indexOf(b,2);W===-1?(F=w.substring(2),w=b):(F=w.substring(2,W),w=w.substring(W)||b)}return new ee("file",F,w,R,R)},C.from=function(w){var F=new ee(w.scheme,w.authority,w.path,w.query,w.fragment);return g(F,!0),F},C.prototype.toString=function(w){return w===void 0&&(w=!1),z(this,w)},C.prototype.toJSON=function(){return this},C.revive=function(w){if(w){if(w instanceof C)return w;var F=new ee(w);return F._formatted=w.external,F._fsPath=w._sep===B?w.fsPath:null,F}return w},C}();n.URI=G;var B=u.isWindows?1:void 0,ee=function(C){function w(){var F=C!==null&&C.apply(this,arguments)||this;return F._formatted=null,F._fsPath=null,F}return a(w,C),Object.defineProperty(w.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=I(this,!1)),this._fsPath},enumerable:!1,configurable:!0}),w.prototype.toString=function(F){return F===void 0&&(F=!1),F?z(this,!0):(this._formatted||(this._formatted=z(this,!1)),this._formatted)},w.prototype.toJSON=function(){var F={$mid:1};return this._fsPath&&(F.fsPath=this._fsPath,F._sep=B),this._formatted&&(F.external=this._formatted),this.path&&(F.path=this.path),this.scheme&&(F.scheme=this.scheme),this.authority&&(F.authority=this.authority),this.query&&(F.query=this.query),this.fragment&&(F.fragment=this.fragment),F},w}(G),V=((o={})[58]="%3A",o[47]="%2F",o[63]="%3F",o[35]="%23",o[91]="%5B",o[93]="%5D",o[64]="%40",o[33]="%21",o[36]="%24",o[38]="%26",o[39]="%27",o[40]="%28",o[41]="%29",o[42]="%2A",o[43]="%2B",o[44]="%2C",o[59]="%3B",o[61]="%3D",o[32]="%20",o);function N(C,w){for(var F=void 0,W=-1,Z=0;Z<C.length;Z++){var J=C.charCodeAt(Z);if(J>=97&&J<=122||J>=65&&J<=90||J>=48&&J<=57||J===45||J===46||J===95||J===126||w&&J===47)W!==-1&&(F+=encodeURIComponent(C.substring(W,Z)),W=-1),F!==void 0&&(F+=C.charAt(Z));else{F===void 0&&(F=C.substr(0,Z));var re=V[J];re!==void 0?(W!==-1&&(F+=encodeURIComponent(C.substring(W,Z)),W=-1),F+=re):W===-1&&(W=Z)}}return W!==-1&&(F+=encodeURIComponent(C.substring(W))),F!==void 0?F:C}function y(C){for(var w=void 0,F=0;F<C.length;F++){var W=C.charCodeAt(F);W===35||W===63?(w===void 0&&(w=C.substr(0,F)),w+=V[W]):w!==void 0&&(w+=C[F])}return w!==void 0?w:C}function I(C,w){var F;return F=C.authority&&C.path.length>1&&C.scheme==="file"?"//".concat(C.authority).concat(C.path):C.path.charCodeAt(0)===47&&(C.path.charCodeAt(1)>=65&&C.path.charCodeAt(1)<=90||C.path.charCodeAt(1)>=97&&C.path.charCodeAt(1)<=122)&&C.path.charCodeAt(2)===58?w?C.path.substr(1):C.path[1].toLowerCase()+C.path.substr(2):C.path,u.isWindows&&(F=F.replace(/\//g,"\\")),F}function z(C,w){var F=w?y:N,W="",Z=C.scheme,J=C.authority,re=C.path,Se=C.query,me=C.fragment;if(Z&&(W+=Z,W+=":"),(J||Z==="file")&&(W+=b,W+=b),J){var de=J.indexOf("@");if(de!==-1){var xe=J.substr(0,de);J=J.substr(de+1),(de=xe.indexOf(":"))===-1?W+=F(xe,!1):(W+=F(xe.substr(0,de),!1),W+=":",W+=F(xe.substr(de+1),!1)),W+="@"}(de=(J=J.toLowerCase()).indexOf(":"))===-1?W+=F(J,!1):(W+=F(J.substr(0,de),!1),W+=J.substr(de))}if(re){if(re.length>=3&&re.charCodeAt(0)===47&&re.charCodeAt(2)===58)(_e=re.charCodeAt(1))>=65&&_e<=90&&(re="/".concat(String.fromCharCode(_e+32),":").concat(re.substr(3)));else if(re.length>=2&&re.charCodeAt(1)===58){var _e;(_e=re.charCodeAt(0))>=65&&_e<=90&&(re="".concat(String.fromCharCode(_e+32),":").concat(re.substr(2)))}W+=F(re,!0)}return Se&&(W+="?",W+=F(Se,!1)),me&&(W+="#",W+=w?me:N(me,!1)),W}function U(C){try{return decodeURIComponent(C)}catch(w){return C.length>3?C.substr(0,3)+U(C.substr(3)):C}}n.uriToFsPath=I;var Q=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function ie(C){return C.match(Q)?C.replace(Q,function(w){return U(w)}):C}},679:function(r,n,i){var s=this&&this.__spreadArray||function(c,d,E){if(E||arguments.length===2)for(var g,R=0,b=d.length;R<b;R++)!g&&R in d||(g||(g=Array.prototype.slice.call(d,0,R)),g[R]=d[R]);return c.concat(g||Array.prototype.slice.call(d))};Object.defineProperty(n,"__esModule",{value:!0}),n.Utils=void 0;var o,a=i(470),u=a.posix||a;(o=n.Utils||(n.Utils={})).joinPath=function(c){for(var d=[],E=1;E<arguments.length;E++)d[E-1]=arguments[E];return c.with({path:u.join.apply(u,s([c.path],d,!1))})},o.resolvePath=function(c){for(var d=[],E=1;E<arguments.length;E++)d[E-1]=arguments[E];var g=c.path||"/";return c.with({path:u.resolve.apply(u,s([g],d,!1))})},o.dirname=function(c){var d=u.dirname(c.path);return d.length===1&&d.charCodeAt(0)===46?c:c.with({path:d})},o.basename=function(c){return u.basename(c.path)},o.extname=function(c){return u.extname(c.path)}}},t={};return function r(n){if(t[n])return t[n].exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}(465)})()})});var og=_(ct=>{"use strict";var qI=ct&&ct.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),FI=ct&&ct.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),UI=ct&&ct.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&qI(t,e,r);return FI(t,e),t},oi=ct&&ct.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{c(n.next(d))}catch(E){o(E)}}function u(d){try{c(n.throw(d))}catch(E){o(E)}}function c(d){d.done?s(d.value):i(d.value).then(a,u)}c((n=n.apply(e,t||[])).next())})},ks=ct&&ct.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ct,"__esModule",{value:!0});var BI=ks(Ud()),jI=ks(Bd()),ig=UI(Rp()),WI=rg(),sg=ks(require("path")),HI=ks(require("fs")),GI=ng(),fn=class{constructor(t,r){this.credentials=t,this.getWorkspaceFolders=r,this.deps=[],this.queryResults=(n,i)=>oi(this,void 0,void 0,function*(){let s=yield this.singleQuery(n,i);if(s.error)throw s.rawError;return s.results}),this.requireDep=n=>ig.default(n),this.resolveDep=n=>ig.sqltoolsResolve(n),this.log=WI.createLogger(t.driver.toLowerCase())}getId(){return this.credentials.id}singleQuery(t,r){return this.query(t,r).then(([n])=>n)}describeTable(t,r){return oi(this,void 0,void 0,function*(){let n=yield this.singleQuery(this.queries.describeTable(t),r);return n.baseQuery=this.queries.describeTable.raw,[n]})}showRecords(t,r){return oi(this,void 0,void 0,function*(){let{limit:n,page:i=0}=r,s=Object.assign(Object.assign({},r),{limit:n,table:t,offset:i*n});if(typeof this.queries.fetchRecords=="function"&&typeof this.queries.countRecords=="function"){let[o,a]=yield Promise.all([this.singleQuery(this.queries.fetchRecords(s),r),this.singleQuery(this.queries.countRecords(s),r)]);return o.baseQuery=this.queries.fetchRecords.raw,o.pageSize=n,o.page=i,o.total=Number(a.results[0].total),o.queryType="showRecords",o.queryParams=t,[o]}return this.query(this.queries.fetchRecords(s),r)})}checkDependencies(){return oi(this,void 0,void 0,function*(){if(!(!this.deps||this.deps.length===0)){if(Number(process.env.IS_NODE_RUNTIME||"0")!==1)throw new BI.default;this.deps.forEach(t=>{let r=!1;switch(t.type){case fn.CONSTANTS.DEPENDENCY_PACKAGE:try{let{version:n}=JSON.parse(HI.default.readFileSync(this.resolveDep(t.name+"/package.json")).toString());if(t.version&&n!==t.version)throw r=!0,new Error(`Version not matching. We need to upgrade ${t.name}`);this.requireDep(t.name)}catch(n){throw new jI.default(this.deps,this.credentials,r)}break}})}})}getChildrenForItem(t){return this.log.error(`###### Attention ######getChildrenForItem not implemented for ${this.credentials.driver}
####################`),Promise.resolve([])}searchItems(t,r,n){return this.log.error(`###### Attention ######searchItems not implemented for ${this.credentials.driver}
####################`),Promise.resolve([])}toAbsolutePath(t){return oi(this,void 0,void 0,function*(){if(!sg.default.isAbsolute(t)&&/\$\{workspaceFolder:(.+)}/g.test(t)){let r=t.match(/\$\{workspaceFolder:(.+)}/)[1];if(r){let i=(yield this.getWorkspaceFolders()).find(s=>s.name===r);t=sg.default.resolve(GI.URI.parse(i.uri,!0).fsPath,t.replace(/\$\{workspaceFolder:(.+)}/g,"./"))}}return t})}prepareMessage(t){return{message:t.toString(),date:new Date}}};ct.default=fn;fn.CONSTANTS={DEPENDENCY_PACKAGE:"package",DEPENDENCY_NPM_SCRIPT:"npmscript"}});var ug=_((QD,ag)=>{var $I=typeof global=="object"&&global&&global.Object===Object&&global;ag.exports=$I});var Kc=_((YD,cg)=>{var VI=ug(),QI=typeof self=="object"&&self&&self.Object===Object&&self,YI=VI||QI||Function("return this")();cg.exports=YI});var Jc=_((zD,lg)=>{var zI=Kc(),XI=zI.Symbol;lg.exports=XI});var pg=_((XD,dg)=>{var fg=Jc(),hg=Object.prototype,KI=hg.hasOwnProperty,JI=hg.toString,ai=fg?fg.toStringTag:void 0;function ZI(e){var t=KI.call(e,ai),r=e[ai];try{e[ai]=void 0;var n=!0}catch(s){}var i=JI.call(e);return n&&(t?e[ai]=r:delete e[ai]),i}dg.exports=ZI});var mg=_((KD,Eg)=>{var e1=Object.prototype,t1=e1.toString;function r1(e){return t1.call(e)}Eg.exports=r1});var Tg=_((JD,yg)=>{var gg=Jc(),n1=pg(),i1=mg(),s1="[object Null]",o1="[object Undefined]",vg=gg?gg.toStringTag:void 0;function a1(e){return e==null?e===void 0?o1:s1:vg&&vg in Object(e)?n1(e):i1(e)}yg.exports=a1});var Zc=_((ZD,_g)=>{function u1(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}_g.exports=u1});var Sg=_((eM,Rg)=>{var c1=Tg(),l1=Zc(),f1="[object AsyncFunction]",h1="[object Function]",d1="[object GeneratorFunction]",p1="[object Proxy]";function E1(e){if(!l1(e))return!1;var t=c1(e);return t==h1||t==d1||t==f1||t==p1}Rg.exports=E1});var Og=_((tM,Ng)=>{var m1=Kc(),g1=m1["__core-js_shared__"];Ng.exports=g1});var bg=_((rM,Ag)=>{var el=Og(),Cg=function(){var e=/[^.]+$/.exec(el&&el.keys&&el.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function v1(e){return!!Cg&&Cg in e}Ag.exports=v1});var wg=_((nM,Ig)=>{var y1=Function.prototype,T1=y1.toString;function _1(e){if(e!=null){try{return T1.call(e)}catch(t){}try{return e+""}catch(t){}}return""}Ig.exports=_1});var Pg=_((iM,Lg)=>{var R1=Sg(),S1=bg(),N1=Zc(),O1=wg(),C1=/[\\^$.*+?()[\]{}|]/g,A1=/^\[object .+?Constructor\]$/,b1=Function.prototype,I1=Object.prototype,w1=b1.toString,L1=I1.hasOwnProperty,P1=RegExp("^"+w1.call(L1).replace(C1,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function D1(e){if(!N1(e)||S1(e))return!1;var t=R1(e)?P1:A1;return t.test(O1(e))}Lg.exports=D1});var Mg=_((sM,Dg)=>{function M1(e,t){return e==null?void 0:e[t]}Dg.exports=M1});var xg=_((oM,kg)=>{var k1=Pg(),x1=Mg();function q1(e,t){var r=x1(e,t);return k1(r)?r:void 0}kg.exports=q1});var Fg=_((aM,qg)=>{var F1=xg(),U1=function(){try{var e=F1(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();qg.exports=U1});var jg=_((uM,Bg)=>{var Ug=Fg();function B1(e,t,r){t=="__proto__"&&Ug?Ug(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}Bg.exports=B1});var Hg=_((cM,Wg)=>{function j1(e,t){return e===t||e!==e&&t!==t}Wg.exports=j1});var $g=_((lM,Gg)=>{var W1=jg(),H1=Hg(),G1=Object.prototype,$1=G1.hasOwnProperty;function V1(e,t,r){var n=e[t];(!($1.call(e,t)&&H1(n,r))||r===void 0&&!(t in e))&&W1(e,t,r)}Gg.exports=V1});var Qg=_((fM,Vg)=>{function Q1(e,t,r){for(var n=-1,i=e.length,s=t.length,o={};++n<i;){var a=n<s?t[n]:void 0;r(o,e[n],a)}return o}Vg.exports=Q1});var zg=_((hM,Yg)=>{var Y1=$g(),z1=Qg();function X1(e,t){return z1(e||[],t||[],Y1)}Yg.exports=X1});var il=_(nl=>{"use strict";Object.defineProperty(nl,"__esModule",{value:!0});nl.default=tw;var J1=Z1(require("crypto"));function Z1(e){return e&&e.__esModule?e:{default:e}}var ew=new Uint8Array(16);function tw(){return J1.default.randomFillSync(ew)}});var Jg=_(xs=>{"use strict";Object.defineProperty(xs,"__esModule",{value:!0});xs.default=void 0;var rw=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;xs.default=rw});var ui=_(qs=>{"use strict";Object.defineProperty(qs,"__esModule",{value:!0});qs.default=void 0;var nw=iw(Jg());function iw(e){return e&&e.__esModule?e:{default:e}}function sw(e){return typeof e=="string"&&nw.default.test(e)}var ow=sw;qs.default=ow});var ci=_(Fs=>{"use strict";Object.defineProperty(Fs,"__esModule",{value:!0});Fs.default=void 0;var aw=uw(ui());function uw(e){return e&&e.__esModule?e:{default:e}}var $e=[];for(let e=0;e<256;++e)$e.push((e+256).toString(16).substr(1));function cw(e,t=0){let r=($e[e[t+0]]+$e[e[t+1]]+$e[e[t+2]]+$e[e[t+3]]+"-"+$e[e[t+4]]+$e[e[t+5]]+"-"+$e[e[t+6]]+$e[e[t+7]]+"-"+$e[e[t+8]]+$e[e[t+9]]+"-"+$e[e[t+10]]+$e[e[t+11]]+$e[e[t+12]]+$e[e[t+13]]+$e[e[t+14]]+$e[e[t+15]]).toLowerCase();if(!(0,aw.default)(r))throw TypeError("Stringified UUID is invalid");return r}var lw=cw;Fs.default=lw});var tv=_(Us=>{"use strict";Object.defineProperty(Us,"__esModule",{value:!0});Us.default=void 0;var fw=ev(il()),hw=ev(ci());function ev(e){return e&&e.__esModule?e:{default:e}}var Zg,sl,ol=0,al=0;function dw(e,t,r){let n=t&&r||0,i=t||new Array(16);e=e||{};let s=e.node||Zg,o=e.clockseq!==void 0?e.clockseq:sl;if(s==null||o==null){let g=e.random||(e.rng||fw.default)();s==null&&(s=Zg=[g[0]|1,g[1],g[2],g[3],g[4],g[5]]),o==null&&(o=sl=(g[6]<<8|g[7])&16383)}let a=e.msecs!==void 0?e.msecs:Date.now(),u=e.nsecs!==void 0?e.nsecs:al+1,c=a-ol+(u-al)/1e4;if(c<0&&e.clockseq===void 0&&(o=o+1&16383),(c<0||a>ol)&&e.nsecs===void 0&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");ol=a,al=u,sl=o,a+=122192928e5;let d=((a&268435455)*1e4+u)%4294967296;i[n++]=d>>>24&255,i[n++]=d>>>16&255,i[n++]=d>>>8&255,i[n++]=d&255;let E=a/4294967296*1e4&268435455;i[n++]=E>>>8&255,i[n++]=E&255,i[n++]=E>>>24&15|16,i[n++]=E>>>16&255,i[n++]=o>>>8|128,i[n++]=o&255;for(let g=0;g<6;++g)i[n+g]=s[g];return t||(0,hw.default)(i)}var pw=dw;Us.default=pw});var ul=_(Bs=>{"use strict";Object.defineProperty(Bs,"__esModule",{value:!0});Bs.default=void 0;var Ew=mw(ui());function mw(e){return e&&e.__esModule?e:{default:e}}function gw(e){if(!(0,Ew.default)(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var vw=gw;Bs.default=vw});var cl=_(wr=>{"use strict";Object.defineProperty(wr,"__esModule",{value:!0});wr.default=Rw;wr.URL=wr.DNS=void 0;var yw=rv(ci()),Tw=rv(ul());function rv(e){return e&&e.__esModule?e:{default:e}}function _w(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}var nv="6ba7b810-9dad-11d1-80b4-00c04fd430c8";wr.DNS=nv;var iv="6ba7b811-9dad-11d1-80b4-00c04fd430c8";wr.URL=iv;function Rw(e,t,r){function n(i,s,o,a){if(typeof i=="string"&&(i=_w(i)),typeof s=="string"&&(s=(0,Tw.default)(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+i.length);if(u.set(s),u.set(i,s.length),u=r(u),u[6]=u[6]&15|t,u[8]=u[8]&63|128,o){a=a||0;for(let c=0;c<16;++c)o[a+c]=u[c];return o}return(0,yw.default)(u)}try{n.name=e}catch(i){}return n.DNS=nv,n.URL=iv,n}});var sv=_(js=>{"use strict";Object.defineProperty(js,"__esModule",{value:!0});js.default=void 0;var Sw=Nw(require("crypto"));function Nw(e){return e&&e.__esModule?e:{default:e}}function Ow(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),Sw.default.createHash("md5").update(e).digest()}var Cw=Ow;js.default=Cw});var av=_(Ws=>{"use strict";Object.defineProperty(Ws,"__esModule",{value:!0});Ws.default=void 0;var Aw=ov(cl()),bw=ov(sv());function ov(e){return e&&e.__esModule?e:{default:e}}var Iw=(0,Aw.default)("v3",48,bw.default),ww=Iw;Ws.default=ww});var cv=_(Hs=>{"use strict";Object.defineProperty(Hs,"__esModule",{value:!0});Hs.default=void 0;var Lw=uv(il()),Pw=uv(ci());function uv(e){return e&&e.__esModule?e:{default:e}}function Dw(e,t,r){e=e||{};let n=e.random||(e.rng||Lw.default)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let i=0;i<16;++i)t[r+i]=n[i];return t}return(0,Pw.default)(n)}var Mw=Dw;Hs.default=Mw});var lv=_(Gs=>{"use strict";Object.defineProperty(Gs,"__esModule",{value:!0});Gs.default=void 0;var kw=xw(require("crypto"));function xw(e){return e&&e.__esModule?e:{default:e}}function qw(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),kw.default.createHash("sha1").update(e).digest()}var Fw=qw;Gs.default=Fw});var hv=_($s=>{"use strict";Object.defineProperty($s,"__esModule",{value:!0});$s.default=void 0;var Uw=fv(cl()),Bw=fv(lv());function fv(e){return e&&e.__esModule?e:{default:e}}var jw=(0,Uw.default)("v5",80,Bw.default),Ww=jw;$s.default=Ww});var dv=_(Vs=>{"use strict";Object.defineProperty(Vs,"__esModule",{value:!0});Vs.default=void 0;var Hw="00000000-0000-0000-0000-000000000000";Vs.default=Hw});var pv=_(Qs=>{"use strict";Object.defineProperty(Qs,"__esModule",{value:!0});Qs.default=void 0;var Gw=$w(ui());function $w(e){return e&&e.__esModule?e:{default:e}}function Vw(e){if(!(0,Gw.default)(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}var Qw=Vw;Qs.default=Qw});var Ev=_(At=>{"use strict";Object.defineProperty(At,"__esModule",{value:!0});Object.defineProperty(At,"v1",{enumerable:!0,get:function(){return Yw.default}});Object.defineProperty(At,"v3",{enumerable:!0,get:function(){return zw.default}});Object.defineProperty(At,"v4",{enumerable:!0,get:function(){return Xw.default}});Object.defineProperty(At,"v5",{enumerable:!0,get:function(){return Kw.default}});Object.defineProperty(At,"NIL",{enumerable:!0,get:function(){return Jw.default}});Object.defineProperty(At,"version",{enumerable:!0,get:function(){return Zw.default}});Object.defineProperty(At,"validate",{enumerable:!0,get:function(){return eL.default}});Object.defineProperty(At,"stringify",{enumerable:!0,get:function(){return tL.default}});Object.defineProperty(At,"parse",{enumerable:!0,get:function(){return rL.default}});var Yw=Kt(tv()),zw=Kt(av()),Xw=Kt(cv()),Kw=Kt(hv()),Jw=Kt(dv()),Zw=Kt(pv()),eL=Kt(ui()),tL=Kt(ci()),rL=Kt(ul());function Kt(e){return e&&e.__esModule?e:{default:e}}});var sL={};bv(sL,{default:()=>iL});module.exports=Iv(sL);var Jt=Zt(Zo());var mt=Zt(vh());var _a=e=>/[^a-z0-9_]/.test(e.label||e)?`"${e.label||e}"`:e.label||e;function UT(e){let t=[],r=typeof e=="string"?{label:e}:e;return r.database&&t.push(_a(r.database)),r.schema&&t.push(_a(r.schema)),t.push(_a(r.label)),t.join(".")}var Ra=UT;var rt=Zt(Sa()),BT=mt.default`
SELECT * FROM INFORMATION_SCHEMA.COLUMNS
WHERE
  TABLE_NAME = '${e=>e.label}'
  AND TABLE_CATALOG = '${e=>e.database}'
  AND TABLE_SCHEMA = '${e=>e.schema}'`,jT=mt.default`
SELECT
  C.COLUMN_NAME AS label,
  '${rt.ContextValue.COLUMN}' as type,
  C.TABLE_NAME AS table,
  C.DATA_TYPE AS "dataType",
  UPPER(C.DATA_TYPE || (
    CASE WHEN C.CHARACTER_MAXIMUM_LENGTH > 0 THEN (
      '(' || C.CHARACTER_MAXIMUM_LENGTH || ')'
    ) ELSE '' END
  )) AS "detail",
  C.CHARACTER_MAXIMUM_LENGTH::INT AS size,
  C.TABLE_CATALOG AS database,
  C.TABLE_SCHEMA AS schema,
  C.COLUMN_DEFAULT AS "defaultValue",
  C.IS_NULLABLE AS "isNullable",
  (CASE WHEN LOWER(TC.constraint_type) = 'primary key' THEN TRUE ELSE FALSE END) as "isPk",
  (CASE WHEN LOWER(TC.constraint_type) = 'foreign key' THEN TRUE ELSE FALSE END) as "isFk"
FROM
  INFORMATION_SCHEMA.COLUMNS C
LEFT JOIN information_schema.key_column_usage KC ON KC.table_name = C.table_name
  AND KC.table_schema = C.table_schema
  AND KC.column_name = C.column_name
LEFT JOIN information_schema.table_constraints TC ON KC.table_name = TC.table_name
  AND KC.table_schema = TC.table_schema
  AND KC.constraint_name = TC.constraint_name
JOIN INFORMATION_SCHEMA.TABLES AS T ON C.TABLE_NAME = T.TABLE_NAME
  AND C.TABLE_SCHEMA = T.TABLE_SCHEMA
  AND C.TABLE_CATALOG = T.TABLE_CATALOG
WHERE
  C.TABLE_SCHEMA = '${e=>e.schema}'
  AND C.TABLE_NAME = '${e=>e.label}'
  AND C.TABLE_CATALOG = '${e=>e.database}'
ORDER BY
  C.TABLE_NAME,
  C.ORDINAL_POSITION
`,WT=mt.default`
SELECT *
FROM ${e=>Ra(e.table)}
LIMIT ${e=>e.limit||50}
OFFSET ${e=>e.offset||0};
`,HT=mt.default`
SELECT count(1) AS total
FROM ${e=>Ra(e.table)};
`,GT=mt.default`
SELECT
  '${rt.ContextValue.FUNCTION}' as type,
  f.proname AS name,
  f.proname AS label,
  quote_ident(f.proname) || '(' || oidvectortypes(f.proargtypes)::TEXT || ')' AS detail,
  n.nspname AS schema,
  current_database() AS database,
  quote_ident(n.nspname) || '.' || quote_ident(f.proname) AS signature,
  format_type(f.prorettype, null) AS "resultType",
  oidvectortypes(f.proargtypes) AS args,
  proargnames AS "argsNames",
  f.prosrc AS source,
  'function' as "iconName",
  '${rt.ContextValue.NO_CHILD}' as "childType"
FROM
  pg_catalog.pg_proc AS f
INNER JOIN pg_catalog.pg_namespace AS n on n.oid = f.pronamespace
WHERE
  n.nspname = '${e=>e.schema}'
ORDER BY name
;`,_h=(e,t="BASE TABLE")=>mt.default`
SELECT
  T.TABLE_NAME AS label,
  '${e}' as type,
  T.TABLE_SCHEMA AS schema,
  T.TABLE_CATALOG AS database,
  ${e===rt.ContextValue.VIEW?"TRUE":"FALSE"} AS isView
FROM INFORMATION_SCHEMA.TABLES AS T
WHERE
  T.TABLE_SCHEMA = '${r=>r.schema}'
  AND T.TABLE_CATALOG = '${r=>r.database}'
  AND T.TABLE_TYPE = '${t}'
ORDER BY
  T.TABLE_NAME;
`,$T=mt.default`
SELECT
  T.TABLE_NAME AS label,
  (CASE WHEN T.TABLE_TYPE = 'BASE TABLE' THEN '${rt.ContextValue.TABLE}' ELSE '${rt.ContextValue.VIEW}' END) as type,
  T.TABLE_SCHEMA AS schema,
  T.TABLE_CATALOG AS database,
  (CASE WHEN T.TABLE_TYPE = 'BASE TABLE' THEN FALSE ELSE TRUE END) AS "isView",
  (CASE WHEN T.TABLE_TYPE = 'BASE TABLE' THEN 'table' ELSE 'view' END) AS description,
  ('"' || T.TABLE_CATALOG || '"."' || T.TABLE_SCHEMA || '"."' || T.TABLE_NAME || '"') as detail
FROM INFORMATION_SCHEMA.TABLES AS T
WHERE
  T.TABLE_SCHEMA !~ '^pg_'
  AND T.TABLE_SCHEMA <> 'information_schema'
  ${e=>e.search?`AND (
    (T.TABLE_CATALOG || '.' || T.TABLE_SCHEMA || '.' || T.TABLE_NAME) ILIKE '%${e.search}%'
    OR ('"' || T.TABLE_CATALOG || '"."' || T.TABLE_SCHEMA || '"."' || T.TABLE_NAME || '"') ILIKE '%${e.search}%'
    OR T.TABLE_NAME ILIKE '%${e.search}%'
  )`:""}
ORDER BY
  T.TABLE_NAME
LIMIT ${e=>e.limit||100};
`,VT=mt.default`
SELECT
  C.COLUMN_NAME AS label,
  '${rt.ContextValue.COLUMN}' as type,
  C.TABLE_NAME AS table,
  C.DATA_TYPE AS "dataType",
  C.CHARACTER_MAXIMUM_LENGTH::INT AS size,
  C.TABLE_CATALOG AS database,
  C.TABLE_SCHEMA AS schema,
  C.COLUMN_DEFAULT AS defaultValue,
  C.IS_NULLABLE AS isNullable,
  (CASE WHEN LOWER(TC.constraint_type) = 'primary key' THEN TRUE ELSE FALSE END) as "isPk",
  (CASE WHEN LOWER(TC.constraint_type) = 'foreign key' THEN TRUE ELSE FALSE END) as "isFk"
FROM
  INFORMATION_SCHEMA.COLUMNS C
LEFT JOIN information_schema.key_column_usage KC ON KC.table_name = C.table_name
  AND KC.table_schema = C.table_schema
  AND KC.column_name = C.column_name
LEFT JOIN information_schema.table_constraints TC ON KC.table_name = TC.table_name
  AND KC.table_schema = TC.table_schema
  AND KC.constraint_name = TC.constraint_name
JOIN INFORMATION_SCHEMA.TABLES AS T ON C.TABLE_NAME = T.TABLE_NAME
  AND C.TABLE_SCHEMA = T.TABLE_SCHEMA
  AND C.TABLE_CATALOG = T.TABLE_CATALOG
WHERE
  C.TABLE_SCHEMA !~ '^pg_'
  AND C.TABLE_SCHEMA <> 'information_schema'
  ${e=>e.tables.filter(t=>!!t.label).length?`AND LOWER(C.TABLE_NAME) IN (${e.tables.filter(t=>!!t.label).map(t=>`'${t.label}'`.toLowerCase()).join(", ")})`:""}
  ${e=>e.search?`AND (
      (C.TABLE_NAME || '.' || C.COLUMN_NAME) ILIKE '%${e.search}%'
      OR C.COLUMN_NAME ILIKE '%${e.search}%'
    )`:""}
ORDER BY
  C.TABLE_NAME,
  C.ORDINAL_POSITION
LIMIT ${e=>e.limit||100}
`,QT=_h(rt.ContextValue.TABLE),YT=_h(rt.ContextValue.VIEW,"VIEW"),zT=mt.default`
SELECT
  '${rt.ContextValue.MATERIALIZED_VIEW}' as type,
  (current_database())::information_schema.sql_identifier AS database,
  (nc.nspname)::information_schema.sql_identifier AS schema,
  (c.relname)::information_schema.sql_identifier AS label,
  'view' AS "iconName",
  '${rt.ContextValue.NO_CHILD}' as "childType"
FROM pg_namespace nc,
  pg_class c
WHERE
  nc.nspname = '${e=>e.schema}'
  AND (
    (c.relnamespace = nc.oid)
    AND (c.relkind = 'm'::"char")
    AND (NOT pg_is_other_temp_schema(nc.oid))
    AND (
      pg_has_role(c.relowner, 'USAGE'::text)
      OR has_table_privilege(
        c.oid,
        'SELECT, INSERT, UPDATE, DELETE, TRUNCATE, REFERENCES, TRIGGER'::text
      )
      OR has_any_column_privilege(
        c.oid,
        'SELECT, INSERT, UPDATE, REFERENCES'::text
      )
    )
  );
`,XT=mt.default`
SELECT
  db.*,
  db.datname as "label",
  db.datname as "database",
  '${rt.ContextValue.DATABASE}' as "type",
  'database' as "detail"
FROM pg_catalog.pg_database db
WHERE
  datallowconn
  AND NOT datistemplate
  AND db.datname = CURRENT_DATABASE()
ORDER BY
  db.datname;
`,KT=mt.default`
SELECT
  schema_name AS label,
  schema_name AS schema,
  '${rt.ContextValue.SCHEMA}' as "type",
  'group-by-ref-type' as "iconId",
  catalog_name as database
FROM information_schema.schemata
WHERE
  schema_name !~ '^pg_'
  AND schema_name <> 'information_schema'
  AND catalog_name = '${e=>e.database}'
ORDER BY
  schema_name;
`,Rh={describeTable:BT,countRecords:HT,fetchColumns:jT,fetchRecords:WT,fetchTables:QT,fetchViews:YT,fetchFunctions:GT,fetchDatabases:XT,fetchSchemas:KT,fetchMaterializedViews:zT,searchTables:$T,searchColumns:VT};var Oe=Zt(Sa()),gv=Zt(og()),vv=Zt(require("fs")),yv=Zt(zg());var K1=/[\\^$.*+?()[\]{}|]/g,dM=RegExp(K1.source);var yt=class{static parse(t,r="mysql"){r==="mssql"&&(t=t.replace(/^[ \t]*GO;?[ \t]*$/gim,""));let n=";",i=[],s=!0,o;for(;s;){o==null&&(o=t);let a=yt.getStatements(o,r,n),u=a[0];if(u!=null&&u.trim()!=""&&i.push(u),o=a[1],o==null||o.trim()=="")break}return i}static getStatements(t,r,n){let i=null,s=!1,o=!1,a=!1,u=null,c=null,d=null,E=null,g=Array.from(t),R=[];for(let b=0;b<g.length;b++){let x=g[b];if(b>0&&(i=g[b-1]),b<g.length&&(u=g[b+1]),i!="\\"&&(x=="'"||x=='"')&&o==!1&&s==!1){o=!0,d=x;continue}if((x=="#"&&u==" "||x=="-"&&u=="-"||x=="/"&&u=="*")&&o==!1){s=!0,c=x;continue}if(s==!0&&((c=="#"||c=="-")&&x==`
`||c=="/"&&x=="*"&&u=="/")){s=!1,c=null;continue}if(i!="\\"&&x==d&&o==!0){o=!1,d=null;continue}if(x.toLowerCase()=="d"&&s==!1&&o==!1){let G=yt.getDelimiter(b,t,r);if(G!=null){let B=G[0],ee=G[1];t=t.substring(ee),R=yt.getStatements(t,r,B);break}}if(x=="$"&&s==!1&&o==!1){let G=t.substring(b);if(a==!1){let B=yt.getTag(G,r);B!=null&&(a=!0,E=B[0])}else{let B=yt.getTag(G,r);B!=null&&B[0]==E&&(a=!1)}}if(r==="mssql"&&x.toLowerCase()==="g"&&`${g[b+1]||""}`.toLowerCase()==="o"&&typeof g[b+2]!="undefined"&&/go\b/gi.test(`${x}${g[b+1]}${g[b+2]}`)&&(x=`${x}${g[b+1]}`),(x.toLowerCase()===n.toLowerCase()||x.toLowerCase()==="go")&&o==!1&&s==!1&&a==!1){let G=b+1;if(r==="mssql"&&x.toLowerCase()==="go"){G=b,R=yt.getQueryParts(t,G,2);break}R=yt.getQueryParts(t,G,0);break}}return R.length==0&&(t!=null&&(t=t.trim()),R.push(t,null)),R}static getQueryParts(t,r,n=1){let i=t.substring(0,r),s=t.substring(r+n),o=[];return i!=null&&(i=i.trim()),o.push(i),o.push(s),o}static getDelimiter(t,r,n){if(n=="mysql"){let i="delimiter ",s=i.length,o=r.substring(t);if(o.toLowerCase().indexOf(i)==0){let u=r.substring(t),c=u.indexOf(`
`);c==-1&&(c=r.length),u=u.substring(0,c),u=u.substring(s);let d=u.trim();if(d=yt.clearTextUntilComment(d),d!=null){d=d.trim();let E=o.indexOf(d)+t+d.length,g=[];return g.push(d),g.push(E),g}else return null}else return null}}static getTag(t,r){if(r=="pg"){let n=t.match(/^(\$[a-zA-Z]*\$)/i);if(n!=null&&n.length>1){let i=[],s=n[1].trim(),o=t.indexOf(s);return i.push(s),i.push(o),i}else return null}}static isGoDelimiter(t,r,n){if(t=="mssql"){let i=/(?:\bgo\b\s*)/i.exec(r);return i!=null&&i.index==n}}static clearTextUntilComment(t){let r=null,n=null,i=Array.from(t);for(let s=0;s<i.length;s++){let o=i[s];if(s<i.length&&(r=i[s+1]),o=="#"&&r==" "||o=="-"&&r=="-"||o=="/"&&r=="*")break;n==null&&(n=""),n+=o}return n}},Xg=yt.parse;function Kg(e,t="mysql"){return Xg(e,t)}var qt=Zt(Ev(),1),wk=qt.default.v1,Lk=qt.default.v3,mv=qt.default.v4,Pk=qt.default.v5,Dk=qt.default.NIL,Mk=qt.default.version,kk=qt.default.validate,xk=qt.default.stringify,qk=qt.default.parse;var ll=mv;var fl=e=>e;Jt.types.setTypeParser(Jt.types.builtins.TIMESTAMP||1114,fl);Jt.types.setTypeParser(Jt.types.builtins.TIMESTAMPTZ||1184,fl);Jt.types.setTypeParser(Jt.types.builtins.DATE||1082,fl);var li=class extends gv.default{constructor(){super(...arguments);ft(this,"queries",Rh);ft(this,"query",(r,n={})=>{let i=[],s,{requestId:o}=n;return this.open().then(a=>ht(this,null,function*(){s=yield a.connect(),s.on("notice",c=>i.push(this.prepareMessage(`${c.name.toUpperCase()}: ${c.message}`)));let u=yield s.query({text:r.toString(),rowMode:"array"});return s.release(),u})).then(a=>{let u=Kg(r.toString(),"pg");return Array.isArray(a)||(a=[a]),a.map((c,d)=>{let E=this.getColumnNames(c.fields||[]);return{requestId:o,resultId:ll(),connId:this.getId(),cols:E,messages:i.concat([this.prepareMessage(`${c.command} successfully executed.${c.command.toLowerCase()!=="select"&&typeof c.rowCount=="number"?` ${c.rowCount} rows were affected.`:""}`)]),query:u[d],results:this.mapRows(c.rows,E)}})}).catch(a=>(s&&s.release(),[{connId:this.getId(),requestId:o,resultId:ll(),cols:[],messages:i.concat([this.prepareMessage([a&&a.message||a,a&&a.routine==="scanner_yyerror"&&a.position?`at character ${a.position}`:void 0].filter(Boolean).join(" "))]),error:!0,rawError:a,query:r,results:[]}]))});ft(this,"completionsCache",null);ft(this,"getStaticCompletions",()=>ht(this,null,function*(){return this.completionsCache?this.completionsCache:(this.completionsCache={},(yield this.queryResults("SELECT UPPER(word) AS label, UPPER(catdesc) AS desc FROM pg_get_keywords();")).forEach(n=>{this.completionsCache[n.label]={label:n.label,detail:n.label,filterText:n.label,sortText:(["SELECT","CREATE","UPDATE","DELETE"].includes(n.label)?"2:":"")+n.label,documentation:{value:`\`\`\`yaml
WORD: ${n.label}
TYPE: ${n.desc}
\`\`\``,kind:"markdown"}}}),this.completionsCache)}))}open(){return ht(this,null,function*(){if(this.connection)return this.connection;try{let r=this.credentials.pgOptions||{},{ssl:n}=r,i=ro(r,["ssl"]),s=ot({connectionTimeoutMillis:Number(`${this.credentials.connectionTimeout||0}`)*1e3},i);if(this.credentials.connectString?s=ot({connectionString:this.credentials.connectString},s):s=ot({database:this.credentials.database,host:this.credentials.server,password:this.credentials.password,port:this.credentials.port,user:this.credentials.username},s),n)if(typeof n=="object"){let u=ot({},n);["ca","key","cert","pfx"].forEach(c=>{if(!u[c]){delete u[c];return}this.log.info(`Reading file ${u[c].replace(/^file:\/\//,"")}`),u[c]=vv.default.readFileSync(u[c].replace(/^file:\/\//,"")).toString()}),Object.keys(u).length>0&&(s.ssl=u)}else s.ssl=n||!1;let o=new Jt.Pool(s);return(yield o.connect()).release(),this.connection=Promise.resolve(o),this.connection}catch(n){return Promise.reject(n)}})}close(){return ht(this,null,function*(){if(!this.connection)return Promise.resolve();let r=yield this.connection;this.connection=null,r.end()})}getColumnNames(r){return r.reduce((n,{name:i})=>{let s=n.filter(o=>o===i).length;return n.concat(s>0?`${i} (${s})`:i)},[])}mapRows(r,n){return r.map(i=>(0,yv.default)(n,i))}getColumns(r){return ht(this,null,function*(){return(yield this.queryResults(this.queries.fetchColumns(r))).map(i=>mn(ot({},i),{iconName:i.isPk?"pk":i.isFk?"fk":null,childType:Oe.ContextValue.NO_CHILD,table:r}))})}testConnection(){return ht(this,null,function*(){let n=yield(yield this.open()).connect();yield n.query("SELECT 1"),n.release()})}getChildrenForItem(i){return ht(this,arguments,function*({item:r,parent:n}){switch(r.type){case Oe.ContextValue.CONNECTION:case Oe.ContextValue.CONNECTED_CONNECTION:return this.queryResults(this.queries.fetchDatabases());case Oe.ContextValue.TABLE:case Oe.ContextValue.VIEW:case Oe.ContextValue.MATERIALIZED_VIEW:return this.getColumns(r);case Oe.ContextValue.DATABASE:return[{label:"Schemas",type:Oe.ContextValue.RESOURCE_GROUP,iconId:"folder",childType:Oe.ContextValue.SCHEMA}];case Oe.ContextValue.RESOURCE_GROUP:return this.getChildrenForGroup({item:r,parent:n});case Oe.ContextValue.SCHEMA:return[{label:"Tables",type:Oe.ContextValue.RESOURCE_GROUP,iconId:"folder",childType:Oe.ContextValue.TABLE},{label:"Views",type:Oe.ContextValue.RESOURCE_GROUP,iconId:"folder",childType:Oe.ContextValue.VIEW},{label:"Materialized Views",type:Oe.ContextValue.RESOURCE_GROUP,iconId:"folder",childType:Oe.ContextValue.MATERIALIZED_VIEW},{label:"Functions",type:Oe.ContextValue.RESOURCE_GROUP,iconId:"folder",childType:Oe.ContextValue.FUNCTION}]}return[]})}getChildrenForGroup(i){return ht(this,arguments,function*({parent:r,item:n}){switch(n.childType){case Oe.ContextValue.SCHEMA:return this.queryResults(this.queries.fetchSchemas(r));case Oe.ContextValue.TABLE:return this.queryResults(this.queries.fetchTables(r));case Oe.ContextValue.VIEW:return this.queryResults(this.queries.fetchViews(r));case Oe.ContextValue.MATERIALIZED_VIEW:return this.queryResults(this.queries.fetchMaterializedViews(r));case Oe.ContextValue.FUNCTION:return this.queryResults(this.queries.fetchFunctions(r))}return[]})}searchItems(r,n,i={}){switch(r){case Oe.ContextValue.TABLE:return this.queryResults(this.queries.searchTables({search:n}));case Oe.ContextValue.COLUMN:return this.queryResults(this.queries.searchColumns(ot({search:n},i)))}}};var Tv=[{displayName:"PostgreSQL",value:"PostgreSQL"},{displayName:"AWS Redshift",value:"AWS Redshift"},{displayName:"CockroachDB",value:"CockroachDB"}];var nL={register(e){Tv.forEach(({value:t})=>{e.getContext().drivers.set(t,li)})}},iL=nL;0&&(module.exports={});
